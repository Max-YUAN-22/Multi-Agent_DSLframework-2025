{"ast":null,"code":"var _jsxFileName = \"/Users/Apple/Desktop/multi-agent-dsl-final/frontend/src/App.jsx\",\n  _s = $RefreshSig$();\n// src/App.jsx\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport axios from \"axios\";\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from \"recharts\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || process.env.REACT_APP_API_URL || \"http://127.0.0.1:8000\";\nconst WS_URL = process.env.REACT_APP_WS_URL || \"ws://127.0.0.1:8000/ws\";\nfunction App() {\n  _s();\n  // --- 表单状态（自动驾驶） ---\n  const [location, setLocation] = useState(\"\");\n  const [trafficCondition, setTrafficCondition] = useState(\"normal\");\n  const [incidentDetected, setIncidentDetected] = useState(false);\n  const [vehicleSpeed, setVehicleSpeed] = useState(\"\");\n  const [sending, setSending] = useState(false);\n  const [resp, setResp] = useState(\"\");\n\n  // --- 其它 Agent 的小表单 ---\n  const [weather, setWeather] = useState({\n    alert_type: \"\",\n    area: \"\"\n  });\n  const [parking, setParking] = useState({\n    location: \"\",\n    available_spots: \"\"\n  });\n  const [safety, setSafety] = useState({\n    location: \"\",\n    safety_status: \"ok\"\n  });\n\n  // --- 最近记录 & 图表数据 ---\n  const [recent, setRecent] = useState([]); // {title, type, payload, ts}\n  const [series, setSeries] = useState([]); // [{t, speed}]\n  const wsRef = useRef(null);\n\n  // 简单校验\n  const errors = useMemo(() => {\n    const e = {};\n    if (!location.trim()) e.location = \"Location 不能为空\";\n    const v = Number(vehicleSpeed);\n    if (Number.isNaN(v)) e.speed = \"请输入数字\";else if (v < 0 || v > 200) e.speed = \"范围 0~200\";\n    return e;\n  }, [location, vehicleSpeed]);\n\n  // WebSocket 订阅\n  useEffect(() => {\n    const ws = new WebSocket(WS_URL);\n    wsRef.current = ws;\n    ws.onopen = () => {\n      // 可选：握手心跳\n      try {\n        ws.send(\"hi\");\n      } catch {}\n    };\n    ws.onmessage = evt => {\n      try {\n        var _msg$payload;\n        const msg = JSON.parse(evt.data);\n        const item = {\n          ...msg,\n          ts: new Date().toLocaleTimeString()\n        };\n        setRecent(prev => [item, ...prev].slice(0, 30));\n\n        // 如果是自动驾驶事件，喂给图表\n        if (msg.type === \"autonomous_driving\" && ((_msg$payload = msg.payload) === null || _msg$payload === void 0 ? void 0 : _msg$payload.vehicle_speed) != null) {\n          setSeries(prev => [...prev.slice(-49), {\n            t: item.ts,\n            speed: Number(msg.payload.vehicle_speed)\n          }]);\n        }\n      } catch {\n        // ignore\n      }\n    };\n    ws.onclose = () => {};\n    ws.onerror = () => {};\n    return () => {\n      try {\n        ws.close();\n      } catch {}\n    };\n  }, []);\n\n  // 提交：自动驾驶\n  const submitAutonomous = async e => {\n    e.preventDefault();\n    if (Object.keys(errors).length > 0) return;\n    const data = {\n      location: location.trim(),\n      traffic_condition: trafficCondition,\n      incident_detected: incidentDetected,\n      vehicle_speed: Number(vehicleSpeed)\n    };\n    setSending(true);\n    setResp(\"\");\n    try {\n      var _r$data$status, _r$data;\n      const r = await axios.post(`${API_BASE}/events/autonomous_driving`, data);\n      setResp((_r$data$status = (_r$data = r.data) === null || _r$data === void 0 ? void 0 : _r$data.status) !== null && _r$data$status !== void 0 ? _r$data$status : \"ok\");\n    } catch (err) {\n      setResp(\"请求失败\");\n    } finally {\n      setSending(false);\n    }\n  };\n\n  // 提交：天气\n  const submitWeather = async e => {\n    e.preventDefault();\n    try {\n      await axios.post(`${API_BASE}/events/weather_alert`, {\n        alert_type: weather.alert_type.trim(),\n        area: weather.area.trim()\n      });\n    } catch {}\n  };\n\n  // 提交：停车\n  const submitParking = async e => {\n    e.preventDefault();\n    try {\n      await axios.post(`${API_BASE}/events/parking_update`, {\n        location: parking.location.trim(),\n        available_spots: Number(parking.available_spots || 0)\n      });\n    } catch {}\n  };\n\n  // 提交：安全\n  const submitSafety = async e => {\n    e.preventDefault();\n    try {\n      await axios.post(`${API_BASE}/events/safety_monitor`, {\n        location: safety.location.trim(),\n        safety_status: safety.safety_status\n      });\n    } catch {}\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-wrap\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"title\",\n      children: \"\\u81EA\\u52A8\\u9A7E\\u9A76 \\xD7 \\u57CE\\u5E02\\u7BA1\\u7406\\u63A7\\u5236\\u9762\\u677F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Autonomous Driving\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: submitAutonomous,\n          className: \"form\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: location,\n              onChange: e => setLocation(e.target.value),\n              placeholder: \"e.g. Main St.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), errors.location && /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"err\",\n              children: errors.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 35\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Traffic Condition\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: trafficCondition,\n              onChange: e => setTrafficCondition(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"normal\",\n                children: \"Normal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"heavy\",\n                children: \"Heavy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: incidentDetected,\n              onChange: e => setIncidentDetected(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Incident Detected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Vehicle Speed (km/h)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: vehicleSpeed,\n              onChange: e => setVehicleSpeed(e.target.value),\n              placeholder: \"0 - 200\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), errors.speed && /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"err\",\n              children: errors.speed\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            disabled: sending || Object.keys(errors).length > 0,\n            children: sending ? \"Sending...\" : \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), resp && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"ok\",\n            children: [\"Response: \", resp]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u6700\\u8FD1\\u8BB0\\u5F55\\uFF08WebSocket \\u5B9E\\u65F6\\uFF09\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"feed\",\n          children: [recent.map((r, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"feed-title\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: r.title || r.type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: r.ts\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n              className: \"feed-json\",\n              children: JSON.stringify(r.payload || r, null, 2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this)), recent.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"muted\",\n            children: \"\\u6682\\u65E0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card span2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u8F66\\u8F86\\u901F\\u5EA6\\uFF08\\u6700\\u8FD1 50 \\u6761\\uFF09\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"100%\",\n            height: 260\n          },\n          children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            children: /*#__PURE__*/_jsxDEV(LineChart, {\n              data: series,\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"t\",\n                hide: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                domain: [0, 200]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Line, {\n                type: \"monotone\",\n                dataKey: \"speed\",\n                strokeWidth: 2,\n                dot: false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u5929\\u6C14\\u544A\\u8B66\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: submitWeather,\n          className: \"form-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"alert_type e.g. storm\",\n            value: weather.alert_type,\n            onChange: e => setWeather(s => ({\n              ...s,\n              alert_type: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"area e.g. Downtown\",\n            value: weather.area,\n            onChange: e => setWeather(s => ({\n              ...s,\n              area: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-sm\",\n            children: \"Push\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u505C\\u8F66\\u4F4D\\u66F4\\u65B0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: submitParking,\n          className: \"form-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"location\",\n            value: parking.location,\n            onChange: e => setParking(s => ({\n              ...s,\n              location: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"available_spots\",\n            value: parking.available_spots,\n            onChange: e => setParking(s => ({\n              ...s,\n              available_spots: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-sm\",\n            children: \"Push\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u5B89\\u5168\\u5DE1\\u68C0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: submitSafety,\n          className: \"form-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"location\",\n            value: safety.location,\n            onChange: e => setSafety(s => ({\n              ...s,\n              location: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: safety.safety_status,\n            onChange: e => setSafety(s => ({\n              ...s,\n              safety_status: e.target.value\n            })),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"ok\",\n              children: \"ok\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"warning\",\n              children: \"warning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"incident\",\n              children: \"incident\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-sm\",\n            children: \"Push\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"5nv0U/S2IQoxjDIcKP40o7orTvI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","axios","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","jsxDEV","_jsxDEV","API_BASE","process","env","REACT_APP_API_BASE","REACT_APP_API_URL","WS_URL","REACT_APP_WS_URL","App","_s","location","setLocation","trafficCondition","setTrafficCondition","incidentDetected","setIncidentDetected","vehicleSpeed","setVehicleSpeed","sending","setSending","resp","setResp","weather","setWeather","alert_type","area","parking","setParking","available_spots","safety","setSafety","safety_status","recent","setRecent","series","setSeries","wsRef","errors","e","trim","v","Number","isNaN","speed","ws","WebSocket","current","onopen","send","onmessage","evt","_msg$payload","msg","JSON","parse","data","item","ts","Date","toLocaleTimeString","prev","slice","type","payload","vehicle_speed","t","onclose","onerror","close","submitAutonomous","preventDefault","Object","keys","length","traffic_condition","incident_detected","_r$data$status","_r$data","r","post","status","err","submitWeather","submitParking","submitSafety","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","placeholder","checked","disabled","map","i","title","stringify","style","width","height","strokeDasharray","dataKey","hide","domain","strokeWidth","dot","s","_c","$RefreshReg$"],"sources":["/Users/Apple/Desktop/multi-agent-dsl-final/frontend/src/App.jsx"],"sourcesContent":["// src/App.jsx\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport axios from \"axios\";\nimport {\n  LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer,\n} from \"recharts\";\nimport \"./App.css\";\n\nconst API_BASE =\n  process.env.REACT_APP_API_BASE ||\n  process.env.REACT_APP_API_URL ||\n  \"http://127.0.0.1:8000\";\nconst WS_URL = process.env.REACT_APP_WS_URL || \"ws://127.0.0.1:8000/ws\";\n\nfunction App() {\n  // --- 表单状态（自动驾驶） ---\n  const [location, setLocation] = useState(\"\");\n  const [trafficCondition, setTrafficCondition] = useState(\"normal\");\n  const [incidentDetected, setIncidentDetected] = useState(false);\n  const [vehicleSpeed, setVehicleSpeed] = useState(\"\");\n  const [sending, setSending] = useState(false);\n  const [resp, setResp] = useState(\"\");\n\n  // --- 其它 Agent 的小表单 ---\n  const [weather, setWeather] = useState({ alert_type: \"\", area: \"\" });\n  const [parking, setParking] = useState({ location: \"\", available_spots: \"\" });\n  const [safety, setSafety] = useState({ location: \"\", safety_status: \"ok\" });\n\n  // --- 最近记录 & 图表数据 ---\n  const [recent, setRecent] = useState([]); // {title, type, payload, ts}\n  const [series, setSeries] = useState([]); // [{t, speed}]\n  const wsRef = useRef(null);\n\n  // 简单校验\n  const errors = useMemo(() => {\n    const e = {};\n    if (!location.trim()) e.location = \"Location 不能为空\";\n    const v = Number(vehicleSpeed);\n    if (Number.isNaN(v)) e.speed = \"请输入数字\";\n    else if (v < 0 || v > 200) e.speed = \"范围 0~200\";\n    return e;\n  }, [location, vehicleSpeed]);\n\n  // WebSocket 订阅\n  useEffect(() => {\n    const ws = new WebSocket(WS_URL);\n    wsRef.current = ws;\n    ws.onopen = () => {\n      // 可选：握手心跳\n      try { ws.send(\"hi\"); } catch {}\n    };\n    ws.onmessage = (evt) => {\n      try {\n        const msg = JSON.parse(evt.data);\n        const item = { ...msg, ts: new Date().toLocaleTimeString() };\n        setRecent((prev) => [item, ...prev].slice(0, 30));\n\n        // 如果是自动驾驶事件，喂给图表\n        if (msg.type === \"autonomous_driving\" && msg.payload?.vehicle_speed != null) {\n          setSeries((prev) => [\n            ...prev.slice(-49),\n            { t: item.ts, speed: Number(msg.payload.vehicle_speed) },\n          ]);\n        }\n      } catch {\n        // ignore\n      }\n    };\n    ws.onclose = () => {};\n    ws.onerror = () => {};\n    return () => {\n      try { ws.close(); } catch {}\n    };\n  }, []);\n\n  // 提交：自动驾驶\n  const submitAutonomous = async (e) => {\n    e.preventDefault();\n    if (Object.keys(errors).length > 0) return;\n\n    const data = {\n      location: location.trim(),\n      traffic_condition: trafficCondition,\n      incident_detected: incidentDetected,\n      vehicle_speed: Number(vehicleSpeed),\n    };\n\n    setSending(true);\n    setResp(\"\");\n    try {\n      const r = await axios.post(`${API_BASE}/events/autonomous_driving`, data);\n      setResp(r.data?.status ?? \"ok\");\n    } catch (err) {\n      setResp(\"请求失败\");\n    } finally {\n      setSending(false);\n    }\n  };\n\n  // 提交：天气\n  const submitWeather = async (e) => {\n    e.preventDefault();\n    try {\n      await axios.post(`${API_BASE}/events/weather_alert`, {\n        alert_type: weather.alert_type.trim(),\n        area: weather.area.trim(),\n      });\n    } catch {}\n  };\n\n  // 提交：停车\n  const submitParking = async (e) => {\n    e.preventDefault();\n    try {\n      await axios.post(`${API_BASE}/events/parking_update`, {\n        location: parking.location.trim(),\n        available_spots: Number(parking.available_spots || 0),\n      });\n    } catch {}\n  };\n\n  // 提交：安全\n  const submitSafety = async (e) => {\n    e.preventDefault();\n    try {\n      await axios.post(`${API_BASE}/events/safety_monitor`, {\n        location: safety.location.trim(),\n        safety_status: safety.safety_status,\n      });\n    } catch {}\n  };\n\n  return (\n    <div className=\"app-wrap\">\n      <h1 className=\"title\">自动驾驶 × 城市管理控制面板</h1>\n\n      <div className=\"grid\">\n        {/* 左：主卡片 */}\n        <div className=\"card\">\n          <h2>Autonomous Driving</h2>\n          <form onSubmit={submitAutonomous} className=\"form\">\n            <label>\n              <span>Location</span>\n              <input\n                value={location}\n                onChange={(e) => setLocation(e.target.value)}\n                placeholder=\"e.g. Main St.\"\n              />\n              {errors.location && <small className=\"err\">{errors.location}</small>}\n            </label>\n\n            <label>\n              <span>Traffic Condition</span>\n              <select\n                value={trafficCondition}\n                onChange={(e) => setTrafficCondition(e.target.value)}\n              >\n                <option value=\"normal\">Normal</option>\n                <option value=\"heavy\">Heavy</option>\n              </select>\n            </label>\n\n            <label className=\"row\">\n              <input\n                type=\"checkbox\"\n                checked={incidentDetected}\n                onChange={(e) => setIncidentDetected(e.target.checked)}\n              />\n              <span>Incident Detected</span>\n            </label>\n\n            <label>\n              <span>Vehicle Speed (km/h)</span>\n              <input\n                type=\"number\"\n                value={vehicleSpeed}\n                onChange={(e) => setVehicleSpeed(e.target.value)}\n                placeholder=\"0 - 200\"\n              />\n              {errors.speed && <small className=\"err\">{errors.speed}</small>}\n            </label>\n\n            <button className=\"btn\" disabled={sending || Object.keys(errors).length > 0}>\n              {sending ? \"Sending...\" : \"Send\"}\n            </button>\n            {resp && <p className=\"ok\">Response: {resp}</p>}\n          </form>\n        </div>\n\n        {/* 右：最近记录 */}\n        <div className=\"card\">\n          <h2>最近记录（WebSocket 实时）</h2>\n          <ul className=\"feed\">\n            {recent.map((r, i) => (\n              <li key={i}>\n                <div className=\"feed-title\">\n                  <b>{r.title || r.type}</b> <span>{r.ts}</span>\n                </div>\n                <pre className=\"feed-json\">{JSON.stringify(r.payload || r, null, 2)}</pre>\n              </li>\n            ))}\n            {recent.length === 0 && <div className=\"muted\">暂无</div>}\n          </ul>\n        </div>\n\n        {/* 下：速度小图 */}\n        <div className=\"card span2\">\n          <h2>车辆速度（最近 50 条）</h2>\n          <div style={{ width: \"100%\", height: 260 }}>\n            <ResponsiveContainer>\n              <LineChart data={series}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"t\" hide />\n                <YAxis domain={[0, 200]} />\n                <Tooltip />\n                <Line type=\"monotone\" dataKey=\"speed\" strokeWidth={2} dot={false} />\n              </LineChart>\n            </ResponsiveContainer>\n          </div>\n        </div>\n\n        {/* 小模块：天气/停车/安全 */}\n        <div className=\"card\">\n          <h3>天气告警</h3>\n          <form onSubmit={submitWeather} className=\"form-sm\">\n            <input\n              placeholder=\"alert_type e.g. storm\"\n              value={weather.alert_type}\n              onChange={(e) => setWeather((s) => ({ ...s, alert_type: e.target.value }))}\n            />\n            <input\n              placeholder=\"area e.g. Downtown\"\n              value={weather.area}\n              onChange={(e) => setWeather((s) => ({ ...s, area: e.target.value }))}\n            />\n            <button className=\"btn-sm\">Push</button>\n          </form>\n        </div>\n\n        <div className=\"card\">\n          <h3>停车位更新</h3>\n          <form onSubmit={submitParking} className=\"form-sm\">\n            <input\n              placeholder=\"location\"\n              value={parking.location}\n              onChange={(e) => setParking((s) => ({ ...s, location: e.target.value }))}\n            />\n            <input\n              type=\"number\"\n              placeholder=\"available_spots\"\n              value={parking.available_spots}\n              onChange={(e) => setParking((s) => ({ ...s, available_spots: e.target.value }))}\n            />\n            <button className=\"btn-sm\">Push</button>\n          </form>\n        </div>\n\n        <div className=\"card\">\n          <h3>安全巡检</h3>\n          <form onSubmit={submitSafety} className=\"form-sm\">\n            <input\n              placeholder=\"location\"\n              value={safety.location}\n              onChange={(e) => setSafety((s) => ({ ...s, location: e.target.value }))}\n            />\n            <select\n              value={safety.safety_status}\n              onChange={(e) => setSafety((s) => ({ ...s, safety_status: e.target.value }))}\n            >\n              <option value=\"ok\">ok</option>\n              <option value=\"warning\">warning</option>\n              <option value=\"incident\">incident</option>\n            </select>\n            <button className=\"btn-sm\">Push</button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}