{"ast":null,"code":"// frontend/src/components/InteractionHistory.jsx\nimport React,{useState}from'react';import'./InteractionHistory.css';import WebSocketService from'./WebSocketService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const InteractionHistory=_ref=>{let{events=[],onClear,onGenerateReport,readyState,connectionStats}=_ref;const[selectedSentEvent,setSelectedSentEvent]=useState(null);const[expandedEvents,setExpandedEvents]=useState(new Set());const getStatusPill=()=>{switch(readyState){case 0:// CONNECTING\nreturn/*#__PURE__*/_jsx(\"span\",{className:\"pill pill-status-connecting\",children:\"\\uD83D\\uDD04 \\u8FDE\\u63A5\\u4E2D / Connecting...\"});case 1:// OPEN\nreturn/*#__PURE__*/_jsx(\"span\",{className:\"pill pill-status-open\",children:\"\\u2705 \\u5DF2\\u8FDE\\u63A5 / Connected\"});case 2:// CLOSING\nreturn/*#__PURE__*/_jsx(\"span\",{className:\"pill pill-status-closing\",children:\"\\u23F3 \\u65AD\\u5F00\\u4E2D / Disconnecting...\"});case 3:// CLOSED\nreturn/*#__PURE__*/_jsx(\"span\",{className:\"pill pill-status-closed\",children:\"\\u274C \\u670D\\u52A1\\u4E0D\\u53EF\\u7528 / Service Unavailable\"});default:return/*#__PURE__*/_jsx(\"span\",{className:\"pill pill-status-closed\",children:\"\\u274C \\u670D\\u52A1\\u4E0D\\u53EF\\u7528 / Service Unavailable\"});}};const handleReconnect=()=>{WebSocketService.reconnect();};// è·å–äº‹ä»¶æ‘˜è¦\nconst getEventSummary=event=>{switch(event.type){case'main_task_result':return\"\".concat(event.payload.agent,\": \").concat(event.payload.result.substring(0,50),\"...\");case'coordination_result':return\"\\u534F\\u540C\\u5B8C\\u6210: \".concat(event.payload.total_agents,\"\\u4E2A\\u667A\\u80FD\\u4F53\\u54CD\\u5E94\");case'workflow_complete':return'å·¥ä½œæµå®Œæˆ';case'agent_response':return\"\".concat(event.payload.agent,\": \").concat(event.payload.result.substring(0,50),\"...\");case'agent_message':return event.payload.substring(0,50)+'...';case'analysis_report':return'åˆ†ææŠ¥å‘Šå·²ç”Ÿæˆ';case'simulation_log':return event.payload.details?event.payload.details.substring(0,50)+'...':'æ¨¡æ‹Ÿæ—¥å¿—';default:return event.title||event.type;}};const getEventIcon=type=>{const icons={'workflow_start':'ğŸš€','main_task_result':'ğŸ‘‘',// Master Agent ä½¿ç”¨çš‡å† å›¾æ ‡\n'coordination_start':'ğŸ¤','coordination_result':'ğŸ¯','workflow_complete':'ğŸ','agent_message':'ğŸ¤–','agent_response':'ğŸ’¬','analysis_report':'ğŸ“Š','traffic_incident':'ğŸš—','weather_alert':'ğŸŒ§ï¸','parking_update':'ğŸ…¿ï¸','safety_inspection':'ğŸ›¡ï¸','autonomous_driving':'ğŸš™','traffic_monitor':'ğŸš¦','simulation_log':'ğŸ“','error':'âŒ','ping':'ğŸ“¡','default':'ğŸ“'};return icons[type]||icons['default'];};const getEventTypeLabel=type=>{const labels={'workflow_start':'å·¥ä½œæµå¯åŠ¨ / Workflow Start','main_task_result':'ä¸»æ™ºèƒ½ä½“åè°ƒ / Master Agent Coordination','coordination_start':'å­æ™ºèƒ½ä½“åè°ƒ / Sub Agent Coordination','coordination_result':'å­æ™ºèƒ½ä½“ååŒ / Sub Agent Collaboration','workflow_complete':'å·¥ä½œæµå®Œæˆ / Workflow Complete','agent_message':'æ™ºèƒ½ä½“æ¶ˆæ¯ / Agent Message','agent_response':'æ™ºèƒ½ä½“å“åº” / Agent Response','analysis_report':'åˆ†ææŠ¥å‘Š / Analysis Report','traffic_incident':'äº¤é€šäº‹ä»¶ / Traffic Incident','weather_alert':'å¤©æ°”è­¦æŠ¥ / Weather Alert','parking_update':'åœè½¦æ›´æ–° / Parking Update','safety_inspection':'å®‰å…¨æ£€æŸ¥ / Safety Inspection','autonomous_driving':'è‡ªåŠ¨é©¾é©¶ / Autonomous Driving','traffic_monitor':'äº¤é€šç›‘æ§ / Traffic Monitor','simulation_log':'æ¨¡æ‹Ÿæ—¥å¿— / Simulation Log','error':'é”™è¯¯ / Error','ping':'å¿ƒè·³ / Ping','default':'æœªçŸ¥äº‹ä»¶ / Unknown Event'};return labels[type]||labels['default'];};const renderEvent=(event,index)=>{if(!event){return/*#__PURE__*/_jsx(\"p\",{children:\"No event data\"});}const{type,payload,title,timestamp}=event;const time=timestamp?new Date(timestamp).toLocaleTimeString():'No timestamp';const icon=getEventIcon(type);const typeLabel=getEventTypeLabel(type);const eventCard=/*#__PURE__*/_jsxs(\"div\",{className:\"event-card event-\".concat(type),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"event-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"event-icon\",children:icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-info\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"event-title\",children:title||typeLabel}),/*#__PURE__*/_jsx(\"span\",{className:\"event-time\",children:time})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn view-btn\",onClick:()=>viewEventDetails(event),title:\"\\u67E5\\u770B\\u8BE6\\u60C5 / View Details\",children:\"\\uD83D\\uDC41\\uFE0F\"}),type==='agent_response'&&/*#__PURE__*/_jsx(\"button\",{className:\"action-btn replay-btn\",onClick:()=>replayEvent(event),title:\"\\u91CD\\u653E\\u4E8B\\u4EF6 / Replay Event\",children:\"\\uD83D\\uDD04\"}),type==='error'&&/*#__PURE__*/_jsx(\"button\",{className:\"action-btn retry-btn\",onClick:()=>retryEvent(event),title:\"\\u91CD\\u8BD5 / Retry\",children:\"\\u26A1\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"event-content\",children:renderEventContent(type,payload)})]},\"\".concat(type,\"-\").concat(timestamp||index,\"-\").concat(index));return eventCard;};const renderEventContent=(type,payload)=>{switch(type){case'workflow_start':return/*#__PURE__*/_jsx(\"div\",{className:\"event-payload\",children:/*#__PURE__*/_jsx(\"p\",{className:\"payload-text\",children:payload})});case'main_task_result':return/*#__PURE__*/_jsx(\"div\",{className:\"event-payload\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"payload-text\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[payload.agent,\":\"]}),\" \",payload.result]})});case'coordination_start':return/*#__PURE__*/_jsx(\"div\",{className:\"event-payload\",children:/*#__PURE__*/_jsx(\"p\",{className:\"payload-text\",children:payload})});case'coordination_result':return/*#__PURE__*/_jsxs(\"div\",{className:\"event-payload\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"payload-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u534F\\u540C\\u5B8C\\u6210:\"}),\" \",payload.total_agents,\"\\u4E2A\\u667A\\u80FD\\u4F53\\u54CD\\u5E94\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"responses-summary\",children:payload.responses.map((response,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"response-summary\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"response-agent\",children:[response.agent,\":\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"response-text\",children:[response.result.substring(0,100),\"...\"]})]},index))})]});case'workflow_complete':return/*#__PURE__*/_jsx(\"div\",{className:\"event-payload\",children:/*#__PURE__*/_jsx(\"p\",{className:\"payload-text\",children:payload})});case'agent_message':return/*#__PURE__*/_jsx(\"div\",{className:\"event-payload\",children:/*#__PURE__*/_jsx(\"p\",{className:\"payload-text\",children:payload})});case'agent_response':return/*#__PURE__*/_jsx(\"div\",{className:\"event-payload\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"payload-text\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[payload.agent,\":\"]}),\" \",payload.result]})});case'analysis_report':return/*#__PURE__*/_jsx(\"div\",{className:\"event-payload\",children:/*#__PURE__*/_jsx(\"p\",{className:\"payload-text\",children:\"\\uD83D\\uDCCA \\u5206\\u6790\\u62A5\\u544A\\u5DF2\\u751F\\u6210\"})});case'traffic_incident':return/*#__PURE__*/_jsx(\"div\",{className:\"event-payload\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"payload-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u4F4D\\u7F6E:\"}),\" \",payload.location,\" - \",payload.description]})});case'weather_alert':return/*#__PURE__*/_jsx(\"div\",{className:\"event-payload\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"payload-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u533A\\u57DF:\"}),\" \",payload.area,\" - \",/*#__PURE__*/_jsx(\"strong\",{children:\"\\u7C7B\\u578B:\"}),\" \",payload.alert_type,\" - \",/*#__PURE__*/_jsx(\"strong\",{children:\"\\u4E25\\u91CD\\u7A0B\\u5EA6:\"}),\" \",payload.severity]})});case'parking_update':return/*#__PURE__*/_jsx(\"div\",{className:\"event-payload\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"payload-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u4F4D\\u7F6E:\"}),\" \",payload.location,\" - \",/*#__PURE__*/_jsx(\"strong\",{children:\"\\u53EF\\u7528\\u8F66\\u4F4D:\"}),\" \",payload.available_spots]})});case'safety_inspection':return/*#__PURE__*/_jsx(\"div\",{className:\"event-payload\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"payload-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u4F4D\\u7F6E:\"}),\" \",payload.location,\" - \",/*#__PURE__*/_jsx(\"strong\",{children:\"\\u5B89\\u5168\\u72B6\\u6001:\"}),\" \",payload.safety_status,\" - \",/*#__PURE__*/_jsx(\"strong\",{children:\"\\u9700\\u8981\\u4EBA\\u5DE5\\u5E72\\u9884:\"}),\" \",payload.require_human_intervention?'æ˜¯':'å¦']})});case'autonomous_driving':return/*#__PURE__*/_jsx(\"div\",{className:\"event-payload\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"payload-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u8D77\\u70B9:\"}),\" \",payload.start_location,\" - \",/*#__PURE__*/_jsx(\"strong\",{children:\"\\u7EC8\\u70B9:\"}),\" \",payload.end_location,\" - \",/*#__PURE__*/_jsx(\"strong\",{children:\"\\u4E58\\u5BA2\\u6570:\"}),\" \",payload.passengers]})});case'traffic_monitor':return/*#__PURE__*/_jsx(\"div\",{className:\"event-payload\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"payload-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u4EA4\\u901A\\u76D1\\u63A7\\u6570\\u636E:\"}),\" \",JSON.stringify(payload)]})});case'simulation_log':return/*#__PURE__*/_jsx(\"div\",{className:\"event-payload\",children:/*#__PURE__*/_jsx(\"p\",{className:\"payload-text\",children:payload.details||payload})});case'error':return/*#__PURE__*/_jsx(\"div\",{className:\"event-payload\",children:/*#__PURE__*/_jsx(\"p\",{className:\"payload-error\",children:payload})});case'ping':return null;// Don't display ping messages\ndefault:return/*#__PURE__*/_jsx(\"div\",{className:\"event-payload\",children:/*#__PURE__*/_jsx(\"p\",{className:\"payload-text\",children:JSON.stringify(payload)})});}};const viewEventDetails=event=>{alert(\"\\u4E8B\\u4EF6\\u8BE6\\u60C5 / Event Details\\n\\n\\u7C7B\\u578B / Type: \".concat(getEventTypeLabel(event.type),\"\\n\\u65F6\\u95F4 / Time: \").concat(event.timestamp,\"\\n\\n\\u8BE6\\u7EC6\\u4FE1\\u606F\\u5C06\\u5728\\u6A21\\u6001\\u6846\\u4E2D\\u663E\\u793A / Detailed information will be shown in a modal.\"));};const replayEvent=event=>{if(confirm(\"\\u786E\\u5B9A\\u8981\\u91CD\\u653E\\u6B64\\u4E8B\\u4EF6\\u5417\\uFF1F / Are you sure you want to replay this event?\")){// è¿™é‡Œå¯ä»¥æ·»åŠ é‡æ”¾é€»è¾‘\nalert('äº‹ä»¶å·²é‡æ”¾ / Event replayed successfully!');}};const retryEvent=event=>{if(confirm(\"\\u786E\\u5B9A\\u8981\\u91CD\\u8BD5\\u6B64\\u4E8B\\u4EF6\\u5417\\uFF1F / Are you sure you want to retry this event?\")){// è¿™é‡Œå¯ä»¥æ·»åŠ é‡è¯•é€»è¾‘\nalert('äº‹ä»¶å·²é‡è¯• / Event retried successfully!');}};const getEventStats=()=>{const total=events.length;const byType=events.reduce((acc,event)=>{acc[event.type]=(acc[event.type]||0)+1;return acc;},{});return{total,byType};};// è·å–å‘é€çš„äº‹ä»¶ï¼ˆç”¨æˆ·ä¸»åŠ¨å‘é€çš„äº‹ä»¶ï¼‰\nconst getSentEvents=()=>{const sentEventTypes=['weather_alert','parking_update','safety_inspection','autonomous_driving','traffic_monitor'];return events.filter(event=>sentEventTypes.includes(event.type));};// è·å–å‘é€äº‹ä»¶æ•°é‡\nconst getSentEventsCount=()=>{return getSentEvents().length;};// è·å–å‘é€äº‹ä»¶æ‘˜è¦\nconst getSentEventSummary=event=>{if(!event||!event.payload){return(event===null||event===void 0?void 0:event.title)||(event===null||event===void 0?void 0:event.type)||'æœªçŸ¥äº‹ä»¶';}switch(event.type){case'weather_alert':return\"\\u533A\\u57DF: \".concat(event.payload.area||'æœªçŸ¥',\" - \\u7C7B\\u578B: \").concat(event.payload.alert_type||'æœªçŸ¥');case'parking_update':return\"\\u4F4D\\u7F6E: \".concat(event.payload.location||'æœªçŸ¥',\" - \\u53EF\\u7528\\u8F66\\u4F4D: \").concat(event.payload.available_spots||'æœªçŸ¥');case'safety_inspection':return\"\\u4F4D\\u7F6E: \".concat(event.payload.location||'æœªçŸ¥',\" - \\u72B6\\u6001: \").concat(event.payload.safety_status||'æœªçŸ¥');case'autonomous_driving':return\"\\u8D77\\u70B9: \".concat(event.payload.start_location||'æœªçŸ¥',\" - \\u7EC8\\u70B9: \").concat(event.payload.end_location||'æœªçŸ¥');case'traffic_monitor':return\"\\u4EA4\\u901A\\u76D1\\u63A7\\u6570\\u636E\";default:return event.title||event.type;}};// è·å–ä¸å‘é€äº‹ä»¶ç›¸å…³çš„å“åº”äº‹ä»¶\nconst getRelatedEvents=sentEvent=>{if(!sentEvent||!sentEvent.timestamp){return[];}const sentTime=new Date(sentEvent.timestamp);const timeWindow=10*60*1000;// å¢åŠ åˆ°10åˆ†é’Ÿæ—¶é—´çª—å£\n// å®šä¹‰æ™ºèƒ½ä½“å“åº”äº‹ä»¶ç±»å‹\nconst responseEventTypes=['workflow_start','main_task_result','coordination_start','coordination_result','workflow_complete','agent_message','agent_response','analysis_report','simulation_log'];return events.filter(event=>{if(!event||!event.timestamp)return false;const eventTime=new Date(event.timestamp);const timeDiff=Math.abs(eventTime.getTime()-sentTime.getTime());// åœ¨æ—¶é—´çª—å£å†…ï¼Œæ˜¯å“åº”äº‹ä»¶ç±»å‹ï¼Œä¸”ä¸æ˜¯å‘é€äº‹ä»¶æœ¬èº«\nreturn timeDiff<=timeWindow&&responseEventTypes.includes(event.type)&&event.type!==sentEvent.type;}).sort((a,b)=>new Date(a.timestamp)-new Date(b.timestamp));};const stats=getEventStats();return/*#__PURE__*/_jsxs(\"div\",{className:\"interaction-record card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"history-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card__title\",children:\"\\uD83D\\uDCCA \\u4EA4\\u4E92\\u5386\\u53F2 / Interaction History\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-controls\",children:[getStatusPill(),readyState!==1&&/*#__PURE__*/_jsx(\"button\",{onClick:handleReconnect,className:\"reconnect-btn\",children:\"\\uD83D\\uDD04 \\u91CD\\u8FDE / Reconnect\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"connection-info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"connection-details\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"connection-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u6D88\\u606F\\u6570 / Messages:\"}),\" \",events.length]}),/*#__PURE__*/_jsxs(\"span\",{className:\"connection-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u540E\\u7AEF / Backend:\"}),\" http://localhost:8008\"]}),connectionStats&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"connection-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u7528\\u6237ID / User ID:\"}),\" \",connectionStats.userId]}),/*#__PURE__*/_jsxs(\"span\",{className:\"connection-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u6D3B\\u8DC3\\u8FDE\\u63A5 / Active Connections:\"}),\" \",connectionStats.activeConnections,\"/\",connectionStats.totalConnections]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"history-controls\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onGenerateReport,className:\"generate-btn\",children:\"\\uD83D\\uDCC4 \\u751F\\u6210\\u62A5\\u544A / Generate Report\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClear,className:\"clear-btn\",children:\"\\uD83D\\uDDD1\\uFE0F \\u6E05\\u7A7A\\u5386\\u53F2 / Clear History\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"history-layout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sent-events-sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCE4 \\u53D1\\u9001\\u7684\\u4E8B\\u4EF6 / Sent Events\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"event-count\",children:[getSentEventsCount(),\" \\u4E2A\\u4E8B\\u4EF6\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sent-events-list\",children:getSentEvents().length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDCED\"}),/*#__PURE__*/_jsx(\"p\",{className:\"empty-text\",children:\"\\u6682\\u65E0\\u53D1\\u9001\\u4E8B\\u4EF6 / No sent events yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"empty-subtext\",children:\"\\u53D1\\u9001\\u4EFB\\u52A1\\u4EE5\\u67E5\\u770B\\u4E8B\\u4EF6\\u8BE6\\u60C5 / Send tasks to view event details\"})]}):getSentEvents().map((event,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"sent-event-item \".concat(selectedSentEvent===index?'selected':''),onClick:()=>setSelectedSentEvent(index),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"event-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"event-icon\",children:getEventIcon(event.type)}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"event-title\",children:getEventTypeLabel(event.type)}),/*#__PURE__*/_jsx(\"div\",{className:\"event-meta\",children:/*#__PURE__*/_jsx(\"span\",{className:\"event-time\",children:event.timestamp?new Date(event.timestamp).toLocaleTimeString():'æœªçŸ¥æ—¶é—´'})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"event-summary\",children:getSentEventSummary(event)})]},index))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"interactions-detail\",children:selectedSentEvent!==null?/*#__PURE__*/_jsxs(\"div\",{className:\"detail-view\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83E\\uDD16 \\u667A\\u80FD\\u4F53\\u4EA4\\u4E92\\u8BB0\\u5F55 / Agent Interaction Records\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-detail\",onClick:()=>setSelectedSentEvent(null),children:\"\\u2715\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"detail-content\",children:(()=>{const sentEvent=getSentEvents()[selectedSentEvent];if(!sentEvent)return null;// è·å–ä¸è¿™ä¸ªå‘é€äº‹ä»¶ç›¸å…³çš„æ‰€æœ‰å“åº”äº‹ä»¶\nconst relatedEvents=getRelatedEvents(sentEvent);return/*#__PURE__*/_jsxs(\"div\",{className:\"interaction-flow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sent-event-detail\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"section-icon\",children:\"\\uD83D\\uDCE4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"section-title\",children:\"\\u53D1\\u9001\\u7684\\u4E8B\\u4EF6\\u8BE6\\u60C5 / Sent Event Details\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-detail-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u4E8B\\u4EF6\\u7C7B\\u578B / Event Type:\"}),\" \",getEventTypeLabel(sentEvent.type)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u53D1\\u9001\\u65F6\\u95F4 / Sent Time:\"}),\" \",new Date(sentEvent.timestamp).toLocaleString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u4E8B\\u4EF6\\u8BE6\\u60C5 / Event Details:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"event-payload-detail\",children:renderEventContent(sentEvent.type,sentEvent.payload)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"agent-responses\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"section-icon\",children:\"\\uD83E\\uDD16\"}),/*#__PURE__*/_jsx(\"span\",{className:\"section-title\",children:\"\\u667A\\u80FD\\u4F53\\u54CD\\u5E94\\u6D41\\u7A0B / Agent Response Flow\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"response-timeline\",children:relatedEvents.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-responses\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"no-responses-icon\",children:\"\\u23F3\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u7B49\\u5F85\\u667A\\u80FD\\u4F53\\u54CD\\u5E94 / Waiting for agent responses...\"})]}):relatedEvents.map((event,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"response-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"response-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"response-icon\",children:getEventIcon(event.type)}),/*#__PURE__*/_jsx(\"span\",{className:\"response-type\",children:getEventTypeLabel(event.type)}),/*#__PURE__*/_jsx(\"span\",{className:\"response-time\",children:new Date(event.timestamp).toLocaleTimeString()}),/*#__PURE__*/_jsx(\"button\",{className:\"expand-btn \".concat(expandedEvents.has(\"response_\".concat(selectedSentEvent,\"_\").concat(index))?'expanded':''),onClick:()=>{const eventKey=\"response_\".concat(selectedSentEvent,\"_\").concat(index);const newExpanded=new Set(expandedEvents);if(newExpanded.has(eventKey)){newExpanded.delete(eventKey);}else{newExpanded.add(eventKey);}setExpandedEvents(newExpanded);},children:expandedEvents.has(\"response_\".concat(selectedSentEvent,\"_\").concat(index))?'â–¼':'â–¶'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"response-summary\",children:getEventSummary(event)}),expandedEvents.has(\"response_\".concat(selectedSentEvent,\"_\").concat(index))&&/*#__PURE__*/_jsx(\"div\",{className:\"response-details\",children:renderEventContent(event.type,event.payload)})]},index))})]})]});})()})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"detail-placeholder\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"placeholder-icon\",children:\"\\uD83D\\uDC46\"}),/*#__PURE__*/_jsx(\"p\",{className:\"placeholder-text\",children:\"\\u9009\\u62E9\\u5DE6\\u4FA7\\u4E8B\\u4EF6\\u67E5\\u770B\\u667A\\u80FD\\u4F53\\u4EA4\\u4E92\\u8BB0\\u5F55\"}),/*#__PURE__*/_jsx(\"p\",{className:\"placeholder-subtext\",children:\"Click on a sent event to view agent interaction records\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"history-footer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"footer-stats\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"\\u603B\\u4E8B\\u4EF6 / Total Events:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:stats.total})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"\\u663E\\u793A / Showing:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:getSentEvents().length})]})]})})]});};export default InteractionHistory;","map":{"version":3,"names":["React","useState","WebSocketService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","InteractionHistory","_ref","events","onClear","onGenerateReport","readyState","connectionStats","selectedSentEvent","setSelectedSentEvent","expandedEvents","setExpandedEvents","Set","getStatusPill","className","children","handleReconnect","reconnect","getEventSummary","event","type","concat","payload","agent","result","substring","total_agents","details","title","getEventIcon","icons","getEventTypeLabel","labels","renderEvent","index","timestamp","time","Date","toLocaleTimeString","icon","typeLabel","eventCard","onClick","viewEventDetails","replayEvent","retryEvent","renderEventContent","responses","map","response","location","description","area","alert_type","severity","available_spots","safety_status","require_human_intervention","start_location","end_location","passengers","JSON","stringify","alert","confirm","getEventStats","total","length","byType","reduce","acc","getSentEvents","sentEventTypes","filter","includes","getSentEventsCount","getSentEventSummary","getRelatedEvents","sentEvent","sentTime","timeWindow","responseEventTypes","eventTime","timeDiff","Math","abs","getTime","sort","a","b","stats","userId","activeConnections","totalConnections","relatedEvents","toLocaleString","has","eventKey","newExpanded","delete","add"],"sources":["/Users/Apple/Desktop/multi-agent-dsl-final/frontend/src/components/InteractionHistory.jsx"],"sourcesContent":["// frontend/src/components/InteractionHistory.jsx\nimport React, { useState } from 'react';\nimport './InteractionHistory.css';\nimport WebSocketService from './WebSocketService';\n\nconst InteractionHistory = ({ events = [], onClear, onGenerateReport, readyState, connectionStats }) => {\n  const [selectedSentEvent, setSelectedSentEvent] = useState(null);\n  const [expandedEvents, setExpandedEvents] = useState(new Set());\n\n  const getStatusPill = () => {\n    switch (readyState) {\n      case 0: // CONNECTING\n        return <span className=\"pill pill-status-connecting\">ğŸ”„ è¿æ¥ä¸­ / Connecting...</span>;\n      case 1: // OPEN\n        return <span className=\"pill pill-status-open\">âœ… å·²è¿æ¥ / Connected</span>;\n      case 2: // CLOSING\n        return <span className=\"pill pill-status-closing\">â³ æ–­å¼€ä¸­ / Disconnecting...</span>;\n      case 3: // CLOSED\n        return <span className=\"pill pill-status-closed\">âŒ æœåŠ¡ä¸å¯ç”¨ / Service Unavailable</span>;\n      default:\n        return <span className=\"pill pill-status-closed\">âŒ æœåŠ¡ä¸å¯ç”¨ / Service Unavailable</span>;\n    }\n  };\n\n  const handleReconnect = () => {\n    WebSocketService.reconnect();\n  };\n\n  // è·å–äº‹ä»¶æ‘˜è¦\n  const getEventSummary = (event) => {\n    switch (event.type) {\n      case 'main_task_result':\n        return `${event.payload.agent}: ${event.payload.result.substring(0, 50)}...`;\n      case 'coordination_result':\n        return `ååŒå®Œæˆ: ${event.payload.total_agents}ä¸ªæ™ºèƒ½ä½“å“åº”`;\n      case 'workflow_complete':\n        return 'å·¥ä½œæµå®Œæˆ';\n      case 'agent_response':\n        return `${event.payload.agent}: ${event.payload.result.substring(0, 50)}...`;\n      case 'agent_message':\n        return event.payload.substring(0, 50) + '...';\n      case 'analysis_report':\n        return 'åˆ†ææŠ¥å‘Šå·²ç”Ÿæˆ';\n      case 'simulation_log':\n        return event.payload.details ? event.payload.details.substring(0, 50) + '...' : 'æ¨¡æ‹Ÿæ—¥å¿—';\n      default:\n        return event.title || event.type;\n    }\n  };\n\n  const getEventIcon = (type) => {\n    const icons = {\n      'workflow_start': 'ğŸš€',\n      'main_task_result': 'ğŸ‘‘', // Master Agent ä½¿ç”¨çš‡å† å›¾æ ‡\n      'coordination_start': 'ğŸ¤',\n      'coordination_result': 'ğŸ¯',\n      'workflow_complete': 'ğŸ',\n      'agent_message': 'ğŸ¤–',\n      'agent_response': 'ğŸ’¬',\n      'analysis_report': 'ğŸ“Š',\n      'traffic_incident': 'ğŸš—',\n      'weather_alert': 'ğŸŒ§ï¸',\n      'parking_update': 'ğŸ…¿ï¸',\n      'safety_inspection': 'ğŸ›¡ï¸',\n      'autonomous_driving': 'ğŸš™',\n      'traffic_monitor': 'ğŸš¦',\n      'simulation_log': 'ğŸ“',\n      'error': 'âŒ',\n      'ping': 'ğŸ“¡',\n      'default': 'ğŸ“'\n    };\n    return icons[type] || icons['default'];\n  };\n\n  const getEventTypeLabel = (type) => {\n    const labels = {\n      'workflow_start': 'å·¥ä½œæµå¯åŠ¨ / Workflow Start',\n      'main_task_result': 'ä¸»æ™ºèƒ½ä½“åè°ƒ / Master Agent Coordination',\n      'coordination_start': 'å­æ™ºèƒ½ä½“åè°ƒ / Sub Agent Coordination',\n      'coordination_result': 'å­æ™ºèƒ½ä½“ååŒ / Sub Agent Collaboration',\n      'workflow_complete': 'å·¥ä½œæµå®Œæˆ / Workflow Complete',\n      'agent_message': 'æ™ºèƒ½ä½“æ¶ˆæ¯ / Agent Message',\n      'agent_response': 'æ™ºèƒ½ä½“å“åº” / Agent Response',\n      'analysis_report': 'åˆ†ææŠ¥å‘Š / Analysis Report',\n      'traffic_incident': 'äº¤é€šäº‹ä»¶ / Traffic Incident',\n      'weather_alert': 'å¤©æ°”è­¦æŠ¥ / Weather Alert',\n      'parking_update': 'åœè½¦æ›´æ–° / Parking Update',\n      'safety_inspection': 'å®‰å…¨æ£€æŸ¥ / Safety Inspection',\n      'autonomous_driving': 'è‡ªåŠ¨é©¾é©¶ / Autonomous Driving',\n      'traffic_monitor': 'äº¤é€šç›‘æ§ / Traffic Monitor',\n      'simulation_log': 'æ¨¡æ‹Ÿæ—¥å¿— / Simulation Log',\n      'error': 'é”™è¯¯ / Error',\n      'ping': 'å¿ƒè·³ / Ping',\n      'default': 'æœªçŸ¥äº‹ä»¶ / Unknown Event'\n    };\n    return labels[type] || labels['default'];\n  };\n\n  const renderEvent = (event, index) => {\n    if (!event) {\n      return <p>No event data</p>;\n    }\n\n    const { type, payload, title, timestamp } = event;\n    const time = timestamp ? new Date(timestamp).toLocaleTimeString() : 'No timestamp';\n    const icon = getEventIcon(type);\n    const typeLabel = getEventTypeLabel(type);\n\n    const eventCard = (\n      <div className={`event-card event-${type}`} key={`${type}-${timestamp || index}-${index}`}>\n        <div className=\"event-header\">\n          <div className=\"event-icon\">{icon}</div>\n          <div className=\"event-info\">\n            <h4 className=\"event-title\">{title || typeLabel}</h4>\n            <span className=\"event-time\">{time}</span>\n          </div>\n          <div className=\"event-actions\">\n            <button \n              className=\"action-btn view-btn\" \n              onClick={() => viewEventDetails(event)}\n              title=\"æŸ¥çœ‹è¯¦æƒ… / View Details\"\n            >\n              ğŸ‘ï¸\n            </button>\n            {type === 'agent_response' && (\n              <button \n                className=\"action-btn replay-btn\" \n                onClick={() => replayEvent(event)}\n                title=\"é‡æ”¾äº‹ä»¶ / Replay Event\"\n              >\n                ğŸ”„\n              </button>\n            )}\n            {type === 'error' && (\n              <button \n                className=\"action-btn retry-btn\" \n                onClick={() => retryEvent(event)}\n                title=\"é‡è¯• / Retry\"\n              >\n                âš¡\n              </button>\n            )}\n          </div>\n        </div>\n        <div className=\"event-content\">\n          {renderEventContent(type, payload)}\n        </div>\n      </div>\n    );\n\n    return eventCard;\n  };\n\n  const renderEventContent = (type, payload) => {\n    switch (type) {\n      case 'workflow_start':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\">{payload}</p>\n          </div>\n        );\n      case 'main_task_result':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>{payload.agent}:</strong> {payload.result}</p>\n          </div>\n        );\n      case 'coordination_start':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\">{payload}</p>\n          </div>\n        );\n      case 'coordination_result':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>ååŒå®Œæˆ:</strong> {payload.total_agents}ä¸ªæ™ºèƒ½ä½“å“åº”</p>\n            <div className=\"responses-summary\">\n              {payload.responses.map((response, index) => (\n                <div key={index} className=\"response-summary\">\n                  <span className=\"response-agent\">{response.agent}:</span>\n                  <span className=\"response-text\">{response.result.substring(0, 100)}...</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        );\n      case 'workflow_complete':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\">{payload}</p>\n          </div>\n        );\n      case 'agent_message':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\">{payload}</p>\n          </div>\n        );\n      case 'agent_response':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>{payload.agent}:</strong> {payload.result}</p>\n          </div>\n        );\n      case 'analysis_report':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\">ğŸ“Š åˆ†ææŠ¥å‘Šå·²ç”Ÿæˆ</p>\n          </div>\n        );\n      case 'traffic_incident':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>ä½ç½®:</strong> {payload.location} - {payload.description}</p>\n          </div>\n        );\n      case 'weather_alert':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>åŒºåŸŸ:</strong> {payload.area} - <strong>ç±»å‹:</strong> {payload.alert_type} - <strong>ä¸¥é‡ç¨‹åº¦:</strong> {payload.severity}</p>\n          </div>\n        );\n      case 'parking_update':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>ä½ç½®:</strong> {payload.location} - <strong>å¯ç”¨è½¦ä½:</strong> {payload.available_spots}</p>\n          </div>\n        );\n      case 'safety_inspection':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>ä½ç½®:</strong> {payload.location} - <strong>å®‰å…¨çŠ¶æ€:</strong> {payload.safety_status} - <strong>éœ€è¦äººå·¥å¹²é¢„:</strong> {payload.require_human_intervention ? 'æ˜¯' : 'å¦'}</p>\n          </div>\n        );\n      case 'autonomous_driving':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>èµ·ç‚¹:</strong> {payload.start_location} - <strong>ç»ˆç‚¹:</strong> {payload.end_location} - <strong>ä¹˜å®¢æ•°:</strong> {payload.passengers}</p>\n          </div>\n        );\n      case 'traffic_monitor':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>äº¤é€šç›‘æ§æ•°æ®:</strong> {JSON.stringify(payload)}</p>\n          </div>\n        );\n      case 'simulation_log':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\">{payload.details || payload}</p>\n          </div>\n        );\n      case 'error':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-error\">{payload}</p>\n          </div>\n        );\n      case 'ping':\n        return null; // Don't display ping messages\n      default:\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\">{JSON.stringify(payload)}</p>\n          </div>\n        );\n    }\n  };\n\n  const viewEventDetails = (event) => {\n    alert(`äº‹ä»¶è¯¦æƒ… / Event Details\\n\\nç±»å‹ / Type: ${getEventTypeLabel(event.type)}\\næ—¶é—´ / Time: ${event.timestamp}\\n\\nè¯¦ç»†ä¿¡æ¯å°†åœ¨æ¨¡æ€æ¡†ä¸­æ˜¾ç¤º / Detailed information will be shown in a modal.`);\n  };\n\n  const replayEvent = (event) => {\n    if (confirm(`ç¡®å®šè¦é‡æ”¾æ­¤äº‹ä»¶å—ï¼Ÿ / Are you sure you want to replay this event?`)) {\n      // è¿™é‡Œå¯ä»¥æ·»åŠ é‡æ”¾é€»è¾‘\n      alert('äº‹ä»¶å·²é‡æ”¾ / Event replayed successfully!');\n    }\n  };\n\n  const retryEvent = (event) => {\n    if (confirm(`ç¡®å®šè¦é‡è¯•æ­¤äº‹ä»¶å—ï¼Ÿ / Are you sure you want to retry this event?`)) {\n      // è¿™é‡Œå¯ä»¥æ·»åŠ é‡è¯•é€»è¾‘\n      alert('äº‹ä»¶å·²é‡è¯• / Event retried successfully!');\n    }\n  };\n\n  const getEventStats = () => {\n    const total = events.length;\n    const byType = events.reduce((acc, event) => {\n      acc[event.type] = (acc[event.type] || 0) + 1;\n      return acc;\n    }, {});\n    return { total, byType };\n  };\n\n  // è·å–å‘é€çš„äº‹ä»¶ï¼ˆç”¨æˆ·ä¸»åŠ¨å‘é€çš„äº‹ä»¶ï¼‰\n  const getSentEvents = () => {\n    const sentEventTypes = ['weather_alert', 'parking_update', 'safety_inspection', 'autonomous_driving', 'traffic_monitor'];\n    return events.filter(event => sentEventTypes.includes(event.type));\n  };\n\n  // è·å–å‘é€äº‹ä»¶æ•°é‡\n  const getSentEventsCount = () => {\n    return getSentEvents().length;\n  };\n\n  // è·å–å‘é€äº‹ä»¶æ‘˜è¦\n  const getSentEventSummary = (event) => {\n    if (!event || !event.payload) {\n      return event?.title || event?.type || 'æœªçŸ¥äº‹ä»¶';\n    }\n    \n    switch (event.type) {\n      case 'weather_alert':\n        return `åŒºåŸŸ: ${event.payload.area || 'æœªçŸ¥'} - ç±»å‹: ${event.payload.alert_type || 'æœªçŸ¥'}`;\n      case 'parking_update':\n        return `ä½ç½®: ${event.payload.location || 'æœªçŸ¥'} - å¯ç”¨è½¦ä½: ${event.payload.available_spots || 'æœªçŸ¥'}`;\n      case 'safety_inspection':\n        return `ä½ç½®: ${event.payload.location || 'æœªçŸ¥'} - çŠ¶æ€: ${event.payload.safety_status || 'æœªçŸ¥'}`;\n      case 'autonomous_driving':\n        return `èµ·ç‚¹: ${event.payload.start_location || 'æœªçŸ¥'} - ç»ˆç‚¹: ${event.payload.end_location || 'æœªçŸ¥'}`;\n      case 'traffic_monitor':\n        return `äº¤é€šç›‘æ§æ•°æ®`;\n      default:\n        return event.title || event.type;\n    }\n  };\n\n  // è·å–ä¸å‘é€äº‹ä»¶ç›¸å…³çš„å“åº”äº‹ä»¶\n  const getRelatedEvents = (sentEvent) => {\n    if (!sentEvent || !sentEvent.timestamp) {\n      return [];\n    }\n    \n    const sentTime = new Date(sentEvent.timestamp);\n    const timeWindow = 10 * 60 * 1000; // å¢åŠ åˆ°10åˆ†é’Ÿæ—¶é—´çª—å£\n    \n    // å®šä¹‰æ™ºèƒ½ä½“å“åº”äº‹ä»¶ç±»å‹\n    const responseEventTypes = [\n      'workflow_start',\n      'main_task_result', \n      'coordination_start',\n      'coordination_result',\n      'workflow_complete',\n      'agent_message',\n      'agent_response',\n      'analysis_report',\n      'simulation_log'\n    ];\n    \n    return events.filter(event => {\n      if (!event || !event.timestamp) return false;\n      \n      const eventTime = new Date(event.timestamp);\n      const timeDiff = Math.abs(eventTime.getTime() - sentTime.getTime());\n      \n      // åœ¨æ—¶é—´çª—å£å†…ï¼Œæ˜¯å“åº”äº‹ä»¶ç±»å‹ï¼Œä¸”ä¸æ˜¯å‘é€äº‹ä»¶æœ¬èº«\n      return timeDiff <= timeWindow && \n             responseEventTypes.includes(event.type) && \n             event.type !== sentEvent.type;\n    }).sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));\n  };\n\n  const stats = getEventStats();\n\n  return (\n    <div className=\"interaction-record card\">\n      <div className=\"history-header\">\n        <h2 className=\"card__title\">ğŸ“Š äº¤äº’å†å² / Interaction History</h2>\n        <div className=\"header-controls\">\n          {getStatusPill()}\n          {readyState !== 1 && (\n            <button onClick={handleReconnect} className=\"reconnect-btn\">\n              ğŸ”„ é‡è¿ / Reconnect\n            </button>\n          )}\n        </div>\n      </div>\n      \n      {/* è¿æ¥çŠ¶æ€ä¿¡æ¯ */}\n      <div className=\"connection-info\">\n        <div className=\"connection-details\">\n          <span className=\"connection-item\">\n            <strong>æ¶ˆæ¯æ•° / Messages:</strong> {events.length}\n          </span>\n          <span className=\"connection-item\">\n            <strong>åç«¯ / Backend:</strong> http://localhost:8008\n          </span>\n          {connectionStats && (\n            <>\n              <span className=\"connection-item\">\n                <strong>ç”¨æˆ·ID / User ID:</strong> {connectionStats.userId}\n              </span>\n              <span className=\"connection-item\">\n                <strong>æ´»è·ƒè¿æ¥ / Active Connections:</strong> {connectionStats.activeConnections}/{connectionStats.totalConnections}\n              </span>\n            </>\n          )}\n        </div>\n      </div>\n\n      <div className=\"history-controls\">\n        <div className=\"action-buttons\">\n          <button onClick={onGenerateReport} className=\"generate-btn\">\n            ğŸ“„ ç”ŸæˆæŠ¥å‘Š / Generate Report\n          </button>\n          <button onClick={onClear} className=\"clear-btn\">\n            ğŸ—‘ï¸ æ¸…ç©ºå†å² / Clear History\n          </button>\n        </div>\n      </div>\n\n      <div className=\"history-layout\">\n        {/* å·¦ä¾§ï¼šå‘é€çš„äº‹ä»¶è¯¦æƒ… */}\n        <div className=\"sent-events-sidebar\">\n          <div className=\"sidebar-header\">\n            <h3>ğŸ“¤ å‘é€çš„äº‹ä»¶ / Sent Events</h3>\n            <span className=\"event-count\">{getSentEventsCount()} ä¸ªäº‹ä»¶</span>\n          </div>\n          <div className=\"sent-events-list\">\n            {getSentEvents().length === 0 ? (\n              <div className=\"empty-state\">\n                <div className=\"empty-icon\">ğŸ“­</div>\n                <p className=\"empty-text\">æš‚æ— å‘é€äº‹ä»¶ / No sent events yet</p>\n                <p className=\"empty-subtext\">å‘é€ä»»åŠ¡ä»¥æŸ¥çœ‹äº‹ä»¶è¯¦æƒ… / Send tasks to view event details</p>\n              </div>\n            ) : (\n              getSentEvents().map((event, index) => (\n                <div \n                  key={index} \n                  className={`sent-event-item ${selectedSentEvent === index ? 'selected' : ''}`}\n                  onClick={() => setSelectedSentEvent(index)}\n                >\n                  <div className=\"event-header\">\n                    <span className=\"event-icon\">{getEventIcon(event.type)}</span>\n                    <div className=\"event-info\">\n                      <div className=\"event-title\">{getEventTypeLabel(event.type)}</div>\n                      <div className=\"event-meta\">\n                        <span className=\"event-time\">{event.timestamp ? new Date(event.timestamp).toLocaleTimeString() : 'æœªçŸ¥æ—¶é—´'}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"event-summary\">\n                    {getSentEventSummary(event)}\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n\n        {/* å³ä¾§ï¼šäº¤äº’è®°å½•å’Œæ™ºèƒ½ä½“å“åº” */}\n        <div className=\"interactions-detail\">\n          {selectedSentEvent !== null ? (\n            <div className=\"detail-view\">\n              <div className=\"detail-header\">\n                <h3>ğŸ¤– æ™ºèƒ½ä½“äº¤äº’è®°å½• / Agent Interaction Records</h3>\n                <button \n                  className=\"close-detail\"\n                  onClick={() => setSelectedSentEvent(null)}\n                >\n                  âœ•\n                </button>\n              </div>\n              <div className=\"detail-content\">\n                {(() => {\n                  const sentEvent = getSentEvents()[selectedSentEvent];\n                  if (!sentEvent) return null;\n                  \n                  // è·å–ä¸è¿™ä¸ªå‘é€äº‹ä»¶ç›¸å…³çš„æ‰€æœ‰å“åº”äº‹ä»¶\n                  const relatedEvents = getRelatedEvents(sentEvent);\n                  \n                  return (\n                    <div className=\"interaction-flow\">\n                      {/* æ˜¾ç¤ºå‘é€çš„äº‹ä»¶è¯¦æƒ… */}\n                      <div className=\"sent-event-detail\">\n                        <div className=\"detail-section-header\">\n                          <span className=\"section-icon\">ğŸ“¤</span>\n                          <span className=\"section-title\">å‘é€çš„äº‹ä»¶è¯¦æƒ… / Sent Event Details</span>\n                        </div>\n                        <div className=\"event-detail-content\">\n                          <div className=\"detail-item\">\n                            <strong>äº‹ä»¶ç±»å‹ / Event Type:</strong> {getEventTypeLabel(sentEvent.type)}\n                          </div>\n                          <div className=\"detail-item\">\n                            <strong>å‘é€æ—¶é—´ / Sent Time:</strong> {new Date(sentEvent.timestamp).toLocaleString()}\n                          </div>\n                          <div className=\"detail-item\">\n                            <strong>äº‹ä»¶è¯¦æƒ… / Event Details:</strong>\n                            <div className=\"event-payload-detail\">\n                              {renderEventContent(sentEvent.type, sentEvent.payload)}\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* æ˜¾ç¤ºæ™ºèƒ½ä½“å“åº”æµç¨‹ */}\n                      <div className=\"agent-responses\">\n                        <div className=\"detail-section-header\">\n                          <span className=\"section-icon\">ğŸ¤–</span>\n                          <span className=\"section-title\">æ™ºèƒ½ä½“å“åº”æµç¨‹ / Agent Response Flow</span>\n                        </div>\n                        <div className=\"response-timeline\">\n                          {relatedEvents.length === 0 ? (\n                            <div className=\"no-responses\">\n                              <div className=\"no-responses-icon\">â³</div>\n                              <p>ç­‰å¾…æ™ºèƒ½ä½“å“åº” / Waiting for agent responses...</p>\n                            </div>\n                          ) : (\n                            relatedEvents.map((event, index) => (\n                              <div key={index} className=\"response-item\">\n                                <div className=\"response-header\">\n                                  <span className=\"response-icon\">{getEventIcon(event.type)}</span>\n                                  <span className=\"response-type\">{getEventTypeLabel(event.type)}</span>\n                                  <span className=\"response-time\">{new Date(event.timestamp).toLocaleTimeString()}</span>\n                                  <button \n                                    className={`expand-btn ${expandedEvents.has(`response_${selectedSentEvent}_${index}`) ? 'expanded' : ''}`}\n                                    onClick={() => {\n                                      const eventKey = `response_${selectedSentEvent}_${index}`;\n                                      const newExpanded = new Set(expandedEvents);\n                                      if (newExpanded.has(eventKey)) {\n                                        newExpanded.delete(eventKey);\n                                      } else {\n                                        newExpanded.add(eventKey);\n                                      }\n                                      setExpandedEvents(newExpanded);\n                                    }}\n                                  >\n                                    {expandedEvents.has(`response_${selectedSentEvent}_${index}`) ? 'â–¼' : 'â–¶'}\n                                  </button>\n                                </div>\n                                \n                                {/* å“åº”æ‘˜è¦ */}\n                                <div className=\"response-summary\">\n                                  {getEventSummary(event)}\n                                </div>\n                                \n                                {/* å±•å¼€çš„è¯¦ç»†å“åº” */}\n                                {expandedEvents.has(`response_${selectedSentEvent}_${index}`) && (\n                                  <div className=\"response-details\">\n                                    {renderEventContent(event.type, event.payload)}\n                                  </div>\n                                )}\n                              </div>\n                            ))\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })()}\n              </div>\n            </div>\n          ) : (\n            <div className=\"detail-placeholder\">\n              <div className=\"placeholder-icon\">ğŸ‘†</div>\n              <p className=\"placeholder-text\">é€‰æ‹©å·¦ä¾§äº‹ä»¶æŸ¥çœ‹æ™ºèƒ½ä½“äº¤äº’è®°å½•</p>\n              <p className=\"placeholder-subtext\">Click on a sent event to view agent interaction records</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"history-footer\">\n        <div className=\"footer-stats\">\n          <span className=\"stat-item\">\n            <span className=\"stat-label\">æ€»äº‹ä»¶ / Total Events:</span>\n            <span className=\"stat-value\">{stats.total}</span>\n          </span>\n          <span className=\"stat-item\">\n            <span className=\"stat-label\">æ˜¾ç¤º / Showing:</span>\n            <span className=\"stat-value\">{getSentEvents().length}</span>\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default InteractionHistory;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}