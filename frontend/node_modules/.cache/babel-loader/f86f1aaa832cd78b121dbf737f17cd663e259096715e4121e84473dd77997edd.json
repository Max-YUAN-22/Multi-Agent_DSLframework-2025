{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./AgentInteractionFlow.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AgentInteractionFlow=_ref=>{let{events,selectedEvent}=_ref;const[interactionFlow,setInteractionFlow]=useState([]);// 智能体配置\nconst agentConfig={'master_agent':{name:'主智能体',icon:'🎯',color:'#ff6b6b'},'traffic_manager':{name:'交通管理',icon:'🚦',color:'#4ecdc4'},'safety_agent':{name:'安全检测',icon:'🛡️',color:'#45b7d1'},'weather_agent':{name:'天气预警',icon:'🌦️',color:'#96ceb4'},'parking_agent':{name:'停车管理',icon:'🅿️',color:'#feca57'},'autonomous_driving':{name:'自动驾驶',icon:'🚗',color:'#ff9ff3'}};// 解析事件生成交互流程\nuseEffect(()=>{if(!selectedEvent||!events)return;const relatedEvents=getRelatedEvents(selectedEvent,events);const flow=generateInteractionFlow(selectedEvent,relatedEvents);setInteractionFlow(flow);},[selectedEvent,events]);const getRelatedEvents=(sentEvent,allEvents)=>{if(!sentEvent||!sentEvent.timestamp)return[];const timeWindow=10*60*1000;// 10分钟\nconst sentTime=new Date(sentEvent.timestamp);return allEvents.filter(event=>{if(!event.timestamp||event.id===sentEvent.id)return false;const eventTime=new Date(event.timestamp);const timeDiff=Math.abs(eventTime.getTime()-sentTime.getTime());return timeDiff<=timeWindow;}).sort((a,b)=>new Date(a.timestamp)-new Date(b.timestamp));};const generateInteractionFlow=(sentEvent,relatedEvents)=>{const flow=[];// 1. 初始事件\nconst eventType=(sentEvent===null||sentEvent===void 0?void 0:sentEvent.type)||(sentEvent===null||sentEvent===void 0?void 0:sentEvent.event_type)||'未知事件';const eventTitle=getEventTitle(sentEvent);flow.push({id:'initial',type:'event',agent:getAgentFromEvent(sentEvent),message:\"\\u89E6\\u53D1\\u4E8B\\u4EF6: \".concat(eventTitle),timestamp:sentEvent===null||sentEvent===void 0?void 0:sentEvent.timestamp,status:'completed'});// 2. 工作流事件\nrelatedEvents.forEach(event=>{const agent=getAgentFromEvent(event);const message=getEventMessage(event);flow.push({id:event.id||\"event_\".concat(Date.now()),type:event.type,agent:agent,message:message,timestamp:event.timestamp,status:'completed',details:event.payload});});return flow;};const getEventTitle=event=>{if(!event)return'未知事件';const eventType=event.type||event.event_type||'';const payload=event.payload||{};switch(eventType){case'weather_alert':return\"\\u5929\\u6C14\\u9884\\u8B66 - \".concat(payload.alert_type||'未知类型');case'autonomous_driving':return\"\\u81EA\\u52A8\\u9A7E\\u9A76 - \".concat(payload.start_location||'起点',\" \\u2192 \").concat(payload.end_location||'终点');case'parking_update':return\"\\u505C\\u8F66\\u66F4\\u65B0 - \".concat(payload.location||'未知位置');case'safety_inspection':return\"\\u5B89\\u5168\\u68C0\\u67E5 - \".concat(payload.location||'未知位置');default:return eventType||'未知事件';}};const getAgentFromEvent=event=>{if(!event)return'master_agent';const eventType=event.type||event.event_type||'';const payload=event.payload||{};switch(eventType){case'weather_alert':return'weather_agent';case'autonomous_driving':return'autonomous_driving';case'parking_update':return'parking_agent';case'safety_inspection':return'safety_agent';case'workflow_start':case'workflow_complete':return'master_agent';case'main_task_result':return'master_agent';case'coordination_start':case'coordination_result':return'master_agent';case'agent_response':// 从payload中获取智能体信息\nif(typeof payload==='object'&&payload!==null&&payload.agent){const agentName=payload.agent;if(typeof agentName==='string'){if(agentName.includes('交通管理'))return'traffic_manager';if(agentName.includes('安全'))return'safety_agent';if(agentName.includes('天气'))return'weather_agent';if(agentName.includes('停车'))return'parking_agent';if(agentName.includes('自动驾驶'))return'autonomous_driving';}}return'master_agent';case'agent_error':return'master_agent';default:// 从payload判断\nif(typeof payload==='string'&&payload.length>0){if(payload.includes('TrafficManager')||payload.includes('交通管理'))return'traffic_manager';if(payload.includes('SafetyAgent')||payload.includes('安全'))return'safety_agent';if(payload.includes('WeatherAgent')||payload.includes('天气'))return'weather_agent';if(payload.includes('ParkingAgent')||payload.includes('停车'))return'parking_agent';if(payload.includes('AutonomousDriving')||payload.includes('自动驾驶'))return'autonomous_driving';}else if(typeof payload==='object'&&payload!==null){// 如果是对象，尝试从对象属性中获取信息\nconst payloadStr=JSON.stringify(payload);if(payloadStr.includes('TrafficManager')||payloadStr.includes('交通管理'))return'traffic_manager';if(payloadStr.includes('SafetyAgent')||payloadStr.includes('安全'))return'safety_agent';if(payloadStr.includes('WeatherAgent')||payloadStr.includes('天气'))return'weather_agent';if(payloadStr.includes('ParkingAgent')||payloadStr.includes('停车'))return'parking_agent';if(payloadStr.includes('AutonomousDriving')||payloadStr.includes('自动驾驶'))return'autonomous_driving';}return'master_agent';}};const getEventMessage=event=>{const eventType=event.type||'';const payload=event.payload||{};switch(eventType){case'workflow_start':return'工作流启动';case'main_task_result':return'主智能体协调完成';case'coordination_start':return'子智能体协调开始';case'coordination_result':return'子智能体协调完成';case'workflow_complete':return'工作流执行完成';case'agent_response':// 从payload中获取智能体响应信息\nif(typeof payload==='object'&&payload!==null&&payload.agent){return\"\".concat(payload.agent,\"\\u54CD\\u5E94\");}return'智能体响应';case'agent_error':return'智能体执行错误';default:if(typeof payload==='string'&&payload.length>0){if(payload.includes('暴雨')||payload.includes('heavy_rain')){if(payload.includes('TrafficManager'))return'暴雨天气交通紧急响应';if(payload.includes('SafetyAgent'))return'暴雨天气安全紧急响应';}}else if(typeof payload==='object'&&payload!==null){const payloadStr=JSON.stringify(payload);if(payloadStr.includes('暴雨')||payloadStr.includes('heavy_rain')){if(payloadStr.includes('TrafficManager'))return'暴雨天气交通紧急响应';if(payloadStr.includes('SafetyAgent'))return'暴雨天气安全紧急响应';}}return'智能体响应';}};if(!selectedEvent||interactionFlow.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"agent-interaction-flow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flow-placeholder\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"placeholder-icon\",children:\"\\uD83E\\uDD16\"}),/*#__PURE__*/_jsx(\"div\",{className:\"placeholder-text\",children:\"\\u9009\\u62E9\\u5DE6\\u4FA7\\u4E8B\\u4EF6\\u67E5\\u770B\\u667A\\u80FD\\u4F53\\u4EA4\\u4E92\\u6D41\\u7A0B\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"agent-interaction-flow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flow-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83E\\uDD16 \\u667A\\u80FD\\u4F53\\u4EA4\\u4E92\\u6D41\\u7A0B\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flow-info\",children:[\"\\u5171 \",interactionFlow.length,\" \\u4E2A\\u6B65\\u9AA4\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flow-timeline\",children:interactionFlow.map((step,index)=>{const agent=agentConfig[step.agent]||{name:'未知智能体',icon:'❓',color:'#ccc'};return/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-step completed\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"step-indicator\",style:{backgroundColor:agent.color},children:/*#__PURE__*/_jsx(\"div\",{className:\"step-icon\",children:agent.icon})}),/*#__PURE__*/_jsxs(\"div\",{className:\"step-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"step-title\",children:step.message}),/*#__PURE__*/_jsx(\"div\",{className:\"step-agent\",children:agent.name}),/*#__PURE__*/_jsx(\"div\",{className:\"step-time\",children:step.timestamp?new Date(step.timestamp).toLocaleTimeString():''}),step.details&&/*#__PURE__*/_jsx(\"div\",{className:\"step-details\",children:typeof step.details==='string'?step.details.substring(0,100)+'...':'详细信息'})]})]},step.id);})})]});};export default AgentInteractionFlow;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","AgentInteractionFlow","_ref","events","selectedEvent","interactionFlow","setInteractionFlow","agentConfig","name","icon","color","relatedEvents","getRelatedEvents","flow","generateInteractionFlow","sentEvent","allEvents","timestamp","timeWindow","sentTime","Date","filter","event","id","eventTime","timeDiff","Math","abs","getTime","sort","a","b","eventType","type","event_type","eventTitle","getEventTitle","push","agent","getAgentFromEvent","message","concat","status","forEach","getEventMessage","now","details","payload","alert_type","start_location","end_location","location","agentName","includes","length","payloadStr","JSON","stringify","className","children","map","step","index","style","backgroundColor","toLocaleTimeString","substring"],"sources":["/Users/Apple/Desktop/multi-agent-dsl-final/frontend/src/components/AgentInteractionFlow.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './AgentInteractionFlow.css';\n\nconst AgentInteractionFlow = ({ events, selectedEvent }) => {\n  const [interactionFlow, setInteractionFlow] = useState([]);\n\n  // 智能体配置\n  const agentConfig = {\n    'master_agent': { name: '主智能体', icon: '🎯', color: '#ff6b6b' },\n    'traffic_manager': { name: '交通管理', icon: '🚦', color: '#4ecdc4' },\n    'safety_agent': { name: '安全检测', icon: '🛡️', color: '#45b7d1' },\n    'weather_agent': { name: '天气预警', icon: '🌦️', color: '#96ceb4' },\n    'parking_agent': { name: '停车管理', icon: '🅿️', color: '#feca57' },\n    'autonomous_driving': { name: '自动驾驶', icon: '🚗', color: '#ff9ff3' }\n  };\n\n  // 解析事件生成交互流程\n  useEffect(() => {\n    if (!selectedEvent || !events) return;\n\n    const relatedEvents = getRelatedEvents(selectedEvent, events);\n    const flow = generateInteractionFlow(selectedEvent, relatedEvents);\n    setInteractionFlow(flow);\n  }, [selectedEvent, events]);\n\n  const getRelatedEvents = (sentEvent, allEvents) => {\n    if (!sentEvent || !sentEvent.timestamp) return [];\n    \n    const timeWindow = 10 * 60 * 1000; // 10分钟\n    const sentTime = new Date(sentEvent.timestamp);\n    \n    return allEvents.filter(event => {\n      if (!event.timestamp || event.id === sentEvent.id) return false;\n      \n      const eventTime = new Date(event.timestamp);\n      const timeDiff = Math.abs(eventTime.getTime() - sentTime.getTime());\n      \n      return timeDiff <= timeWindow;\n    }).sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));\n  };\n\n  const generateInteractionFlow = (sentEvent, relatedEvents) => {\n    const flow = [];\n    \n    // 1. 初始事件\n    const eventType = sentEvent?.type || sentEvent?.event_type || '未知事件';\n    const eventTitle = getEventTitle(sentEvent);\n    \n    flow.push({\n      id: 'initial',\n      type: 'event',\n      agent: getAgentFromEvent(sentEvent),\n      message: `触发事件: ${eventTitle}`,\n      timestamp: sentEvent?.timestamp,\n      status: 'completed'\n    });\n\n    // 2. 工作流事件\n    relatedEvents.forEach(event => {\n      const agent = getAgentFromEvent(event);\n      const message = getEventMessage(event);\n      \n      flow.push({\n        id: event.id || `event_${Date.now()}`,\n        type: event.type,\n        agent: agent,\n        message: message,\n        timestamp: event.timestamp,\n        status: 'completed',\n        details: event.payload\n      });\n    });\n\n    return flow;\n  };\n\n  const getEventTitle = (event) => {\n    if (!event) return '未知事件';\n    \n    const eventType = event.type || event.event_type || '';\n    const payload = event.payload || {};\n    \n    switch (eventType) {\n      case 'weather_alert':\n        return `天气预警 - ${payload.alert_type || '未知类型'}`;\n      case 'autonomous_driving':\n        return `自动驾驶 - ${payload.start_location || '起点'} → ${payload.end_location || '终点'}`;\n      case 'parking_update':\n        return `停车更新 - ${payload.location || '未知位置'}`;\n      case 'safety_inspection':\n        return `安全检查 - ${payload.location || '未知位置'}`;\n      default:\n        return eventType || '未知事件';\n    }\n  };\n\n  const getAgentFromEvent = (event) => {\n    if (!event) return 'master_agent';\n    \n    const eventType = event.type || event.event_type || '';\n    const payload = event.payload || {};\n    \n    switch (eventType) {\n      case 'weather_alert':\n        return 'weather_agent';\n      case 'autonomous_driving':\n        return 'autonomous_driving';\n      case 'parking_update':\n        return 'parking_agent';\n      case 'safety_inspection':\n        return 'safety_agent';\n      case 'workflow_start':\n      case 'workflow_complete':\n        return 'master_agent';\n      case 'main_task_result':\n        return 'master_agent';\n      case 'coordination_start':\n      case 'coordination_result':\n        return 'master_agent';\n      case 'agent_response':\n        // 从payload中获取智能体信息\n        if (typeof payload === 'object' && payload !== null && payload.agent) {\n          const agentName = payload.agent;\n          if (typeof agentName === 'string') {\n            if (agentName.includes('交通管理')) return 'traffic_manager';\n            if (agentName.includes('安全')) return 'safety_agent';\n            if (agentName.includes('天气')) return 'weather_agent';\n            if (agentName.includes('停车')) return 'parking_agent';\n            if (agentName.includes('自动驾驶')) return 'autonomous_driving';\n          }\n        }\n        return 'master_agent';\n      case 'agent_error':\n        return 'master_agent';\n      default:\n        // 从payload判断\n        if (typeof payload === 'string' && payload.length > 0) {\n          if (payload.includes('TrafficManager') || payload.includes('交通管理')) return 'traffic_manager';\n          if (payload.includes('SafetyAgent') || payload.includes('安全')) return 'safety_agent';\n          if (payload.includes('WeatherAgent') || payload.includes('天气')) return 'weather_agent';\n          if (payload.includes('ParkingAgent') || payload.includes('停车')) return 'parking_agent';\n          if (payload.includes('AutonomousDriving') || payload.includes('自动驾驶')) return 'autonomous_driving';\n        } else if (typeof payload === 'object' && payload !== null) {\n          // 如果是对象，尝试从对象属性中获取信息\n          const payloadStr = JSON.stringify(payload);\n          if (payloadStr.includes('TrafficManager') || payloadStr.includes('交通管理')) return 'traffic_manager';\n          if (payloadStr.includes('SafetyAgent') || payloadStr.includes('安全')) return 'safety_agent';\n          if (payloadStr.includes('WeatherAgent') || payloadStr.includes('天气')) return 'weather_agent';\n          if (payloadStr.includes('ParkingAgent') || payloadStr.includes('停车')) return 'parking_agent';\n          if (payloadStr.includes('AutonomousDriving') || payloadStr.includes('自动驾驶')) return 'autonomous_driving';\n        }\n        \n        return 'master_agent';\n    }\n  };\n\n  const getEventMessage = (event) => {\n    const eventType = event.type || '';\n    const payload = event.payload || {};\n    \n    switch (eventType) {\n      case 'workflow_start':\n        return '工作流启动';\n      case 'main_task_result':\n        return '主智能体协调完成';\n      case 'coordination_start':\n        return '子智能体协调开始';\n      case 'coordination_result':\n        return '子智能体协调完成';\n      case 'workflow_complete':\n        return '工作流执行完成';\n      case 'agent_response':\n        // 从payload中获取智能体响应信息\n        if (typeof payload === 'object' && payload !== null && payload.agent) {\n          return `${payload.agent}响应`;\n        }\n        return '智能体响应';\n      case 'agent_error':\n        return '智能体执行错误';\n      default:\n        if (typeof payload === 'string' && payload.length > 0) {\n          if (payload.includes('暴雨') || payload.includes('heavy_rain')) {\n            if (payload.includes('TrafficManager')) return '暴雨天气交通紧急响应';\n            if (payload.includes('SafetyAgent')) return '暴雨天气安全紧急响应';\n          }\n        } else if (typeof payload === 'object' && payload !== null) {\n          const payloadStr = JSON.stringify(payload);\n          if (payloadStr.includes('暴雨') || payloadStr.includes('heavy_rain')) {\n            if (payloadStr.includes('TrafficManager')) return '暴雨天气交通紧急响应';\n            if (payloadStr.includes('SafetyAgent')) return '暴雨天气安全紧急响应';\n          }\n        }\n        return '智能体响应';\n    }\n  };\n\n  if (!selectedEvent || interactionFlow.length === 0) {\n    return (\n      <div className=\"agent-interaction-flow\">\n        <div className=\"flow-placeholder\">\n          <div className=\"placeholder-icon\">🤖</div>\n          <div className=\"placeholder-text\">选择左侧事件查看智能体交互流程</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"agent-interaction-flow\">\n      <div className=\"flow-header\">\n        <h3>🤖 智能体交互流程</h3>\n        <div className=\"flow-info\">\n          共 {interactionFlow.length} 个步骤\n        </div>\n      </div>\n      \n      <div className=\"flow-timeline\">\n        {interactionFlow.map((step, index) => {\n          const agent = agentConfig[step.agent] || { name: '未知智能体', icon: '❓', color: '#ccc' };\n          \n          return (\n            <div key={step.id} className=\"timeline-step completed\">\n              <div className=\"step-indicator\" style={{ backgroundColor: agent.color }}>\n                <div className=\"step-icon\">{agent.icon}</div>\n              </div>\n              <div className=\"step-content\">\n                <div className=\"step-title\">{step.message}</div>\n                <div className=\"step-agent\">{agent.name}</div>\n                <div className=\"step-time\">\n                  {step.timestamp ? new Date(step.timestamp).toLocaleTimeString() : ''}\n                </div>\n                {step.details && (\n                  <div className=\"step-details\">\n                    {typeof step.details === 'string' ? step.details.substring(0, 100) + '...' : '详细信息'}\n                  </div>\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default AgentInteractionFlow;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}