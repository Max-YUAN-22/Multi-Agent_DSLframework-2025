{"ast":null,"code":"// frontend/src/components/ReportSidebar.jsx\nimport React,{useState,useEffect}from'react';import'./ReportSidebar.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ReportSidebar=_ref=>{let{events=[],isOpen,onClose,onGenerateReport}=_ref;const[reportData,setReportData]=useState(null);const[isGenerating,setIsGenerating]=useState(false);// 获取最近5次发送的事件\nconst getRecentSentEvents=()=>{const sentEventTypes=['weather_alert','parking_update','safety_inspection','autonomous_driving'];return events.filter(event=>sentEventTypes.includes(event.type)).slice(-5).reverse();// 最新的在前\n};// 获取与发送事件相关的智能体交互\nconst getAgentInteractions=sentEvent=>{if(!sentEvent||!sentEvent.timestamp)return[];const sentTime=new Date(sentEvent.timestamp);const timeWindow=5*60*1000;// 5分钟时间窗口\nconst responseEventTypes=['workflow_start','main_task_result','coordination_start','coordination_result','workflow_complete','agent_message','agent_response','analysis_report'];return events.filter(event=>{if(!event||!event.timestamp)return false;const eventTime=new Date(event.timestamp);const timeDiff=Math.abs(eventTime.getTime()-sentTime.getTime());return timeDiff<=timeWindow&&responseEventTypes.includes(event.type)&&event.type!==sentEvent.type;}).sort((a,b)=>new Date(a.timestamp)-new Date(b.timestamp));};// 获取所有报告\nconst getAllReports=()=>{const reports=events.filter(event=>event.type==='analysis_report');console.log('📊 Found reports:',reports);return reports;};// 生成报告\nconst handleGenerateReport=async()=>{setIsGenerating(true);try{await onGenerateReport();// 等待报告生成完成\nsetTimeout(()=>{setIsGenerating(false);},2000);}catch(error){console.error('Error generating report:',error);setIsGenerating(false);}};// 获取事件图标\nconst getEventIcon=type=>{const icons={'workflow_start':'🚀','main_task_result':'👑','coordination_start':'🤝','coordination_result':'🎯','workflow_complete':'🏁','agent_message':'🤖','agent_response':'💬','analysis_report':'📊','weather_alert':'🌧️','parking_update':'🅿️','safety_inspection':'🛡️','autonomous_driving':'🚙','default':'📝'};return icons[type]||icons['default'];};// 获取事件类型标签\nconst getEventTypeLabel=type=>{const labels={'workflow_start':'工作流启动','main_task_result':'主智能体协调','coordination_start':'子智能体协调','coordination_result':'子智能体协同','workflow_complete':'工作流完成','agent_message':'智能体消息','agent_response':'智能体响应','analysis_report':'分析报告','weather_alert':'天气警报','parking_update':'停车更新','safety_inspection':'安全检查','autonomous_driving':'自动驾驶','default':'未知事件'};return labels[type]||labels['default'];};// 渲染智能体交互流程\nconst renderAgentInteractionFlow=interactions=>{if(interactions.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"no-interactions\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"no-interactions-icon\",children:\"\\u23F3\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u7B49\\u5F85\\u667A\\u80FD\\u4F53\\u54CD\\u5E94...\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"interaction-flow\",children:interactions.map((interaction,index)=>{var _interaction$payload,_interaction$payload2;return/*#__PURE__*/_jsxs(\"div\",{className:\"interaction-step\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"step-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"step-icon\",children:getEventIcon(interaction.type)}),/*#__PURE__*/_jsx(\"span\",{className:\"step-type\",children:getEventTypeLabel(interaction.type)}),/*#__PURE__*/_jsx(\"span\",{className:\"step-time\",children:new Date(interaction.timestamp).toLocaleTimeString()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"step-content\",children:interaction.type==='agent_response'&&(_interaction$payload=interaction.payload)!==null&&_interaction$payload!==void 0&&_interaction$payload.agent?/*#__PURE__*/_jsxs(\"div\",{className:\"agent-response\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[interaction.payload.agent,\":\"]}),\" \",interaction.payload.result]}):interaction.type==='coordination_result'?/*#__PURE__*/_jsxs(\"div\",{className:\"coordination-result\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u534F\\u540C\\u5B8C\\u6210:\"}),\" \",((_interaction$payload2=interaction.payload)===null||_interaction$payload2===void 0?void 0:_interaction$payload2.total_agents)||0,\"\\u4E2A\\u667A\\u80FD\\u4F53\\u54CD\\u5E94\"]}):/*#__PURE__*/_jsx(\"div\",{className:\"step-message\",children:typeof interaction.payload==='string'?interaction.payload:JSON.stringify(interaction.payload)})})]},index);})});};// 渲染发送事件摘要\nconst renderSentEventSummary=event=>{if(!event||!event.payload)return'未知事件';switch(event.type){case'weather_alert':return\"\\u533A\\u57DF: \".concat(event.payload.area||'未知',\" - \\u7C7B\\u578B: \").concat(event.payload.alert_type||'未知');case'parking_update':return\"\\u4F4D\\u7F6E: \".concat(event.payload.location||'未知',\" - \\u53EF\\u7528\\u8F66\\u4F4D: \").concat(event.payload.available_spots||'未知');case'safety_inspection':return\"\\u4F4D\\u7F6E: \".concat(event.payload.location||'未知',\" - \\u72B6\\u6001: \").concat(event.payload.safety_status||'未知');case'autonomous_driving':return\"\\u8D77\\u70B9: \".concat(event.payload.start_location||'未知',\" - \\u7EC8\\u70B9: \").concat(event.payload.end_location||'未知');default:return event.title||event.type;}};const recentEvents=getRecentSentEvents();return/*#__PURE__*/_jsxs(\"div\",{className:\"report-sidebar \".concat(isOpen?'open':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"sidebar-title\",children:\"\\uD83D\\uDCCA \\u667A\\u80FD\\u4F53\\u4EA4\\u4E92\\u62A5\\u544A\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:onClose,children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"report-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"generate-report-btn\",onClick:handleGenerateReport,disabled:isGenerating||recentEvents.length===0,children:isGenerating?'🔄 生成中...':'📄 生成综合报告'}),/*#__PURE__*/_jsxs(\"p\",{className:\"report-hint\",children:[\"\\u57FA\\u4E8E\\u6700\\u8FD1 \",recentEvents.length,\" \\u6B21\\u53D1\\u9001\\u4E8B\\u4EF6\\u751F\\u6210\\u62A5\\u544A\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recent-events-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"section-title\",children:\"\\uD83D\\uDCE4 \\u6700\\u8FD1\\u53D1\\u9001\\u4E8B\\u4EF6\"}),recentEvents.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDCED\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u6682\\u65E0\\u53D1\\u9001\\u4E8B\\u4EF6\"}),/*#__PURE__*/_jsx(\"p\",{className:\"empty-subtext\",children:\"\\u53D1\\u9001\\u4EFB\\u52A1\\u4EE5\\u67E5\\u770B\\u4EA4\\u4E92\\u8BB0\\u5F55\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"events-list\",children:recentEvents.map((event,index)=>{const interactions=getAgentInteractions(event);return/*#__PURE__*/_jsxs(\"div\",{className:\"event-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"event-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"event-icon\",children:getEventIcon(event.type)}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"event-title\",children:getEventTypeLabel(event.type)}),/*#__PURE__*/_jsx(\"div\",{className:\"event-time\",children:new Date(event.timestamp).toLocaleString()})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"event-summary\",children:renderSentEventSummary(event)}),/*#__PURE__*/_jsxs(\"div\",{className:\"agent-interactions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"interactions-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"interactions-title\",children:\"\\uD83E\\uDD16 \\u667A\\u80FD\\u4F53\\u4EA4\\u4E92\\u8BB0\\u5F55\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"interactions-count\",children:[interactions.length,\" \\u4E2A\\u54CD\\u5E94\"]})]}),renderAgentInteractionFlow(interactions)]})]},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reports-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"section-title\",children:\"\\uD83D\\uDCCA \\u751F\\u6210\\u7684\\u62A5\\u544A\"}),getAllReports().length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDCC4\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u6682\\u65E0\\u751F\\u6210\\u7684\\u62A5\\u544A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"empty-subtext\",children:\"\\u70B9\\u51FB\\\"\\u751F\\u6210\\u7EFC\\u5408\\u62A5\\u544A\\\"\\u6309\\u94AE\\u521B\\u5EFA\\u62A5\\u544A\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"reports-list\",children:getAllReports().map((report,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"report-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"report-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"report-icon\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"report-title\",children:report.title||'城市分析报告'}),/*#__PURE__*/_jsx(\"div\",{className:\"report-time\",children:new Date(report.timestamp).toLocaleString()})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"report-content\",children:report.payload&&report.payload.report?/*#__PURE__*/_jsx(\"div\",{className:\"report-text\",children:report.payload.report.split('\\n').map((line,lineIndex)=>/*#__PURE__*/_jsx(\"p\",{className:\"report-paragraph\",children:line},lineIndex))}):/*#__PURE__*/_jsx(\"p\",{className:\"report-text\",children:\"\\u62A5\\u544A\\u5185\\u5BB9\\u52A0\\u8F7D\\u4E2D...\"})})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"section-title\",children:\"\\uD83D\\uDCC8 \\u7EDF\\u8BA1\\u4FE1\\u606F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:recentEvents.length}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\u53D1\\u9001\\u4E8B\\u4EF6\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:recentEvents.reduce((sum,event)=>sum+getAgentInteractions(event).length,0)}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\u667A\\u80FD\\u4F53\\u54CD\\u5E94\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:getAllReports().length}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\u751F\\u6210\\u62A5\\u544A\"})]})]})]})]})]});};export default ReportSidebar;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","ReportSidebar","_ref","events","isOpen","onClose","onGenerateReport","reportData","setReportData","isGenerating","setIsGenerating","getRecentSentEvents","sentEventTypes","filter","event","includes","type","slice","reverse","getAgentInteractions","sentEvent","timestamp","sentTime","Date","timeWindow","responseEventTypes","eventTime","timeDiff","Math","abs","getTime","sort","a","b","getAllReports","reports","console","log","handleGenerateReport","setTimeout","error","getEventIcon","icons","getEventTypeLabel","labels","renderAgentInteractionFlow","interactions","length","className","children","map","interaction","index","_interaction$payload","_interaction$payload2","toLocaleTimeString","payload","agent","result","total_agents","JSON","stringify","renderSentEventSummary","concat","area","alert_type","location","available_spots","safety_status","start_location","end_location","title","recentEvents","onClick","disabled","toLocaleString","report","split","line","lineIndex","reduce","sum"],"sources":["/Users/Apple/Desktop/multi-agent-dsl-final/frontend/src/components/ReportSidebar.jsx"],"sourcesContent":["// frontend/src/components/ReportSidebar.jsx\nimport React, { useState, useEffect } from 'react';\nimport './ReportSidebar.css';\n\nconst ReportSidebar = ({ events = [], isOpen, onClose, onGenerateReport }) => {\n  const [reportData, setReportData] = useState(null);\n  const [isGenerating, setIsGenerating] = useState(false);\n\n  // 获取最近5次发送的事件\n  const getRecentSentEvents = () => {\n    const sentEventTypes = ['weather_alert', 'parking_update', 'safety_inspection', 'autonomous_driving'];\n    return events\n      .filter(event => sentEventTypes.includes(event.type))\n      .slice(-5)\n      .reverse(); // 最新的在前\n  };\n\n  // 获取与发送事件相关的智能体交互\n  const getAgentInteractions = (sentEvent) => {\n    if (!sentEvent || !sentEvent.timestamp) return [];\n    \n    const sentTime = new Date(sentEvent.timestamp);\n    const timeWindow = 5 * 60 * 1000; // 5分钟时间窗口\n    \n    const responseEventTypes = [\n      'workflow_start',\n      'main_task_result', \n      'coordination_start',\n      'coordination_result',\n      'workflow_complete',\n      'agent_message',\n      'agent_response',\n      'analysis_report'\n    ];\n    \n    return events.filter(event => {\n      if (!event || !event.timestamp) return false;\n      \n      const eventTime = new Date(event.timestamp);\n      const timeDiff = Math.abs(eventTime.getTime() - sentTime.getTime());\n      \n      return timeDiff <= timeWindow && \n             responseEventTypes.includes(event.type) && \n             event.type !== sentEvent.type;\n    }).sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));\n  };\n\n  // 获取所有报告\n  const getAllReports = () => {\n    const reports = events.filter(event => event.type === 'analysis_report');\n    console.log('📊 Found reports:', reports);\n    return reports;\n  };\n\n  // 生成报告\n  const handleGenerateReport = async () => {\n    setIsGenerating(true);\n    try {\n      await onGenerateReport();\n      // 等待报告生成完成\n      setTimeout(() => {\n        setIsGenerating(false);\n      }, 2000);\n    } catch (error) {\n      console.error('Error generating report:', error);\n      setIsGenerating(false);\n    }\n  };\n\n  // 获取事件图标\n  const getEventIcon = (type) => {\n    const icons = {\n      'workflow_start': '🚀',\n      'main_task_result': '👑',\n      'coordination_start': '🤝',\n      'coordination_result': '🎯',\n      'workflow_complete': '🏁',\n      'agent_message': '🤖',\n      'agent_response': '💬',\n      'analysis_report': '📊',\n      'weather_alert': '🌧️',\n      'parking_update': '🅿️',\n      'safety_inspection': '🛡️',\n      'autonomous_driving': '🚙',\n      'default': '📝'\n    };\n    return icons[type] || icons['default'];\n  };\n\n  // 获取事件类型标签\n  const getEventTypeLabel = (type) => {\n    const labels = {\n      'workflow_start': '工作流启动',\n      'main_task_result': '主智能体协调',\n      'coordination_start': '子智能体协调',\n      'coordination_result': '子智能体协同',\n      'workflow_complete': '工作流完成',\n      'agent_message': '智能体消息',\n      'agent_response': '智能体响应',\n      'analysis_report': '分析报告',\n      'weather_alert': '天气警报',\n      'parking_update': '停车更新',\n      'safety_inspection': '安全检查',\n      'autonomous_driving': '自动驾驶',\n      'default': '未知事件'\n    };\n    return labels[type] || labels['default'];\n  };\n\n  // 渲染智能体交互流程\n  const renderAgentInteractionFlow = (interactions) => {\n    if (interactions.length === 0) {\n      return (\n        <div className=\"no-interactions\">\n          <div className=\"no-interactions-icon\">⏳</div>\n          <p>等待智能体响应...</p>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"interaction-flow\">\n        {interactions.map((interaction, index) => (\n          <div key={index} className=\"interaction-step\">\n            <div className=\"step-header\">\n              <span className=\"step-icon\">{getEventIcon(interaction.type)}</span>\n              <span className=\"step-type\">{getEventTypeLabel(interaction.type)}</span>\n              <span className=\"step-time\">\n                {new Date(interaction.timestamp).toLocaleTimeString()}\n              </span>\n            </div>\n            <div className=\"step-content\">\n              {interaction.type === 'agent_response' && interaction.payload?.agent ? (\n                <div className=\"agent-response\">\n                  <strong>{interaction.payload.agent}:</strong> {interaction.payload.result}\n                </div>\n              ) : interaction.type === 'coordination_result' ? (\n                <div className=\"coordination-result\">\n                  <strong>协同完成:</strong> {interaction.payload?.total_agents || 0}个智能体响应\n                </div>\n              ) : (\n                <div className=\"step-message\">\n                  {typeof interaction.payload === 'string' ? interaction.payload : JSON.stringify(interaction.payload)}\n                </div>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  };\n\n  // 渲染发送事件摘要\n  const renderSentEventSummary = (event) => {\n    if (!event || !event.payload) return '未知事件';\n    \n    switch (event.type) {\n      case 'weather_alert':\n        return `区域: ${event.payload.area || '未知'} - 类型: ${event.payload.alert_type || '未知'}`;\n      case 'parking_update':\n        return `位置: ${event.payload.location || '未知'} - 可用车位: ${event.payload.available_spots || '未知'}`;\n      case 'safety_inspection':\n        return `位置: ${event.payload.location || '未知'} - 状态: ${event.payload.safety_status || '未知'}`;\n      case 'autonomous_driving':\n        return `起点: ${event.payload.start_location || '未知'} - 终点: ${event.payload.end_location || '未知'}`;\n      default:\n        return event.title || event.type;\n    }\n  };\n\n  const recentEvents = getRecentSentEvents();\n\n  return (\n    <div className={`report-sidebar ${isOpen ? 'open' : ''}`}>\n      <div className=\"sidebar-header\">\n        <h2 className=\"sidebar-title\">📊 智能体交互报告</h2>\n        <button className=\"close-btn\" onClick={onClose}>✕</button>\n      </div>\n\n      <div className=\"sidebar-content\">\n        {/* 报告生成按钮 */}\n        <div className=\"report-controls\">\n          <button \n            className=\"generate-report-btn\"\n            onClick={handleGenerateReport}\n            disabled={isGenerating || recentEvents.length === 0}\n          >\n            {isGenerating ? '🔄 生成中...' : '📄 生成综合报告'}\n          </button>\n          <p className=\"report-hint\">\n            基于最近 {recentEvents.length} 次发送事件生成报告\n          </p>\n        </div>\n\n        {/* 最近发送事件列表 */}\n        <div className=\"recent-events-section\">\n          <h3 className=\"section-title\">📤 最近发送事件</h3>\n          {recentEvents.length === 0 ? (\n            <div className=\"empty-state\">\n              <div className=\"empty-icon\">📭</div>\n              <p>暂无发送事件</p>\n              <p className=\"empty-subtext\">发送任务以查看交互记录</p>\n            </div>\n          ) : (\n            <div className=\"events-list\">\n              {recentEvents.map((event, index) => {\n                const interactions = getAgentInteractions(event);\n                return (\n                  <div key={index} className=\"event-item\">\n                    <div className=\"event-header\">\n                      <span className=\"event-icon\">{getEventIcon(event.type)}</span>\n                      <div className=\"event-info\">\n                        <div className=\"event-title\">{getEventTypeLabel(event.type)}</div>\n                        <div className=\"event-time\">\n                          {new Date(event.timestamp).toLocaleString()}\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"event-summary\">\n                      {renderSentEventSummary(event)}\n                    </div>\n\n                    {/* 智能体交互记录 */}\n                    <div className=\"agent-interactions\">\n                      <div className=\"interactions-header\">\n                        <span className=\"interactions-title\">🤖 智能体交互记录</span>\n                        <span className=\"interactions-count\">\n                          {interactions.length} 个响应\n                        </span>\n                      </div>\n                      {renderAgentInteractionFlow(interactions)}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n\n        {/* 生成的报告 */}\n        <div className=\"reports-section\">\n          <h3 className=\"section-title\">📊 生成的报告</h3>\n          {getAllReports().length === 0 ? (\n            <div className=\"empty-state\">\n              <div className=\"empty-icon\">📄</div>\n              <p>暂无生成的报告</p>\n              <p className=\"empty-subtext\">点击\"生成综合报告\"按钮创建报告</p>\n            </div>\n          ) : (\n            <div className=\"reports-list\">\n              {getAllReports().map((report, index) => (\n                <div key={index} className=\"report-item\">\n                  <div className=\"report-header\">\n                    <span className=\"report-icon\">📊</span>\n                    <div className=\"report-info\">\n                      <div className=\"report-title\">{report.title || '城市分析报告'}</div>\n                      <div className=\"report-time\">\n                        {new Date(report.timestamp).toLocaleString()}\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"report-content\">\n                    {report.payload && report.payload.report ? (\n                      <div className=\"report-text\">\n                        {report.payload.report.split('\\n').map((line, lineIndex) => (\n                          <p key={lineIndex} className=\"report-paragraph\">{line}</p>\n                        ))}\n                      </div>\n                    ) : (\n                      <p className=\"report-text\">报告内容加载中...</p>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* 统计信息 */}\n        <div className=\"stats-section\">\n          <h3 className=\"section-title\">📈 统计信息</h3>\n          <div className=\"stats-grid\">\n            <div className=\"stat-item\">\n              <div className=\"stat-value\">{recentEvents.length}</div>\n              <div className=\"stat-label\">发送事件</div>\n            </div>\n            <div className=\"stat-item\">\n              <div className=\"stat-value\">\n                {recentEvents.reduce((sum, event) => sum + getAgentInteractions(event).length, 0)}\n              </div>\n              <div className=\"stat-label\">智能体响应</div>\n            </div>\n            <div className=\"stat-item\">\n              <div className=\"stat-value\">{getAllReports().length}</div>\n              <div className=\"stat-label\">生成报告</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ReportSidebar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}