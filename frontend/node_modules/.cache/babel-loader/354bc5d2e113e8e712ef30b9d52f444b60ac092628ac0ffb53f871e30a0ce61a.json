{"ast":null,"code":"import _objectSpread from\"/Users/Apple/Desktop/multi-agent-dsl-final/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import'./AgentArchitecture.css';import{useTranslation,LanguageSwitcher}from'../hooks/useTranslation';import{callDeepSeekAPIMock}from'../config/deepseek';import AgentSelector from'./AgentSelector';import TaskInput from'./TaskInput';import WorkflowExecutor from'./WorkflowExecutor';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AgentArchitecture=()=>{const{t}=useTranslation();const[selectedAgent,setSelectedAgent]=useState(null);const[selectedAgents,setSelectedAgents]=useState([]);// 多智能体选择\nconst[activeSendAgent,setActiveSendAgent]=useState(null);const[sendMessage,setSendMessage]=useState('');const[interactionHistory,setInteractionHistory]=useState([]);// 交互记录\nconst[isMultiAgentMode,setIsMultiAgentMode]=useState(false);// 多智能体模式\nconst[isRightSidebarCollapsed,setIsRightSidebarCollapsed]=useState(false);// 右边栏折叠状态\nconst[isLoading,setIsLoading]=useState(false);// 加载状态\nconst[error,setError]=useState(null);// 错误状态\nconst[systemMetrics,setSystemMetrics]=useState({// 系统指标\ncpuUsage:45,memoryUsage:62,networkLatency:12,activeConnections:156});// 企业级功能状态\nconst[showUserMenu,setShowUserMenu]=useState(false);const[showNotifications,setShowNotifications]=useState(false);const[showSettings,setShowSettings]=useState(false);const[showHelp,setShowHelp]=useState(false);const[notifications]=useState([{id:1,title:'系统更新',message:'Multi-Agent DSL Platform v2.1.0 已发布',time:'2分钟前',unread:true},{id:2,title:'任务完成',message:'交通优化任务已成功执行',time:'15分钟前',unread:true},{id:3,title:'系统警告',message:'CPU使用率超过80%',time:'1小时前',unread:false}]);// AI助手状态\nconst[showAIChat,setShowAIChat]=useState(false);const[aiMessages,setAiMessages]=useState([{id:1,type:'ai',content:'您好！我是DeepSeek AI助手，专门帮助您解决Multi-Agent DSL Platform的问题。请问有什么可以帮助您的吗？',timestamp:new Date()}]);const[aiInput,setAiInput]=useState('');const[isAiTyping,setIsAiTyping]=useState(false);const scrollToSection=sectionId=>{const element=document.getElementById(sectionId);if(element){element.scrollIntoView({behavior:'smooth',block:'start'});}};// DeepSeek AI助手功能\nconst callDeepSeekAPI=async userMessage=>{try{// 使用模拟API调用（实际使用时替换为真实的DeepSeek API）\nreturn await callDeepSeekAPIMock(userMessage);}catch(error){console.error('DeepSeek API调用失败:',error);return\"抱歉，AI助手暂时无法响应。请稍后再试或联系技术支持。\";}};const sendAIMessage=async()=>{console.log('sendAIMessage called, aiInput:',aiInput);if(!aiInput.trim()){console.log('No input text, returning');return;}const userMessage={id:Date.now(),type:'user',content:aiInput.trim(),timestamp:new Date()};console.log('Adding user message:',userMessage);setAiMessages(prev=>[...prev,userMessage]);setAiInput('');setIsAiTyping(true);try{console.log('Calling DeepSeek API...');const aiResponse=await callDeepSeekAPI(userMessage.content);console.log('AI Response:',aiResponse);const aiMessage={id:Date.now()+1,type:'ai',content:aiResponse,timestamp:new Date()};console.log('Adding AI message:',aiMessage);setAiMessages(prev=>[...prev,aiMessage]);}catch(error){console.error('Error in sendAIMessage:',error);const errorMessage={id:Date.now()+1,type:'ai',content:\"抱歉，发生了错误。请稍后再试。\",timestamp:new Date()};setAiMessages(prev=>[...prev,errorMessage]);}finally{setIsAiTyping(false);}};// 右边栏折叠功能\nconst toggleRightSidebar=()=>{setIsRightSidebarCollapsed(!isRightSidebarCollapsed);};// 自动检测屏幕宽度并调整布局\nuseEffect(()=>{const handleResize=()=>{const width=window.innerWidth;if(width<=1100){setIsRightSidebarCollapsed(true);}else{setIsRightSidebarCollapsed(false);}};// 初始检查\nhandleResize();// 监听窗口大小变化\nwindow.addEventListener('resize',handleResize);return()=>{window.removeEventListener('resize',handleResize);};},[]);// 多智能体选择功能\nconst toggleAgentSelection=agent=>{if(isMultiAgentMode){// 多智能体模式：可以多选\nsetSelectedAgents(prev=>{const isSelected=prev.some(a=>a.id===agent.id);if(isSelected){return prev.filter(a=>a.id!==agent.id);}else{return[...prev,agent];}});}else{// 单智能体模式：只能选择一个\nsetSelectedAgents([agent]);}};// Multi-Agent DSL Framework 核心原语\nconst dslPrimitives={// 事件处理原语\nEVENT_ROUTE:{name:\"EVENT_ROUTE\",description:\"事件路由原语 - 智能路由复杂事件到合适的智能体\",syntax:\"EVENT_ROUTE(event_type, priority, target_agents)\",example:\"EVENT_ROUTE('traffic_incident', 'high', ['traffic_manager', 'safety_agent'])\"},CACHE_OPTIMIZE:{name:\"CACHE_OPTIMIZE\",description:\"缓存优化原语 - 优化智能体间数据缓存和共享\",syntax:\"CACHE_OPTIMIZE(cache_strategy, ttl, agents)\",example:\"CACHE_OPTIMIZE('distributed', 300, ['perception', 'weather'])\"},SYSTEM_SCHEDULE:{name:\"SYSTEM_SCHEDULE\",description:\"系统调度原语 - 协调多智能体执行顺序和资源分配\",syntax:\"SYSTEM_SCHEDULE(task_queue, resource_limit, execution_order)\",example:\"SYSTEM_SCHEDULE(['analyze', 'optimize', 'execute'], 'cpu:80%', 'sequential')\"},AGENT_COLLABORATE:{name:\"AGENT_COLLABORATE\",description:\"智能体协作原语 - 实现智能体间的实时协作和通信\",syntax:\"AGENT_COLLABORATE(collaboration_type, participants, protocol)\",example:\"AGENT_COLLABORATE('consensus', ['traffic', 'safety'], 'broadcast')\"},LLM_DRIVE:{name:\"LLM_DRIVE\",description:\"LLM驱动原语 - 利用大语言模型进行智能决策和任务分解\",syntax:\"LLM_DRIVE(prompt_template, context, output_format)\",example:\"LLM_DRIVE('analyze_traffic_pattern', sensor_data, 'json')\"}};// 完整的Multi-Agent协作逻辑链条\nconst multiAgentWorkflow={// 1. 领导接收任务 - Master Agent接收用户任务\nreceiveTask:userTask=>{return{phase:\"LEADER_RECEIVE_TASK\",dsl:dslPrimitives.EVENT_ROUTE.name,description:\"Master智能体接收用户任务，使用EVENT_ROUTE原语进行事件路由\",participants:[\"Master Agent\"],status:\"active\",timestamp:new Date().toLocaleString()};},// 2. 开会商量对策 - Master Agent分析任务并制定策略\nanalyzeAndPlan:task=>{return{phase:\"MEETING_ANALYSIS\",dsl:dslPrimitives.LLM_DRIVE.name,description:\"Master智能体使用LLM_DRIVE原语分析任务，制定协作策略\",participants:[\"Master Agent\"],status:\"active\",timestamp:new Date().toLocaleString()};},// 3. 布置任务 - Master Agent分配任务给子智能体\ndistributeTasks:(strategy,agents)=>{return{phase:\"TASK_DISTRIBUTION\",dsl:dslPrimitives.SYSTEM_SCHEDULE.name,description:\"Master智能体使用SYSTEM_SCHEDULE原语分配任务，确定执行顺序\",participants:[\"Master Agent\",...agents.map(a=>a.name)],status:\"active\",timestamp:new Date().toLocaleString()};},// 4. 相互交流 - 子智能体间协作通信\nagentCollaboration:(agents,task)=>{return{phase:\"AGENT_COLLABORATION\",dsl:dslPrimitives.AGENT_COLLABORATE.name,description:\"子智能体使用AGENT_COLLABORATE原语进行实时协作\",participants:agents.map(a=>a.name),status:\"active\",timestamp:new Date().toLocaleString()};},// 5. 合作完成任务 - 子智能体执行具体任务\nexecuteTasks:(agents,tasks)=>{return{phase:\"TASK_EXECUTION\",dsl:dslPrimitives.CACHE_OPTIMIZE.name,description:\"子智能体使用CACHE_OPTIMIZE原语优化数据共享，执行任务\",participants:agents.map(a=>a.name),status:\"active\",timestamp:new Date().toLocaleString()};},// 6. 遇到问题汇报 - 子智能体向Master汇报问题\nreportIssues:(agent,issue)=>{return{phase:\"ISSUE_REPORTING\",dsl:dslPrimitives.EVENT_ROUTE.name,description:\"\".concat(agent.name,\"\\u4F7F\\u7528EVENT_ROUTE\\u539F\\u8BED\\u5411Master\\u667A\\u80FD\\u4F53\\u6C47\\u62A5\\u95EE\\u9898\"),participants:[agent.name,\"Master Agent\"],status:\"active\",timestamp:new Date().toLocaleString()};},// 7. 找到解决方式 - Master Agent重新分配任务\nresolveIssues:(issue,solution)=>{return{phase:\"ISSUE_RESOLUTION\",dsl:dslPrimitives.LLM_DRIVE.name,description:\"Master智能体使用LLM_DRIVE原语分析问题，制定解决方案\",participants:[\"Master Agent\"],status:\"active\",timestamp:new Date().toLocaleString()};},// 8. 重新分配任务 - Master Agent调整任务分配\nredistributeTasks:(newStrategy,agents)=>{return{phase:\"TASK_REDISTRIBUTION\",dsl:dslPrimitives.SYSTEM_SCHEDULE.name,description:\"Master智能体使用SYSTEM_SCHEDULE原语重新分配任务\",participants:[\"Master Agent\",...agents.map(a=>a.name)],status:\"active\",timestamp:new Date().toLocaleString()};},// 9. 最终解决任务 - 子智能体完成最终任务\nfinalExecution:(agents,finalTasks)=>{return{phase:\"FINAL_EXECUTION\",dsl:dslPrimitives.AGENT_COLLABORATE.name,description:\"子智能体使用AGENT_COLLABORATE原语协作完成最终任务\",participants:agents.map(a=>a.name),status:\"active\",timestamp:new Date().toLocaleString()};},// 10. 开会复盘 - Master Agent总结和广播结果\nfinalReview:(results,agents)=>{return{phase:\"FINAL_REVIEW\",dsl:dslPrimitives.EVENT_ROUTE.name,description:\"Master智能体使用EVENT_ROUTE原语广播最终结果，进行复盘\",participants:[\"Master Agent\",...agents.map(a=>a.name)],status:\"completed\",timestamp:new Date().toLocaleString()};}};// 任务复杂度分析\nconst analyzeTaskComplexity=task=>{const keywords=task.toLowerCase();if(keywords.includes('紧急')||keywords.includes('urgent'))return'high';if(keywords.includes('复杂')||keywords.includes('complex'))return'high';if(keywords.includes('简单')||keywords.includes('simple'))return'low';return'medium';};// 识别所需智能体\nconst identifyRequiredAgents=task=>{const keywords=task.toLowerCase();const required=[];if(keywords.includes('交通')||keywords.includes('traffic'))required.push('traffic');if(keywords.includes('安全')||keywords.includes('safety'))required.push('safety');if(keywords.includes('天气')||keywords.includes('weather'))required.push('weather');if(keywords.includes('停车')||keywords.includes('parking'))required.push('parking');if(keywords.includes('感知')||keywords.includes('perception'))required.push('perception');if(keywords.includes('应急')||keywords.includes('emergency'))required.push('ems');if(keywords.includes('执法')||keywords.includes('enforcement'))required.push('enforcement');if(keywords.includes('清洁')||keywords.includes('sanitation'))required.push('sanitation');return required.length>0?required:['traffic','safety'];// 默认组合\n};// 确定优先级\nconst determinePriority=task=>{const keywords=task.toLowerCase();if(keywords.includes('紧急')||keywords.includes('urgent'))return'critical';if(keywords.includes('重要')||keywords.includes('important'))return'high';return'normal';};// 估算执行时间\nconst estimateExecutionTime=task=>{const complexity=analyzeTaskComplexity(task);const baseTime=complexity==='high'?8000:complexity==='medium'?5000:3000;return baseTime+Math.random()*2000;};// 识别依赖关系\nconst identifyDependencies=task=>{return['data_sync','system_check'];// 基础依赖\n};// 生成协调计划\nconst generateCoordinationPlan=analysis=>{const plans=[];analysis.requiredAgents.forEach(agentType=>{plans.push({agentType,subTask:generateSubTask(agentType,analysis.originalTask),parameters:generateParameters(agentType),dependencies:[],expectedOutput:generateExpectedOutput(agentType),timeout:5000});});return plans;};// 生成子任务\nconst generateSubTask=(agentType,originalTask)=>{const taskMap={traffic:\"\\u5206\\u6790\\u4EA4\\u901A\\u72B6\\u51B5\\u5E76\\u4F18\\u5316\\u8DEF\\u7EBF\\u89C4\\u5212 - \\u57FA\\u4E8E\\u4EFB\\u52A1\\uFF1A\".concat(originalTask),safety:\"\\u6267\\u884C\\u5B89\\u5168\\u68C0\\u67E5\\u5E76\\u8BC6\\u522B\\u6F5C\\u5728\\u98CE\\u9669 - \\u57FA\\u4E8E\\u4EFB\\u52A1\\uFF1A\".concat(originalTask),weather:\"\\u83B7\\u53D6\\u5929\\u6C14\\u6570\\u636E\\u5E76\\u8BC4\\u4F30\\u73AF\\u5883\\u6761\\u4EF6 - \\u57FA\\u4E8E\\u4EFB\\u52A1\\uFF1A\".concat(originalTask),parking:\"\\u5206\\u6790\\u505C\\u8F66\\u4F4D\\u72B6\\u51B5\\u5E76\\u63A8\\u8350\\u6700\\u4F18\\u4F4D\\u7F6E - \\u57FA\\u4E8E\\u4EFB\\u52A1\\uFF1A\".concat(originalTask),perception:\"\\u66F4\\u65B0\\u73AF\\u5883\\u611F\\u77E5\\u6570\\u636E\\u5E76\\u8BC6\\u522B\\u76EE\\u6807 - \\u57FA\\u4E8E\\u4EFB\\u52A1\\uFF1A\".concat(originalTask),ems:\"\\u68C0\\u67E5\\u5E94\\u6025\\u54CD\\u5E94\\u7CFB\\u7EDF\\u5E76\\u51C6\\u5907\\u8D44\\u6E90 - \\u57FA\\u4E8E\\u4EFB\\u52A1\\uFF1A\".concat(originalTask),enforcement:\"\\u6FC0\\u6D3B\\u6267\\u6CD5\\u76D1\\u63A7\\u5E76\\u68C0\\u6D4B\\u8FDD\\u89C4\\u884C\\u4E3A - \\u57FA\\u4E8E\\u4EFB\\u52A1\\uFF1A\".concat(originalTask),sanitation:\"\\u76D1\\u63A7\\u73AF\\u5883\\u6E05\\u6D01\\u72B6\\u51B5\\u5E76\\u4F18\\u5316\\u8DEF\\u7EBF - \\u57FA\\u4E8E\\u4EFB\\u52A1\\uFF1A\".concat(originalTask)};return taskMap[agentType]||\"\\u6267\\u884C\\u76F8\\u5173\\u4EFB\\u52A1 - \\u57FA\\u4E8E\\u4EFB\\u52A1\\uFF1A\".concat(originalTask);};// 生成参数\nconst generateParameters=agentType=>{const paramMap={traffic:{area:'city_center',timeWindow:'30min',priority:'high'},safety:{riskLevel:'medium',checkRadius:'500m',alertThreshold:'0.8'},weather:{location:'current',forecastHours:24,accuracy:'high'},parking:{searchRadius:'1km',priceRange:'any',availability:'real-time'},perception:{detectionRange:'200m',accuracy:'98%',updateFreq:'1s'},ems:{responseTime:'<2min',resourceLevel:'high',coverage:'100%'},enforcement:{violationTypes:'all',detectionRate:'95%',penaltyLevel:'standard'},sanitation:{airQuality:'monitor',routeOptimization:'enabled',schedule:'dynamic'}};return paramMap[agentType]||{};};// 生成期望输出\nconst generateExpectedOutput=agentType=>{const outputMap={traffic:'优化路线建议和交通状况报告',safety:'安全评估报告和风险预警',weather:'天气数据和环境条件评估',parking:'停车位推荐和可用性报告',perception:'环境感知数据和目标识别结果',ems:'应急响应状态和资源分配报告',enforcement:'执法监控数据和违规记录',sanitation:'环境清洁状况和优化建议'};return outputMap[agentType]||'任务执行结果';};// 确定执行顺序\nconst determineExecutionOrder=analysis=>{const order=[];if(analysis.requiredAgents.includes('perception'))order.push('perception');if(analysis.requiredAgents.includes('weather'))order.push('weather');if(analysis.requiredAgents.includes('traffic'))order.push('traffic');if(analysis.requiredAgents.includes('safety'))order.push('safety');if(analysis.requiredAgents.includes('parking'))order.push('parking');return order;};// 分配资源\nconst allocateResources=analysis=>{return{cpu:analysis.complexity==='high'?'80%':'60%',memory:analysis.complexity==='high'?'2GB':'1GB',network:'high',priority:analysis.priority};};// 定义监控点\nconst defineMonitoringPoints=analysis=>{return analysis.requiredAgents.map(agent=>({agent,checkpoint:\"\".concat(agent,\"_status_check\"),interval:'5s',alertThreshold:'error_rate > 5%'}));};// 创建备用计划\nconst createFallbackPlan=analysis=>{return{primaryFailure:'switch_to_backup_agents',timeoutAction:'escalate_to_human_operator',resourceExhaustion:'reduce_task_scope',communicationFailure:'use_offline_mode'};};// 启动Multi-Agent DSL Framework完整协作流程\nconst executeSingleAgentTask=()=>{if(selectedAgents.length!==1){alert('单智能体模式请选择1个智能体！');return;}if(!sendMessage.trim()){alert('请输入任务描述！');return;}const userTask=sendMessage.trim();const agents=selectedAgents;// 显示加载状态\nsetIsLoading(true);// 模拟任务执行\nsetTimeout(()=>{executeCompleteWorkflow(userTask,agents);setIsLoading(false);},1000);};const executeMultiAgentTask=()=>{if(selectedAgents.length<2){alert('请至少选择2个智能体进行协作！');return;}if(!sendMessage.trim()){alert('请输入任务描述！');return;}const userTask=sendMessage.trim();const agents=selectedAgents;// 显示加载状态\nsetIsLoading(true);// 模拟任务执行\nsetTimeout(()=>{executeCompleteWorkflow(userTask,agents);setIsLoading(false);},1000);};const startMultiAgentCollaboration=()=>{if(selectedAgents.length<2){alert('请至少选择2个智能体进行协作');return;}// 用户友好的任务输入界面\nconst taskTemplates=[\"🚦 优化城市交通流量，确保行车安全\",\"🌧️ 处理恶劣天气下的应急响应\",\"🅿️ 智能停车位分配和路线规划\",\"🚨 处理交通事故和紧急救援\",\"🌱 环境监测和清洁路线优化\",\"📊 城市数据分析和决策支持\"];const userTask=prompt(\"\\u8BF7\\u9009\\u62E9\\u6216\\u8F93\\u5165\\u8981\\u6267\\u884C\\u7684\\u4EFB\\u52A1\\uFF1A\\n\\n\".concat(taskTemplates.map((template,index)=>\"\".concat(index+1,\". \").concat(template)).join('\\n'),\"\\n\\n\\u8BF7\\u8F93\\u5165\\u6570\\u5B57\\u9009\\u62E9\\u6A21\\u677F\\uFF0C\\u6216\\u76F4\\u63A5\\u8F93\\u5165\\u81EA\\u5B9A\\u4E49\\u4EFB\\u52A1:\"))||taskTemplates[0];const finalTask=userTask.match(/^\\d+$/)?taskTemplates[parseInt(userTask)-1]||taskTemplates[0]:userTask;// 开始完整的Multi-Agent协作逻辑链条\nexecuteCompleteWorkflow(finalTask,selectedAgents);};// 执行完整的协作工作流程\nconst executeCompleteWorkflow=async(userTask,agents)=>{const workflowId=Date.now();// 1. 领导接收任务\nconst step1=multiAgentWorkflow.receiveTask(userTask);addWorkflowStep(workflowId,step1,\"Master智能体接收任务\",\"👑 Master智能体亮起，开始接收用户任务\");await delay(1500);// 2. 开会商量对策\nconst step2=multiAgentWorkflow.analyzeAndPlan(userTask);addWorkflowStep(workflowId,step2,\"Master智能体分析任务\",\"🧠 Master智能体使用LLM分析任务，制定协作策略\");await delay(2000);// 3. 布置任务\nconst step3=multiAgentWorkflow.distributeTasks(\"strategy\",agents);addWorkflowStep(workflowId,step3,\"Master智能体分配任务\",\"📋 Master智能体向子智能体分配具体任务\");await delay(1500);// 4. 相互交流\nconst step4=multiAgentWorkflow.agentCollaboration(agents,userTask);addWorkflowStep(workflowId,step4,\"子智能体协作交流\",\"💬 子智能体开始协作交流，共享信息\");await delay(2000);// 5. 合作完成任务\nconst step5=multiAgentWorkflow.executeTasks(agents,\"tasks\");addWorkflowStep(workflowId,step5,\"子智能体执行任务\",\"⚡ 子智能体开始执行具体任务\");await delay(2500);// 6. 遇到问题汇报（模拟）\nconst reportingAgent=agents.length>0?agents[Math.floor(Math.random()*agents.length)]:null;if(reportingAgent){const step6=multiAgentWorkflow.reportIssues(reportingAgent,\"发现数据异常\");addWorkflowStep(workflowId,step6,\"\".concat(reportingAgent.name,\"\\u6C47\\u62A5\\u95EE\\u9898\"),\"\\u26A0\\uFE0F \".concat(reportingAgent.name,\"\\u5411Master\\u667A\\u80FD\\u4F53\\u6C47\\u62A5\\u95EE\\u9898\"));}await delay(1500);// 7. 找到解决方式\nconst step7=multiAgentWorkflow.resolveIssues(\"数据异常\",\"调整算法参数\");addWorkflowStep(workflowId,step7,\"Master智能体制定解决方案\",\"🔧 Master智能体分析问题，制定解决方案\");await delay(2000);// 8. 重新分配任务\nconst step8=multiAgentWorkflow.redistributeTasks(\"new_strategy\",agents);addWorkflowStep(workflowId,step8,\"Master智能体重新分配任务\",\"🔄 Master智能体重新分配任务，调整执行策略\");await delay(1500);// 9. 最终解决任务\nconst step9=multiAgentWorkflow.finalExecution(agents,\"final_tasks\");addWorkflowStep(workflowId,step9,\"子智能体完成最终任务\",\"✅ 子智能体协作完成最终任务\");await delay(2000);// 10. 开会复盘\nconst step10=multiAgentWorkflow.finalReview(\"results\",agents);addWorkflowStep(workflowId,step10,\"Master智能体总结复盘\",\"📊 Master智能体广播最终结果，进行复盘总结\");};// 添加工作流步骤到交互记录\nconst addWorkflowStep=(workflowId,step,title,description)=>{var _dslPrimitives$step$d,_dslPrimitives$step$d2,_dslPrimitives$step$d3,_dslPrimitives$step$d4,_dslPrimitives$step$d5;// 确保step对象有必要的属性\nif(!step||!step.participants||!step.dsl){console.error('Invalid step object:',step);return;}const interaction={id:Date.now()+Math.random(),workflowId:workflowId,type:'workflow_step',phase:step.phase||'UNKNOWN',dsl:step.dsl,agents:step.participants.map(name=>({name,role:name==='Master Agent'?'Master Agent':'Sub Agent'})),message:title,description:description,timestamp:step.timestamp||new Date().toLocaleString(),status:step.status||'active',response:{summary:step.description||'步骤执行完成',details:[\"DSL\\u539F\\u8BED: \".concat(step.dsl||'UNKNOWN'),\"\\u8BED\\u6CD5: \".concat(((_dslPrimitives$step$d=dslPrimitives[step.dsl])===null||_dslPrimitives$step$d===void 0?void 0:_dslPrimitives$step$d.syntax)||'N/A'),\"\\u793A\\u4F8B: \".concat(((_dslPrimitives$step$d2=dslPrimitives[step.dsl])===null||_dslPrimitives$step$d2===void 0?void 0:_dslPrimitives$step$d2.example)||'N/A'),\"\\u53C2\\u4E0E\\u8005: \".concat(step.participants.join(', '))],result:\"\\u9636\\u6BB5 \".concat(step.phase||'UNKNOWN',\" \\u6267\\u884C\\u5B8C\\u6210\"),dsl:{primitive:step.dsl||'UNKNOWN',syntax:((_dslPrimitives$step$d3=dslPrimitives[step.dsl])===null||_dslPrimitives$step$d3===void 0?void 0:_dslPrimitives$step$d3.syntax)||'N/A',example:((_dslPrimitives$step$d4=dslPrimitives[step.dsl])===null||_dslPrimitives$step$d4===void 0?void 0:_dslPrimitives$step$d4.example)||'N/A',description:((_dslPrimitives$step$d5=dslPrimitives[step.dsl])===null||_dslPrimitives$step$d5===void 0?void 0:_dslPrimitives$step$d5.description)||'N/A'}}};setInteractionHistory(prev=>[interaction,...prev]);};// 延迟函数\nconst delay=ms=>new Promise(resolve=>setTimeout(resolve,ms));// 执行子智能体任务\nconst executeSubAgentTasks=(decomposedTasks,agents)=>{decomposedTasks.forEach((task,index)=>{const agent=agents.find(a=>a.role.toLowerCase().includes(task.agentType));if(!agent)return;const taskId=Date.now()+index;const taskInteraction={id:taskId,type:'sub_agent_task',agents:[agent],message:\"\\u5B50\\u4EFB\\u52A1\\u6267\\u884C\\uFF1A\".concat(task.subTask),timestamp:new Date().toLocaleString(),status:'processing',dsl:{taskId:task.taskId,parameters:task.parameters,expectedOutput:task.expectedOutput,timeout:task.timeout}};setInteractionHistory(prev=>[taskInteraction,...prev]);// 模拟子智能体执行过程\nsetTimeout(()=>{setInteractionHistory(prev=>prev.map(interaction=>interaction.id===taskId?_objectSpread(_objectSpread({},interaction),{},{status:'completed',response:generateSubAgentResponse(agent,task)}):interaction));},3000+index*1000);});};// 生成子智能体响应\nconst generateSubAgentResponse=(agent,task)=>{const role=agent.role.toLowerCase();const name=agent.name;let response='';let apiCall='';if(role.includes('traffic')){response=\"\\u4EA4\\u901A\\u5206\\u6790\\u5B8C\\u6210 - \\u68C0\\u6D4B\\u52303\\u6761\\u62E5\\u5835\\u8DEF\\u6BB5\\uFF0C\\u5DF2\\u89C4\\u5212\\u6700\\u4F18\\u7ED5\\u884C\\u8DEF\\u7EBF\\uFF0C\\u9884\\u8BA1\\u8282\\u770115\\u5206\\u949F\\u901A\\u884C\\u65F6\\u95F4\";apiCall='调用交通API：GET /api/traffic/optimize?area=city_center&timeWindow=30min';}else if(role.includes('safety')){response=\"\\u5B89\\u5168\\u68C0\\u67E5\\u5B8C\\u6210 - \\u8BC6\\u522B2\\u4E2A\\u6F5C\\u5728\\u98CE\\u9669\\u70B9\\uFF0C\\u5DF2\\u542F\\u52A8\\u9884\\u8B66\\u673A\\u5236\\uFF0C\\u5B89\\u5168\\u7B49\\u7EA7\\uFF1A\\u4F18\\u79C0\";apiCall='调用安全API：POST /api/safety/check?radius=500m&threshold=0.8';}else if(role.includes('weather')){response=\"\\u5929\\u6C14\\u6570\\u636E\\u83B7\\u53D6 - \\u5F53\\u524D\\u6E29\\u5EA622\\xB0C\\uFF0C\\u6E7F\\u5EA665%\\uFF0C\\u80FD\\u89C1\\u5EA6\\u826F\\u597D\\uFF0C\\u9002\\u5408\\u81EA\\u52A8\\u9A7E\\u9A76\";apiCall='调用天气API：GET /api/weather/current?location=city_center&forecast=24h';}else if(role.includes('parking')){response=\"\\u505C\\u8F66\\u4F4D\\u5206\\u6790 - \\u53D1\\u73B05\\u4E2A\\u53EF\\u7528\\u505C\\u8F66\\u4F4D\\uFF0C\\u63A8\\u8350\\u8DDD\\u79BB\\u6700\\u8FD1\\u7684\\u9AD8\\u8D28\\u91CF\\u505C\\u8F66\\u70B9\";apiCall='调用停车API：GET /api/parking/search?radius=1km&availability=real-time';}else if(role.includes('perception')){response=\"\\u73AF\\u5883\\u611F\\u77E5\\u66F4\\u65B0 - \\u68C0\\u6D4B\\u523012\\u4E2A\\u79FB\\u52A8\\u76EE\\u6807\\uFF0C\\u8BC6\\u522B\\u51C6\\u786E\\u738798.5%\\uFF0C\\u6570\\u636E\\u540C\\u6B65\\u5B8C\\u6210\";apiCall='调用感知API：POST /api/perception/update?range=200m&accuracy=98%';}else{response=\"\\u4EFB\\u52A1\\u5904\\u7406\\u5B8C\\u6210 - \\u7CFB\\u7EDF\\u8FD0\\u884C\\u6B63\\u5E38\\uFF0C\\u72B6\\u6001\\u826F\\u597D\";apiCall='调用系统API：GET /api/system/status';}return{summary:\"\".concat(name,\" \\u4EFB\\u52A1\\u6267\\u884C\\u5B8C\\u6210\"),details:[response],result:'子智能体任务执行成功',apiCall:apiCall,dsl:{agentType:task.agentType,taskId:task.taskId,parameters:task.parameters,output:task.expectedOutput}};};// 发送协作消息\nconst handleCollaborationMessage=()=>{if(!sendMessage.trim()||selectedAgents.length===0)return;const collaborationId=Date.now();const newInteraction={id:collaborationId,type:'collaboration_message',agents:selectedAgents,message:sendMessage,timestamp:new Date().toLocaleString(),status:'processing'};setInteractionHistory(prev=>[newInteraction,...prev]);setSendMessage('');// 模拟多智能体处理过程\nsetTimeout(()=>{setInteractionHistory(prev=>prev.map(interaction=>interaction.id===collaborationId?_objectSpread(_objectSpread({},interaction),{},{status:'completed',response:generateMultiAgentResponse(selectedAgents,sendMessage)}):interaction));},2000);};// 生成多智能体响应\nconst generateMultiAgentResponse=(agents,message)=>{const responses=agents.map(agent=>{const role=agent.role.toLowerCase();const name=agent.name;if(role.includes('traffic')){return\"\".concat(name,\": \\u4EA4\\u901A\\u5206\\u6790\\u5B8C\\u6210 - \\u68C0\\u6D4B\\u52303\\u6761\\u62E5\\u5835\\u8DEF\\u6BB5\\uFF0C\\u5DF2\\u89C4\\u5212\\u6700\\u4F18\\u7ED5\\u884C\\u8DEF\\u7EBF\\uFF0C\\u9884\\u8BA1\\u8282\\u770115\\u5206\\u949F\\u901A\\u884C\\u65F6\\u95F4\");}else if(role.includes('safety')){return\"\".concat(name,\": \\u5B89\\u5168\\u68C0\\u67E5\\u5B8C\\u6210 - \\u8BC6\\u522B2\\u4E2A\\u6F5C\\u5728\\u98CE\\u9669\\u70B9\\uFF0C\\u5DF2\\u542F\\u52A8\\u9884\\u8B66\\u673A\\u5236\\uFF0C\\u5B89\\u5168\\u7B49\\u7EA7\\uFF1A\\u4F18\\u79C0\");}else if(role.includes('perception')){return\"\".concat(name,\": \\u73AF\\u5883\\u611F\\u77E5\\u66F4\\u65B0 - \\u68C0\\u6D4B\\u523012\\u4E2A\\u79FB\\u52A8\\u76EE\\u6807\\uFF0C\\u8BC6\\u522B\\u51C6\\u786E\\u738798.5%\\uFF0C\\u6570\\u636E\\u540C\\u6B65\\u5B8C\\u6210\");}else if(role.includes('weather')){return\"\".concat(name,\": \\u5929\\u6C14\\u6570\\u636E\\u83B7\\u53D6 - \\u5F53\\u524D\\u6E29\\u5EA622\\xB0C\\uFF0C\\u6E7F\\u5EA665%\\uFF0C\\u80FD\\u89C1\\u5EA6\\u826F\\u597D\\uFF0C\\u9002\\u5408\\u81EA\\u52A8\\u9A7E\\u9A76\");}else if(role.includes('parking')){return\"\".concat(name,\": \\u505C\\u8F66\\u4F4D\\u5206\\u6790 - \\u53D1\\u73B05\\u4E2A\\u53EF\\u7528\\u505C\\u8F66\\u4F4D\\uFF0C\\u63A8\\u8350\\u8DDD\\u79BB\\u6700\\u8FD1\\u7684\\u9AD8\\u8D28\\u91CF\\u505C\\u8F66\\u70B9\");}else if(role.includes('city')){return\"\".concat(name,\": \\u57CE\\u5E02\\u7BA1\\u7406\\u534F\\u8C03 - \\u6574\\u5408\\u5404\\u5B50\\u7CFB\\u7EDF\\u6570\\u636E\\uFF0C\\u57CE\\u5E02\\u8FD0\\u884C\\u72B6\\u6001\\uFF1A\\u6B63\\u5E38\");}else if(role.includes('ems')){return\"\".concat(name,\": \\u5E94\\u6025\\u54CD\\u5E94\\u5C31\\u7EEA - \\u7CFB\\u7EDF\\u76D1\\u63A7\\u6B63\\u5E38\\uFF0C\\u54CD\\u5E94\\u65F6\\u95F4<2\\u79D2\\uFF0C\\u5E94\\u6025\\u8D44\\u6E90\\u5145\\u8DB3\");}else if(role.includes('enforcement')){return\"\".concat(name,\": \\u6267\\u6CD5\\u76D1\\u63A7\\u6FC0\\u6D3B - \\u8FDD\\u89C4\\u68C0\\u6D4B\\u7CFB\\u7EDF\\u8FD0\\u884C\\u4E2D\\uFF0C\\u5DF2\\u8BB0\\u5F553\\u8D77\\u8F7B\\u5FAE\\u8FDD\\u89C4\");}else if(role.includes('sanitation')){return\"\".concat(name,\": \\u73AF\\u5883\\u6E05\\u6D01\\u76D1\\u63A7 - \\u7A7A\\u6C14\\u8D28\\u91CF\\u6307\\u6570\\uFF1A\\u826F\\u597D\\uFF0C\\u6E05\\u6D01\\u8DEF\\u7EBF\\u5DF2\\u4F18\\u5316\");}else if(role.includes('sprinkler')){return\"\".concat(name,\": \\u704C\\u6E89\\u7CFB\\u7EDF\\u63A7\\u5236 - \\u571F\\u58E4\\u6E7F\\u5EA6\\u68C0\\u6D4B\\u6B63\\u5E38\\uFF0C\\u667A\\u80FD\\u704C\\u6E89\\u5DF2\\u542F\\u52A8\");}else{return\"\".concat(name,\": \\u4EFB\\u52A1\\u5904\\u7406\\u5B8C\\u6210 - \\u7CFB\\u7EDF\\u8FD0\\u884C\\u6B63\\u5E38\\uFF0C\\u72B6\\u6001\\u826F\\u597D\");}});// 根据智能体组合生成协作总结\nconst agentRoles=agents.map(agent=>agent.role.toLowerCase());let summary='';let result='';if(agentRoles.some(role=>role.includes('traffic'))&&agentRoles.some(role=>role.includes('safety'))){summary=\"\\u4EA4\\u901A\\u5B89\\u5168\\u534F\\u4F5C\\u5B8C\\u6210\\uFF1A\".concat(agents.map(a=>a.name).join(' + '));result='交通流量优化成功，安全等级提升，系统运行稳定';}else if(agentRoles.some(role=>role.includes('perception'))&&agentRoles.some(role=>role.includes('weather'))){summary=\"\\u73AF\\u5883\\u611F\\u77E5\\u534F\\u4F5C\\u5B8C\\u6210\\uFF1A\".concat(agents.map(a=>a.name).join(' + '));result='环境数据整合成功，感知精度提升，决策支持增强';}else if(agentRoles.some(role=>role.includes('parking'))&&agentRoles.some(role=>role.includes('traffic'))){summary=\"\\u505C\\u8F66\\u4EA4\\u901A\\u534F\\u4F5C\\u5B8C\\u6210\\uFF1A\".concat(agents.map(a=>a.name).join(' + '));result='停车位分配优化，交通流协调成功，用户体验提升';}else{summary=\"\\u591A\\u667A\\u80FD\\u4F53\\u534F\\u4F5C\\u5B8C\\u6210\\uFF1A\".concat(agents.map(a=>a.name).join(' + '));result='所有智能体任务执行成功，系统状态良好，协作效率提升';}return{summary,details:responses,result};};const openSendInterface=(agent,event)=>{event.stopPropagation();setActiveSendAgent(agent);setSendMessage('');};const closeSendInterface=()=>{setActiveSendAgent(null);setSendMessage('');};const handleSendMessage=()=>{if(sendMessage.trim()&&activeSendAgent){// 创建交互记录\nconst interactionId=Date.now();const interaction={id:interactionId,type:'single_agent_message',agents:[activeSendAgent],message:sendMessage,timestamp:new Date().toLocaleString(),status:'processing',response:null};// 添加到交互记录\nsetInteractionHistory(prev=>[interaction,...prev]);// 模拟智能体响应\nsetTimeout(()=>{const response=generateSingleAgentResponse(activeSendAgent,sendMessage);setInteractionHistory(prev=>prev.map(item=>item.id===interactionId?_objectSpread(_objectSpread({},item),{},{status:'completed',response:response}):item));},2000);closeSendInterface();}};// 生成单个智能体响应\nconst generateSingleAgentResponse=(agent,message)=>{var _dslPrimitives$dslPri,_dslPrimitives$dslPri2,_dslPrimitives$dslPri3;const role=agent.role.toLowerCase();const name=agent.name;let response='';let apiCall='';let dslPrimitive=null;if(role.includes('traffic')){response=\"\\u4EA4\\u901A\\u7BA1\\u7406\\u54CD\\u5E94 - \\u5DF2\\u5206\\u6790\\u60A8\\u7684\\u8BF7\\u6C42\\\"\".concat(message,\"\\\"\\uFF0C\\u6B63\\u5728\\u4F18\\u5316\\u4EA4\\u901A\\u4FE1\\u53F7\\u65F6\\u5E8F\\uFF0C\\u9884\\u8BA1\\u51CF\\u5C1115%\\u7684\\u7B49\\u5F85\\u65F6\\u95F4\");apiCall='调用交通API：POST /api/traffic/signal-optimize?area=city_center&message='+encodeURIComponent(message);dslPrimitive=dslPrimitives.SYSTEM_SCHEDULE.name;}else if(role.includes('safety')){response=\"\\u5B89\\u5168\\u76D1\\u6D4B\\u54CD\\u5E94 - \\u5DF2\\u5904\\u7406\\u60A8\\u7684\\u5B89\\u5168\\u8BF7\\u6C42\\\"\".concat(message,\"\\\"\\uFF0C\\u542F\\u52A8\\u5B9E\\u65F6\\u76D1\\u63A7\\uFF0C\\u5B89\\u5168\\u7B49\\u7EA7\\uFF1A\\u4F18\\u79C0\");apiCall='调用安全API：GET /api/safety/monitor?request='+encodeURIComponent(message);dslPrimitive=dslPrimitives.EVENT_ROUTE.name;}else if(role.includes('weather')){response=\"\\u5929\\u6C14\\u76D1\\u6D4B\\u54CD\\u5E94 - \\u5DF2\\u5206\\u6790\\u60A8\\u7684\\u5929\\u6C14\\u67E5\\u8BE2\\\"\".concat(message,\"\\\"\\uFF0C\\u5F53\\u524D\\u5929\\u6C14\\u826F\\u597D\\uFF0C\\u9002\\u5408\\u51FA\\u884C\");apiCall='调用天气API：GET /api/weather/query?location=city_center&query='+encodeURIComponent(message);dslPrimitive=dslPrimitives.CACHE_OPTIMIZE.name;}else if(role.includes('parking')){response=\"\\u505C\\u8F66\\u7BA1\\u7406\\u54CD\\u5E94 - \\u5DF2\\u5904\\u7406\\u60A8\\u7684\\u505C\\u8F66\\u8BF7\\u6C42\\\"\".concat(message,\"\\\"\\uFF0C\\u627E\\u52303\\u4E2A\\u53EF\\u7528\\u505C\\u8F66\\u4F4D\\uFF0C\\u63A8\\u8350\\u6700\\u8FD1\\u4F4D\\u7F6E\");apiCall='调用停车API：GET /api/parking/search?query='+encodeURIComponent(message);dslPrimitive=dslPrimitives.AGENT_COLLABORATE.name;}else if(role.includes('perception')){response=\"\\u73AF\\u5883\\u611F\\u77E5\\u54CD\\u5E94 - \\u5DF2\\u5206\\u6790\\u60A8\\u7684\\u611F\\u77E5\\u8BF7\\u6C42\\\"\".concat(message,\"\\\"\\uFF0C\\u68C0\\u6D4B\\u52308\\u4E2A\\u76EE\\u6807\\uFF0C\\u8BC6\\u522B\\u51C6\\u786E\\u738798.5%\");apiCall='调用感知API：POST /api/perception/analyze?request='+encodeURIComponent(message);dslPrimitive=dslPrimitives.LLM_DRIVE.name;}else{response=\"\\u667A\\u80FD\\u4F53\\u54CD\\u5E94 - \\u5DF2\\u5904\\u7406\\u60A8\\u7684\\u8BF7\\u6C42\\\"\".concat(message,\"\\\"\\uFF0C\\u7CFB\\u7EDF\\u8FD0\\u884C\\u6B63\\u5E38\\uFF0C\\u4EFB\\u52A1\\u6267\\u884C\\u5B8C\\u6210\");apiCall='调用系统API：POST /api/system/process?message='+encodeURIComponent(message);dslPrimitive=dslPrimitives.SYSTEM_SCHEDULE.name;}return{summary:\"\".concat(name,\" \\u54CD\\u5E94\\u5B8C\\u6210\"),details:[response],result:'智能体任务执行成功',apiCall:apiCall,dsl:dslPrimitive?{primitive:dslPrimitive,syntax:((_dslPrimitives$dslPri=dslPrimitives[dslPrimitive])===null||_dslPrimitives$dslPri===void 0?void 0:_dslPrimitives$dslPri.syntax)||'N/A',example:((_dslPrimitives$dslPri2=dslPrimitives[dslPrimitive])===null||_dslPrimitives$dslPri2===void 0?void 0:_dslPrimitives$dslPri2.example)||'N/A',description:((_dslPrimitives$dslPri3=dslPrimitives[dslPrimitive])===null||_dslPrimitives$dslPri3===void 0?void 0:_dslPrimitives$dslPri3.description)||'N/A'}:null};};const handleWheel=e=>{// 移除旋转功能，保持正常显示\ne.preventDefault();};// SVG Icons as React Components\nconst AutonomousDrivingIcon=()=>/*#__PURE__*/_jsx(\"span\",{className:\"agent-emoji-icon\",children:\"\\uD83D\\uDE97\"});const TrafficIcon=()=>/*#__PURE__*/_jsx(\"span\",{className:\"agent-emoji-icon\",children:\"\\uD83D\\uDEA6\"});const WeatherIcon=()=>/*#__PURE__*/_jsx(\"span\",{className:\"agent-emoji-icon\",children:\"\\uD83C\\uDF24\\uFE0F\"});const ParkingIcon=()=>/*#__PURE__*/_jsx(\"span\",{className:\"agent-emoji-icon\",children:\"\\uD83C\\uDD7F\\uFE0F\"});const SafetyIcon=()=>/*#__PURE__*/_jsx(\"span\",{className:\"agent-emoji-icon\",children:\"\\uD83D\\uDEE1\\uFE0F\"});const EMSIcon=()=>/*#__PURE__*/_jsx(\"span\",{className:\"agent-emoji-icon\",children:\"\\uD83D\\uDE91\"});const EnforcementIcon=()=>/*#__PURE__*/_jsx(\"span\",{className:\"agent-emoji-icon\",children:\"\\uD83D\\uDC6E\"});const SanitationIcon=()=>/*#__PURE__*/_jsx(\"span\",{className:\"agent-emoji-icon\",children:\"\\uD83D\\uDDD1\\uFE0F\"});const SprinklerIcon=()=>/*#__PURE__*/_jsx(\"span\",{className:\"agent-emoji-icon\",children:\"\\uD83D\\uDCA7\"});const PerceptionIcon=()=>/*#__PURE__*/_jsx(\"span\",{className:\"agent-emoji-icon\",children:\"\\uD83D\\uDC41\\uFE0F\"});const TrafficIncidentIcon=()=>/*#__PURE__*/_jsx(\"span\",{className:\"agent-emoji-icon\",children:\"\\u26A0\\uFE0F\"});const RerouteIcon=()=>/*#__PURE__*/_jsx(\"span\",{className:\"agent-emoji-icon\",children:\"\\uD83D\\uDD04\"});const TrafficMonitorIcon=()=>/*#__PURE__*/_jsx(\"span\",{className:\"agent-emoji-icon\",children:\"\\uD83D\\uDCF9\"});const MasterIcon=()=>/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",className:\"agent-svg-icon\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M12 2L15.09 8.26L22 9L15.09 9.74L12 16L8.91 9.74L2 9L8.91 8.26L12 2Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"3\",stroke:\"currentColor\",strokeWidth:\"2\"})]});const agents=[{id:'autonomous-driving',name:'Autonomous Driving Manager',role:'自动驾驶管理智能体',icon:AutonomousDrivingIcon,color:'autonomous-driving',functions:['路径规划 / Path Planning','交通流控制 / Traffic Flow Control','安全监控 / Safety Monitoring','实时决策 / Real-time Decision'],description:t.agentDescriptions.autonomousDriving,details:t.agentDetails.autonomousDriving,position:{angle:0,radius:250}// 12点钟方向\n},{id:'traffic-manager',name:'Traffic Manager',role:'交通管理子智能体',icon:TrafficIcon,color:'traffic',functions:['信号控制 / Signal Control','拥堵监测 / Congestion Monitoring','流量优化 / Flow Optimization','事故处理 / Incident Handling'],description:t.agentDescriptions.trafficManager,details:t.agentDetails.trafficManager,position:{angle:30,radius:250}// 1点钟方向\n},{id:'weather-monitor',name:'Weather Monitor',role:'天气监测子智能体',icon:WeatherIcon,color:'weather',functions:['气象预测 / Weather Forecasting','预警发布 / Alert Issuance','影响评估 / Impact Assessment','应急响应 / Emergency Response'],description:t.agentDescriptions.weatherMonitor,details:t.agentDetails.weatherMonitor,position:{angle:60,radius:250}// 2点钟方向\n},{id:'parking-manager',name:'Parking Manager',role:'停车管理子智能体',icon:ParkingIcon,color:'parking',functions:['车位监测 / Parking Space Monitoring','智能引导 / Smart Guidance','费用管理 / Fee Management','违规处理 / Violation Handling'],description:t.agentDescriptions.parkingManager,details:t.agentDetails.parkingManager,position:{angle:90,radius:250}// 3点钟方向\n},{id:'safety-monitor',name:'Safety Monitor',role:'安全监测子智能体',icon:SafetyIcon,color:'safety',functions:['安全监控 / Safety Monitoring','风险评估 / Risk Assessment','应急响应 / Emergency Response','预防措施 / Preventive Measures'],description:t.agentDescriptions.safetyMonitor,details:t.agentDetails.safetyMonitor,position:{angle:120,radius:250}// 4点钟方向\n},{id:'ems-agent',name:'Emergency Services',role:'紧急服务子智能体',icon:EMSIcon,color:'ems',functions:['急救调度 / Emergency Dispatch','资源调配 / Resource Allocation','路径优化 / Route Optimization','协调指挥 / Coordination Command'],description:t.agentDescriptions.emergencyServices,details:t.agentDetails.emergencyServices,position:{angle:150,radius:250}// 5点钟方向\n},{id:'enforcement-agent',name:'Law Enforcement',role:'执法管理子智能体',icon:EnforcementIcon,color:'enforcement',functions:['违法监测 / Violation Monitoring','执法调度 / Law Enforcement Dispatch','证据收集 / Evidence Collection','案件处理 / Case Handling'],description:t.agentDescriptions.lawEnforcement,details:t.agentDetails.lawEnforcement,position:{angle:180,radius:250}// 6点钟方向\n},{id:'sanitation-agent',name:'Sanitation Manager',role:'环卫管理子智能体',icon:SanitationIcon,color:'sanitation',functions:['垃圾监测 / Waste Monitoring','清洁调度 / Cleaning Dispatch','环境评估 / Environmental Assessment','资源优化 / Resource Optimization'],description:t.agentDescriptions.sanitationManager,details:t.agentDetails.sanitationManager,position:{angle:210,radius:250}// 7点钟方向\n},{id:'sprinkler-agent',name:'Irrigation Manager',role:'灌溉管理子智能体',icon:SprinklerIcon,color:'sprinkler',functions:['土壤监测 / Soil Monitoring','智能灌溉 / Smart Irrigation','节水优化 / Water Conservation','植物养护 / Plant Care'],description:t.agentDescriptions.irrigationManager,details:t.agentDetails.irrigationManager,position:{angle:240,radius:250}// 8点钟方向\n},{id:'perception-agent',name:'Perception Agent',role:'感知子智能体',icon:PerceptionIcon,color:'perception',functions:['环境感知 / Environmental Perception','目标识别 / Object Recognition','状态监测 / Status Monitoring','数据分析 / Data Analysis'],description:t.agentDescriptions.perceptionAgent,details:t.agentDetails.perceptionAgent,position:{angle:270,radius:250}// 9点钟方向\n},{id:'traffic-incident-agent',name:'Traffic Incident Agent',role:'交通事件子智能体',icon:TrafficIncidentIcon,color:'traffic-incident',functions:['事件检测 / Incident Detection','影响评估 / Impact Assessment','应急响应 / Emergency Response','信息发布 / Information Dissemination'],description:t.agentDescriptions.trafficIncidentAgent,details:t.agentDetails.trafficIncidentAgent,position:{angle:300,radius:250}// 10点钟方向\n},{id:'reroute-agent',name:'Reroute Agent',role:'路径重规划子智能体',icon:RerouteIcon,color:'reroute',functions:['路径规划 / Route Planning','动态调整 / Dynamic Adjustment','拥堵规避 / Congestion Avoidance','最优路径 / Optimal Routes'],description:t.agentDescriptions.rerouteAgent,details:t.agentDetails.rerouteAgent,position:{angle:330,radius:250}// 11点钟方向\n}];return/*#__PURE__*/_jsxs(\"div\",{className:\"integrated-system-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"enterprise-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-left\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"logo-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-icon\",children:\"\\uD83C\\uDFE2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"logo-text\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"company-name\",children:\"Multi-Agent DSL Platform\"}),/*#__PURE__*/_jsx(\"span\",{className:\"version-badge\",children:\"v2.1.0\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-item\",children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-separator\",children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-item active\",children:\"Agent Architecture\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",onClick:()=>setShowUserMenu(!showUserMenu),children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:\"\\uD83D\\uDC64\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:\"Admin User\"}),/*#__PURE__*/_jsx(\"span\",{className:\"user-role\",children:\"System Administrator\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"user-arrow\",children:\"\\u25BC\"})]}),showUserMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"user-menu\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"menu-item\",onClick:()=>{setShowUserMenu(false);alert('个人资料功能');},children:[/*#__PURE__*/_jsx(\"span\",{className:\"menu-icon\",children:\"\\uD83D\\uDC64\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u4E2A\\u4EBA\\u8D44\\u6599\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu-item\",onClick:()=>{setShowUserMenu(false);alert('账户设置功能');},children:[/*#__PURE__*/_jsx(\"span\",{className:\"menu-icon\",children:\"\\u2699\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u8D26\\u6237\\u8BBE\\u7F6E\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu-item\",onClick:()=>{setShowUserMenu(false);alert('安全设置功能');},children:[/*#__PURE__*/_jsx(\"span\",{className:\"menu-icon\",children:\"\\uD83D\\uDD12\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u5B89\\u5168\\u8BBE\\u7F6E\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"menu-divider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu-item\",onClick:()=>{setShowUserMenu(false);alert('退出登录功能');},children:[/*#__PURE__*/_jsx(\"span\",{className:\"menu-icon\",children:\"\\uD83D\\uDEAA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u9000\\u51FA\\u767B\\u5F55\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"action-btn\",title:\"\\u901A\\u77E5\",onClick:()=>{console.log('Notification button clicked');setShowNotifications(!showNotifications);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"notification-badge\",children:notifications.filter(n=>n.unread).length}),\"\\uD83D\\uDD14\"]}),showNotifications&&/*#__PURE__*/_jsxs(\"div\",{className:\"notifications-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notifications-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u901A\\u77E5\\u4E2D\\u5FC3\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>setShowNotifications(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"notifications-list\",children:notifications.map(notification=>/*#__PURE__*/_jsxs(\"div\",{className:\"notification-item \".concat(notification.unread?'unread':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notification-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:notification.title}),/*#__PURE__*/_jsx(\"p\",{children:notification.message}),/*#__PURE__*/_jsx(\"span\",{className:\"notification-time\",children:notification.time})]}),notification.unread&&/*#__PURE__*/_jsx(\"div\",{className:\"unread-dot\"})]},notification.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"notifications-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"mark-all-read\",children:\"\\u5168\\u90E8\\u6807\\u8BB0\\u4E3A\\u5DF2\\u8BFB\"})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",title:\"\\u8BBE\\u7F6E\",onClick:()=>{console.log('Settings button clicked');setShowSettings(!showSettings);},children:\"\\u2699\\uFE0F\"}),showSettings&&/*#__PURE__*/_jsxs(\"div\",{className:\"settings-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"settings-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u7CFB\\u7EDF\\u8BBE\\u7F6E\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>setShowSettings(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"setting-group\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u754C\\u9762\\u8BBE\\u7F6E\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"setting-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u4E3B\\u9898\\u6A21\\u5F0F\"}),/*#__PURE__*/_jsxs(\"select\",{children:[/*#__PURE__*/_jsx(\"option\",{children:\"\\u6DF1\\u8272\\u4E3B\\u9898\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u6D45\\u8272\\u4E3B\\u9898\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u81EA\\u52A8\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"setting-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u8BED\\u8A00\\u8BBE\\u7F6E\"}),/*#__PURE__*/_jsxs(\"select\",{children:[/*#__PURE__*/_jsx(\"option\",{children:\"\\u4E2D\\u6587\"}),/*#__PURE__*/_jsx(\"option\",{children:\"English\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"setting-group\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u7CFB\\u7EDF\\u8BBE\\u7F6E\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"setting-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u81EA\\u52A8\\u4FDD\\u5B58\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"setting-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u5B9E\\u65F6\\u76D1\\u63A7\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:true})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"settings-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"save-btn\",children:\"\\u4FDD\\u5B58\\u8BBE\\u7F6E\"})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",title:\"\\u5E2E\\u52A9\",onClick:()=>{console.log('Help button clicked');setShowHelp(!showHelp);},children:\"\\u2753\"}),showHelp&&/*#__PURE__*/_jsxs(\"div\",{className:\"help-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"help-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u5E2E\\u52A9\\u4E2D\\u5FC3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"help-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(!showAIChat?'active':''),onClick:()=>setShowAIChat(false),children:\"\\uD83D\\uDCDA \\u5E2E\\u52A9\\u6587\\u6863\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(showAIChat?'active':''),onClick:()=>setShowAIChat(true),children:\"\\uD83E\\uDD16 AI\\u52A9\\u624B\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>setShowHelp(false),children:\"\\xD7\"})]}),!showAIChat?/*#__PURE__*/_jsxs(\"div\",{className:\"help-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"help-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCDA \\u5FEB\\u901F\\u5165\\u95E8\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u9009\\u62E9\\u667A\\u80FD\\u4F53\\u8FDB\\u884C\\u4EFB\\u52A1\\u89C4\\u5212\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u8F93\\u5165\\u4EFB\\u52A1\\u63CF\\u8FF0\\u6216\\u4F7F\\u7528\\u793A\\u4F8B\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u6267\\u884C\\u4EFB\\u52A1\\u5E76\\u67E5\\u770B\\u7ED3\\u679C\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"help-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDD27 \\u529F\\u80FD\\u8BF4\\u660E\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u591A\\u667A\\u80FD\\u4F53\\u534F\\u4F5C\\u6A21\\u5F0F\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u5B9E\\u65F6\\u7CFB\\u7EDF\\u76D1\\u63A7\"}),/*#__PURE__*/_jsx(\"li\",{children:\"DSL\\u539F\\u8BED\\u6267\\u884C\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"help-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCDE \\u6280\\u672F\\u652F\\u6301\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u5982\\u6709\\u95EE\\u9898\\u8BF7\\u8054\\u7CFB\\u6280\\u672F\\u652F\\u6301\\u56E2\\u961F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"contact-btn\",children:\"\\u8054\\u7CFB\\u652F\\u6301\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"ai-chat-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ai-chat-messages\",children:[aiMessages.map(message=>/*#__PURE__*/_jsxs(\"div\",{className:\"message \".concat(message.type),children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-avatar\",children:message.type==='ai'?'🤖':'👤'}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-text\",children:message.content}),/*#__PURE__*/_jsx(\"div\",{className:\"message-time\",children:message.timestamp.toLocaleTimeString()})]})]},message.id)),isAiTyping&&/*#__PURE__*/_jsxs(\"div\",{className:\"message ai typing\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-avatar\",children:\"\\uD83E\\uDD16\"}),/*#__PURE__*/_jsx(\"div\",{className:\"message-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"typing-indicator\",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ai-chat-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8F93\\u5165\\u60A8\\u7684\\u95EE\\u9898...\",value:aiInput,onChange:e=>setAiInput(e.target.value),onKeyPress:e=>e.key==='Enter'&&sendAIMessage(),disabled:isAiTyping}),/*#__PURE__*/_jsx(\"button\",{onClick:sendAIMessage,disabled:!aiInput.trim()||isAiTyping,className:\"send-btn\",children:\"\\u53D1\\u9001\"})]})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"system-status-bar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"status-indicator-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-dot active\"}),/*#__PURE__*/_jsx(\"span\",{children:t.systemStatus.running})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-indicator-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-dot processing\"}),/*#__PURE__*/_jsx(\"span\",{children:t.systemStatus.collaborating})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-indicator-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-dot ready\"}),/*#__PURE__*/_jsx(\"span\",{children:t.systemStatus.ready})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"system-metrics\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"metric-label\",children:\"CPU\"}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"metric-fill\",style:{width:\"\".concat(systemMetrics.cpuUsage,\"%\")}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"metric-value\",children:[systemMetrics.cpuUsage,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"metric-label\",children:\"Memory\"}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"metric-fill\",style:{width:\"\".concat(systemMetrics.memoryUsage,\"%\")}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"metric-value\",children:[systemMetrics.memoryUsage,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"metric-label\",children:\"Latency\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"metric-value\",children:[systemMetrics.networkLatency,\"ms\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"metric-label\",children:\"Connections\"}),/*#__PURE__*/_jsx(\"span\",{className:\"metric-value\",children:systemMetrics.activeConnections})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"language-switcher-container\",children:/*#__PURE__*/_jsx(LanguageSwitcher,{})})]}),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-spinner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u6B63\\u5728\\u5904\\u7406\\u4EFB\\u52A1...\"})]})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-banner\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"error-icon\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"error-close\",onClick:()=>setError(null),children:\"\\xD7\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-layout-grid \".concat(isRightSidebarCollapsed?'collapsed-right':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"task-planning-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"section-title\",children:[\"\\uD83D\\uDCCB \",t.sections.taskPlanning]}),/*#__PURE__*/_jsx(\"div\",{className:\"section-subtitle\",children:t.sections.taskSubtitle})]}),/*#__PURE__*/_jsx(TaskInput,{sendMessage:sendMessage,setSendMessage:setSendMessage,onExecuteTask:isMultiAgentMode?executeMultiAgentTask:executeSingleAgentTask,isMultiAgentMode:isMultiAgentMode,selectedAgents:selectedAgents,isLoading:isLoading}),/*#__PURE__*/_jsx(AgentSelector,{agents:agents,selectedAgents:selectedAgents,isMultiAgentMode:isMultiAgentMode,onToggleAgentSelection:setSelectedAgents,onModeChange:setIsMultiAgentMode})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"agent-architecture-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"section-title\",children:[\"\\uD83C\\uDFD7\\uFE0F \",t.sections.agentArchitecture]}),/*#__PURE__*/_jsx(\"div\",{className:\"section-subtitle\",children:t.sections.subtitle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"architecture-layout\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"slot-machine-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"slot-machine-layout\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"slot-machine-wheel\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"master-agent-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"master-agent-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"master-icon-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"master-icon\",children:/*#__PURE__*/_jsx(\"div\",{className:\"crown-emoji\",children:\"\\uD83D\\uDC51\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"master-glow\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"master-info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"master-name\",children:t.agents.master}),/*#__PURE__*/_jsx(\"p\",{className:\"master-role\",children:t.roles.master}),/*#__PURE__*/_jsxs(\"div\",{className:\"interaction-indicator\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pulse-dot\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Active Coordination\"})]})]})]})}),agents.map((agent,index)=>{const angle=agent.position.angle;const radius=agent.position.radius;const x=Math.cos((angle-90)*Math.PI/180)*radius;const y=Math.sin((angle-90)*Math.PI/180)*radius;return/*#__PURE__*/_jsxs(\"div\",{className:\"sub-agent \".concat(agent.color,\"-agent circular-agent \").concat((selectedAgent===null||selectedAgent===void 0?void 0:selectedAgent.id)===agent.id?'selected':''),style:{position:'absolute',left:\"calc(50% + \".concat(x,\"px)\"),top:\"calc(50% + \".concat(y,\"px)\"),transform:\"translate(-50%, -50%) \".concat((isMultiAgentMode?selectedAgents.some(a=>a.id===agent.id):(selectedAgent===null||selectedAgent===void 0?void 0:selectedAgent.id)===agent.id)?'scale(1.1)':''),zIndex:(isMultiAgentMode?selectedAgents.some(a=>a.id===agent.id):(selectedAgent===null||selectedAgent===void 0?void 0:selectedAgent.id)===agent.id)?1000:1,transition:'transform 0.3s ease'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sub-agent-card\",onClick:()=>toggleAgentSelection(agent),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"agent-icon-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"agent-icon \".concat(agent.color,\"-icon\"),children:agent.icon&&/*#__PURE__*/React.createElement(agent.icon)}),/*#__PURE__*/_jsx(\"div\",{className:\"status-indicator active\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"agent-content\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"agent-name\",children:agent.name}),/*#__PURE__*/_jsx(\"p\",{className:\"agent-role\",children:agent.role}),/*#__PURE__*/_jsx(\"div\",{className:\"agent-actions\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"send-button\",onClick:e=>openSendInterface(agent,e),title:\"\\u53D1\\u9001\\u6D88\\u606F\\u7ED9\\u6B64\\u667A\\u80FD\\u4F53\",children:[/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",className:\"send-icon\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M22 2L11 13\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M22 2L15 22L11 13L2 9L22 2Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]}),\"\\u53D1\\u9001\"]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"connection-line\",style:{position:'absolute',left:'50%',top:'50%',width:\"\".concat(Math.sqrt(x*x+y*y),\"px\"),height:'2px',background:'linear-gradient(90deg, rgba(0, 122, 255, 0.3), rgba(0, 122, 255, 0.3))',transformOrigin:'0 0',transform:\"rotate(\".concat(Math.atan2(y,x)*180/Math.PI,\"deg)\"),zIndex:1,opacity:(isMultiAgentMode?selectedAgents.some(a=>a.id===agent.id):(selectedAgent===null||selectedAgent===void 0?void 0:selectedAgent.id)===agent.id)?1:0.5,transition:'opacity 0.3s ease'}})]},agent.id);})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"real-time-metrics-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"metrics-title\",children:\"\\uD83D\\uDCCA \\u5B9E\\u65F6\\u76D1\\u63A7\"}),/*#__PURE__*/_jsx(\"div\",{className:\"metrics-subtitle\",children:\"\\u7CFB\\u7EDF\\u8FD0\\u884C\\u72B6\\u6001\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-icon\",children:\"\\u2705\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-number\",children:interactionHistory.length}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-label\",children:\"\\u5DF2\\u5B8C\\u6210\\u4EFB\\u52A1\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-icon\",children:\"\\u26A1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-number\",children:selectedAgents.length}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-label\",children:\"\\u6D3B\\u8DC3\\u667A\\u80FD\\u4F53\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-icon\",children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-number\",children:\"98.5%\"}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-label\",children:\"\\u6210\\u529F\\u7387\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-icon\",children:\"\\uD83D\\uDD04\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-number\",children:isLoading?'处理中':'就绪'}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-label\",children:\"\\u7CFB\\u7EDF\\u72B6\\u6001\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-summary\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"summary-title\",children:\"\\u6267\\u884C\\u6458\\u8981\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"summary-label\",children:\"\\u603B\\u6267\\u884C\\u65F6\\u95F4:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"summary-value\",children:\"2.3s\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"summary-label\",children:\"\\u5E73\\u5747\\u54CD\\u5E94:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"summary-value\",children:\"156ms\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"summary-label\",children:\"\\u8D44\\u6E90\\u4F7F\\u7528:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"summary-value\",children:\"45%\"})]})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"execution-report-section \".concat(isRightSidebarCollapsed?'collapsed':''),children:[/*#__PURE__*/_jsx(\"button\",{className:\"sidebar-toggle-btn \".concat(isRightSidebarCollapsed?'collapsed':''),onClick:toggleRightSidebar,title:isRightSidebarCollapsed?'展开报告面板':'折叠报告面板',children:isRightSidebarCollapsed?'📊':'◀'}),/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"section-title\",children:[\"\\uD83D\\uDCCA \",t.sections.executionReport]}),/*#__PURE__*/_jsx(\"div\",{className:\"section-subtitle\",children:t.sections.reportSubtitle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"report-summary\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"report-title\",children:t.report.summary}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\u2705\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-number\",children:interactionHistory.length}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:t.report.completedTasks})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\u26A1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-number\",children:selectedAgents.length}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:t.report.activeAgents})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-number\",children:\"98.5%\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:t.report.successRate})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-execution-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"report-title\",children:\"\\uD83D\\uDE80 Multi-Agent DSL \\u5DE5\\u4F5C\\u6D41\\u6267\\u884C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"workflow-content\",children:/*#__PURE__*/_jsx(WorkflowExecutor,{interactionHistory:interactionHistory,isLoading:isLoading,error:error})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-details\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"report-title\",children:t.report.details}),/*#__PURE__*/_jsx(\"div\",{className:\"report-content\",children:interactionHistory.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"interaction-timeline\",children:interactionHistory.map((interaction,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"timeline-marker\",children:/*#__PURE__*/_jsx(\"div\",{className:\"timeline-icon\",children:interaction.type==='master'?'👑':'🤖'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"timeline-agent\",children:interaction.agent}),/*#__PURE__*/_jsx(\"span\",{className:\"timeline-time\",children:interaction.timestamp})]}),/*#__PURE__*/_jsx(\"div\",{className:\"timeline-message\",children:interaction.message}),interaction.dsl&&/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-dsl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dsl-label\",children:\"DSL\\u539F\\u8BED:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dsl-content\",children:interaction.dsl})]}),interaction.apiCall&&/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-api\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"api-label\",children:\"API\\u8C03\\u7528:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"api-content\",children:interaction.apiCall})]})]})]},index))}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-report\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsx(\"h4\",{children:t.report.emptyTitle}),/*#__PURE__*/_jsx(\"p\",{children:t.report.emptyMessage}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'20px',padding:'10px',background:'rgba(255,255,255,0.1)',borderRadius:'8px'},children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.8rem',color:'rgba(255,255,255,0.7)'},children:\"\\u63D0\\u793A\\uFF1A\\u9009\\u62E9\\u667A\\u80FD\\u4F53\\u5E76\\u6267\\u884C\\u4EFB\\u52A1\\u540E\\uFF0C\\u8FD9\\u91CC\\u5C06\\u663E\\u793A\\u8BE6\\u7EC6\\u7684\\u6267\\u884C\\u62A5\\u544A\"})})]})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"function-display-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"function-display-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"function-display-title\",children:isMultiAgentMode?\"\".concat(t.functionControl.multiAgentTitle,\" (\").concat(selectedAgents.length,\")\"):selectedAgent?\"\".concat(selectedAgent.name,\" - \").concat(t.functionControl.title):t.functionControl.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"mode-toggle-btn \".concat(isMultiAgentMode?'active':''),onClick:()=>{setIsMultiAgentMode(!isMultiAgentMode);if(!isMultiAgentMode){setSelectedAgents([]);}else{setSelectedAgent(null);}},title:isMultiAgentMode?'切换到单智能体模式':t.functionControl.modeToggleTooltip,children:t.functionControl.modeToggle}),(selectedAgent||selectedAgents.length>0)&&/*#__PURE__*/_jsx(\"button\",{className:\"close-selection-btn\",onClick:()=>{setSelectedAgent(null);setSelectedAgents([]);},title:\"\\u53D6\\u6D88\\u9009\\u62E9\",children:\"\\xD7\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"function-display-content\",children:isMultiAgentMode?/*#__PURE__*/_jsx(\"div\",{className:\"multi-agent-functions\",children:selectedAgents.length>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"selected-agents-list\",children:[/*#__PURE__*/_jsx(\"h4\",{children:t.functionControl.selectedAgents}),/*#__PURE__*/_jsx(\"div\",{className:\"agents-grid\",children:selectedAgents.map(agent=>/*#__PURE__*/_jsxs(\"div\",{className:\"selected-agent-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"agent-mini-icon \".concat(agent.color,\"-icon\"),children:agent.icon&&/*#__PURE__*/React.createElement(agent.icon)}),/*#__PURE__*/_jsx(\"span\",{className:\"agent-mini-name\",children:agent.name})]},agent.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"collaboration-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"collaboration-btn\",onClick:startMultiAgentCollaboration,disabled:selectedAgents.length<2,children:selectedAgents.length<2?t.messages.selectAgent:t.functionControl.startCollaboration}),/*#__PURE__*/_jsxs(\"div\",{className:\"collaboration-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"\\u534F\\u4F5C\\u6A21\\u5F0F\\uFF1A\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:\"\\u81EA\\u52A8\\u4EFB\\u52A1\\u5206\\u914D\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"\\u5904\\u7406\\u65B9\\u5F0F\\uFF1A\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:\"\\u5E76\\u884C\\u534F\\u4F5C\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"\\u54CD\\u5E94\\u65F6\\u95F4\\uFF1A\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:\"3-5\\u79D2\"})]})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"multi-agent-guide\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"guide-icon\",children:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",className:\"guide-svg-icon\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\",stroke:\"currentColor\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"9\",cy:\"7\",r:\"4\",stroke:\"currentColor\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M23 21v-2a4 4 0 0 0-3-3.87\",stroke:\"currentColor\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M16 3.13a4 4 0 0 1 0 7.75\",stroke:\"currentColor\",strokeWidth:\"2\"})]})}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\u591A\\u667A\\u80FD\\u4F53\\u534F\\u4F5C\\u6A21\\u5F0F\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u9009\\u62E9\\u591A\\u4E2A\\u667A\\u80FD\\u4F53\\u8FDB\\u884C\\u534F\\u4F5C\\u4EFB\\u52A1\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u70B9\\u51FB\\u667A\\u80FD\\u4F53\\u5361\\u7247\\u8FDB\\u884C\\u591A\\u9009\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u81F3\\u5C11\\u9009\\u62E92\\u4E2A\\u667A\\u80FD\\u4F53\\u5F00\\u59CB\\u534F\\u4F5C\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u7CFB\\u7EDF\\u5C06\\u81EA\\u52A8\\u5206\\u914D\\u4EFB\\u52A1\\u5E76\\u534F\\u8C03\\u5904\\u7406\"})]})}):selectedAgent?/*#__PURE__*/_jsxs(\"div\",{className:\"agent-functions\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"agent-description\",children:selectedAgent.description}),/*#__PURE__*/_jsx(\"div\",{className:\"function-list\",children:selectedAgent.functions.map((func,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"function-tag\",children:func},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"agent-details\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u8BE6\\u7EC6\\u529F\\u80FD\"}),/*#__PURE__*/_jsx(\"p\",{children:selectedAgent.details})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"default-message\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"default-icon\",children:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",className:\"default-svg-icon\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 6v6l4 2\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]})}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u70B9\\u51FB\\u667A\\u80FD\\u4F53\\u67E5\\u770B\\u5176\\u529F\\u80FD\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Click agents to view their functions\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u70B9\\u51FB\\u53D1\\u9001\\u6309\\u94AE\\u4E0E\\u667A\\u80FD\\u4F53\\u4EA4\\u4E92\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Click send button to interact with agents\"})]})})]}),interactionHistory.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"interaction-history\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"history-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u4EA4\\u4E92\\u8BB0\\u5F55 / Interaction History\"}),/*#__PURE__*/_jsx(\"button\",{className:\"clear-history-btn\",onClick:()=>setInteractionHistory([]),children:\"\\u6E05\\u7A7A\\u8BB0\\u5F55\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"history-content\",children:interactionHistory.map(interaction=>/*#__PURE__*/_jsxs(\"div\",{className:\"history-item \".concat(interaction.type),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"history-header-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"history-agents\",children:interaction.agents.map(agent=>/*#__PURE__*/_jsxs(\"div\",{className:\"history-agent-tag\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"history-agent-icon \".concat(agent.color,\"-icon\"),children:agent.icon&&/*#__PURE__*/React.createElement(agent.icon)}),/*#__PURE__*/_jsx(\"span\",{children:agent.name})]},agent.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"history-timestamp\",children:interaction.timestamp})]}),/*#__PURE__*/_jsx(\"div\",{className:\"history-message\",children:interaction.message}),interaction.response&&/*#__PURE__*/_jsxs(\"div\",{className:\"history-response\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"response-summary\",children:interaction.response.summary}),/*#__PURE__*/_jsx(\"div\",{className:\"response-details\",children:interaction.response.details.map((detail,idx)=>/*#__PURE__*/_jsx(\"div\",{className:\"response-detail-item\",children:detail},idx))}),interaction.response.apiCall&&/*#__PURE__*/_jsxs(\"div\",{className:\"api-call-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"api-call-label\",children:\"API\\u8C03\\u7528\\uFF1A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"api-call-code\",children:interaction.response.apiCall})]}),/*#__PURE__*/_jsx(\"div\",{className:\"response-result\",children:interaction.response.result}),interaction.dsl&&/*#__PURE__*/_jsxs(\"div\",{className:\"dsl-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dsl-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"dsl-icon\",children:\"\\uD83D\\uDE80\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dsl-title\",children:\"Multi-Agent DSL Framework\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dsl-phase\",children:interaction.phase})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dsl-content\",children:[interaction.type==='workflow_step'&&/*#__PURE__*/_jsxs(\"div\",{className:\"dsl-workflow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dsl-primitive\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"primitive-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"primitive-name\",children:interaction.dsl.primitive}),/*#__PURE__*/_jsx(\"span\",{className:\"primitive-type\",children:\"DSL\\u539F\\u8BED\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"primitive-description\",children:interaction.dsl.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"primitive-syntax\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"syntax-label\",children:\"\\u8BED\\u6CD5:\"}),/*#__PURE__*/_jsx(\"code\",{className:\"syntax-code\",children:interaction.dsl.syntax})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"primitive-example\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"example-label\",children:\"\\u793A\\u4F8B:\"}),/*#__PURE__*/_jsx(\"code\",{className:\"example-code\",children:interaction.dsl.example})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-phase\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"phase-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"phase-label\",children:\"\\u5DE5\\u4F5C\\u6D41\\u9636\\u6BB5:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"phase-value\",children:interaction.phase})]}),/*#__PURE__*/_jsx(\"div\",{className:\"phase-description\",children:interaction.description})]})]}),interaction.type==='master_coordination'&&/*#__PURE__*/_jsxs(\"div\",{className:\"dsl-master\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dsl-step\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"step-number\",children:\"1\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"step-text\",children:[\"\\u4EFB\\u52A1\\u5206\\u6790\\uFF1A\",interaction.dsl.taskAnalysis.complexity,\" \\u590D\\u6742\\u5EA6\\uFF0C\",interaction.dsl.taskAnalysis.priority,\" \\u4F18\\u5148\\u7EA7\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dsl-step\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"step-number\",children:\"2\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"step-text\",children:[\"\\u7B56\\u7565\\u5236\\u5B9A\\uFF1A\",interaction.dsl.strategy.executionOrder.join(' → '),\" \\u6267\\u884C\\u987A\\u5E8F\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dsl-step\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"step-number\",children:\"3\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"step-text\",children:[\"\\u4EFB\\u52A1\\u5206\\u89E3\\uFF1A\",interaction.dsl.decomposedTasks.length,\" \\u4E2A\\u5B50\\u4EFB\\u52A1\\u5DF2\\u5206\\u53D1\"]})]})]}),interaction.type==='sub_agent_task'&&/*#__PURE__*/_jsxs(\"div\",{className:\"dsl-sub\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dsl-task-info\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"task-id\",children:[\"\\u4EFB\\u52A1ID: \",interaction.dsl.taskId]}),/*#__PURE__*/_jsxs(\"span\",{className:\"agent-type\",children:[\"\\u667A\\u80FD\\u4F53: \",interaction.dsl.agentType]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dsl-parameters\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"param-label\",children:\"\\u53C2\\u6570:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"param-value\",children:JSON.stringify(interaction.dsl.parameters)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dsl-output\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"output-label\",children:\"\\u671F\\u671B\\u8F93\\u51FA:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"output-value\",children:interaction.dsl.output})]})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"history-status \".concat(interaction.status),children:interaction.status==='processing'?'处理中...':interaction.status==='completed'?'已完成':interaction.status==='active'?'活跃':interaction.status})]},interaction.id))})]}),activeSendAgent&&/*#__PURE__*/_jsx(\"div\",{className:\"send-modal-overlay\",onClick:closeSendInterface,children:/*#__PURE__*/_jsxs(\"div\",{className:\"send-modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{className:\"send-modal-close\",onClick:closeSendInterface,children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"send-modal-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"send-modal-icon \".concat(activeSendAgent.color,\"-icon\"),children:activeSendAgent.icon&&/*#__PURE__*/React.createElement(activeSendAgent.icon)}),/*#__PURE__*/_jsxs(\"div\",{className:\"send-modal-info\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"send-modal-title\",children:[t.functionControl.sendMessage,\" \",activeSendAgent.name]}),/*#__PURE__*/_jsx(\"p\",{className:\"send-modal-subtitle\",children:activeSendAgent.role})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"send-modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"send-modal-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u6D88\\u606F\\u5185\\u5BB9\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"send-message-input\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u8981\\u53D1\\u9001\\u7ED9\".concat(activeSendAgent.name,\"\\u7684\\u6D88\\u606F...\"),value:sendMessage,onChange:e=>setSendMessage(e.target.value),rows:4})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"send-modal-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u9884\\u8BBE\\u6D88\\u606F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"preset-messages\",children:activeSendAgent.functions.map((func,idx)=>/*#__PURE__*/_jsx(\"button\",{className:\"preset-message-btn\",onClick:()=>setSendMessage(\"\\u8BF7\\u6267\\u884C\".concat(func,\"\\u529F\\u80FD\")),children:func},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"send-modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"send-cancel-btn\",onClick:closeSendInterface,children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"button\",{className:\"send-confirm-btn\",onClick:handleSendMessage,disabled:!sendMessage.trim(),children:t.buttons.send})]})]})]})})]})]});};export default AgentArchitecture;","map":{"version":3,"names":["React","useState","useEffect","useTranslation","LanguageSwitcher","callDeepSeekAPIMock","AgentSelector","TaskInput","WorkflowExecutor","jsx","_jsx","jsxs","_jsxs","AgentArchitecture","t","selectedAgent","setSelectedAgent","selectedAgents","setSelectedAgents","activeSendAgent","setActiveSendAgent","sendMessage","setSendMessage","interactionHistory","setInteractionHistory","isMultiAgentMode","setIsMultiAgentMode","isRightSidebarCollapsed","setIsRightSidebarCollapsed","isLoading","setIsLoading","error","setError","systemMetrics","setSystemMetrics","cpuUsage","memoryUsage","networkLatency","activeConnections","showUserMenu","setShowUserMenu","showNotifications","setShowNotifications","showSettings","setShowSettings","showHelp","setShowHelp","notifications","id","title","message","time","unread","showAIChat","setShowAIChat","aiMessages","setAiMessages","type","content","timestamp","Date","aiInput","setAiInput","isAiTyping","setIsAiTyping","scrollToSection","sectionId","element","document","getElementById","scrollIntoView","behavior","block","callDeepSeekAPI","userMessage","console","sendAIMessage","log","trim","now","prev","aiResponse","aiMessage","errorMessage","toggleRightSidebar","handleResize","width","window","innerWidth","addEventListener","removeEventListener","toggleAgentSelection","agent","isSelected","some","a","filter","dslPrimitives","EVENT_ROUTE","name","description","syntax","example","CACHE_OPTIMIZE","SYSTEM_SCHEDULE","AGENT_COLLABORATE","LLM_DRIVE","multiAgentWorkflow","receiveTask","userTask","phase","dsl","participants","status","toLocaleString","analyzeAndPlan","task","distributeTasks","strategy","agents","map","agentCollaboration","executeTasks","tasks","reportIssues","issue","concat","resolveIssues","solution","redistributeTasks","newStrategy","finalExecution","finalTasks","finalReview","results","analyzeTaskComplexity","keywords","toLowerCase","includes","identifyRequiredAgents","required","push","length","determinePriority","estimateExecutionTime","complexity","baseTime","Math","random","identifyDependencies","generateCoordinationPlan","analysis","plans","requiredAgents","forEach","agentType","subTask","generateSubTask","originalTask","parameters","generateParameters","dependencies","expectedOutput","generateExpectedOutput","timeout","taskMap","traffic","safety","weather","parking","perception","ems","enforcement","sanitation","paramMap","area","timeWindow","priority","riskLevel","checkRadius","alertThreshold","location","forecastHours","accuracy","searchRadius","priceRange","availability","detectionRange","updateFreq","responseTime","resourceLevel","coverage","violationTypes","detectionRate","penaltyLevel","airQuality","routeOptimization","schedule","outputMap","determineExecutionOrder","order","allocateResources","cpu","memory","network","defineMonitoringPoints","checkpoint","interval","createFallbackPlan","primaryFailure","timeoutAction","resourceExhaustion","communicationFailure","executeSingleAgentTask","alert","setTimeout","executeCompleteWorkflow","executeMultiAgentTask","startMultiAgentCollaboration","taskTemplates","prompt","template","index","join","finalTask","match","parseInt","workflowId","step1","addWorkflowStep","delay","step2","step3","step4","step5","reportingAgent","floor","step6","step7","step8","step9","step10","step","_dslPrimitives$step$d","_dslPrimitives$step$d2","_dslPrimitives$step$d3","_dslPrimitives$step$d4","_dslPrimitives$step$d5","interaction","role","response","summary","details","result","primitive","ms","Promise","resolve","executeSubAgentTasks","decomposedTasks","find","taskId","taskInteraction","_objectSpread","generateSubAgentResponse","apiCall","output","handleCollaborationMessage","collaborationId","newInteraction","generateMultiAgentResponse","responses","agentRoles","openSendInterface","event","stopPropagation","closeSendInterface","handleSendMessage","interactionId","generateSingleAgentResponse","item","_dslPrimitives$dslPri","_dslPrimitives$dslPri2","_dslPrimitives$dslPri3","dslPrimitive","encodeURIComponent","handleWheel","e","preventDefault","AutonomousDrivingIcon","className","children","TrafficIcon","WeatherIcon","ParkingIcon","SafetyIcon","EMSIcon","EnforcementIcon","SanitationIcon","SprinklerIcon","PerceptionIcon","TrafficIncidentIcon","RerouteIcon","TrafficMonitorIcon","MasterIcon","viewBox","fill","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","icon","color","functions","agentDescriptions","autonomousDriving","agentDetails","position","angle","radius","trafficManager","weatherMonitor","parkingManager","safetyMonitor","emergencyServices","lawEnforcement","sanitationManager","irrigationManager","perceptionAgent","trafficIncidentAgent","rerouteAgent","onClick","n","notification","defaultChecked","toLocaleTimeString","placeholder","value","onChange","target","onKeyPress","key","disabled","systemStatus","running","collaborating","ready","style","sections","taskPlanning","taskSubtitle","onExecuteTask","onToggleAgentSelection","onModeChange","agentArchitecture","subtitle","master","roles","x","cos","PI","y","sin","left","top","transform","zIndex","transition","createElement","sqrt","height","background","transformOrigin","atan2","opacity","executionReport","reportSubtitle","report","completedTasks","activeAgents","successRate","emptyTitle","emptyMessage","marginTop","padding","borderRadius","fontSize","functionControl","multiAgentTitle","modeToggleTooltip","modeToggle","messages","selectAgent","startCollaboration","func","detail","idx","taskAnalysis","executionOrder","JSON","stringify","rows","buttons","send"],"sources":["/Users/Apple/Desktop/multi-agent-dsl-final/frontend/src/components/AgentArchitecture.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './AgentArchitecture.css';\nimport { useTranslation, LanguageSwitcher } from '../hooks/useTranslation';\nimport { callDeepSeekAPIMock } from '../config/deepseek';\nimport AgentSelector from './AgentSelector';\nimport TaskInput from './TaskInput';\nimport WorkflowExecutor from './WorkflowExecutor';\n\nconst AgentArchitecture = () => {\n  const { t } = useTranslation();\n  const [selectedAgent, setSelectedAgent] = useState(null);\n  const [selectedAgents, setSelectedAgents] = useState([]); // 多智能体选择\n  const [activeSendAgent, setActiveSendAgent] = useState(null);\n  const [sendMessage, setSendMessage] = useState('');\n  const [interactionHistory, setInteractionHistory] = useState([]); // 交互记录\n  const [isMultiAgentMode, setIsMultiAgentMode] = useState(false); // 多智能体模式\n  const [isRightSidebarCollapsed, setIsRightSidebarCollapsed] = useState(false); // 右边栏折叠状态\n  const [isLoading, setIsLoading] = useState(false); // 加载状态\n  const [error, setError] = useState(null); // 错误状态\n  const [systemMetrics, setSystemMetrics] = useState({ // 系统指标\n    cpuUsage: 45,\n    memoryUsage: 62,\n    networkLatency: 12,\n    activeConnections: 156\n  });\n  \n  // 企业级功能状态\n  const [showUserMenu, setShowUserMenu] = useState(false);\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  const [showHelp, setShowHelp] = useState(false);\n  const [notifications] = useState([\n    { id: 1, title: '系统更新', message: 'Multi-Agent DSL Platform v2.1.0 已发布', time: '2分钟前', unread: true },\n    { id: 2, title: '任务完成', message: '交通优化任务已成功执行', time: '15分钟前', unread: true },\n    { id: 3, title: '系统警告', message: 'CPU使用率超过80%', time: '1小时前', unread: false }\n  ]);\n  \n  // AI助手状态\n  const [showAIChat, setShowAIChat] = useState(false);\n  const [aiMessages, setAiMessages] = useState([\n    { id: 1, type: 'ai', content: '您好！我是DeepSeek AI助手，专门帮助您解决Multi-Agent DSL Platform的问题。请问有什么可以帮助您的吗？', timestamp: new Date() }\n  ]);\n  const [aiInput, setAiInput] = useState('');\n  const [isAiTyping, setIsAiTyping] = useState(false);\n\n  const scrollToSection = (sectionId) => {\n    const element = document.getElementById(sectionId);\n    if (element) {\n      element.scrollIntoView({ \n        behavior: 'smooth',\n        block: 'start'\n      });\n    }\n  };\n\n  // DeepSeek AI助手功能\n  const callDeepSeekAPI = async (userMessage) => {\n    try {\n      // 使用模拟API调用（实际使用时替换为真实的DeepSeek API）\n      return await callDeepSeekAPIMock(userMessage);\n    } catch (error) {\n      console.error('DeepSeek API调用失败:', error);\n      return \"抱歉，AI助手暂时无法响应。请稍后再试或联系技术支持。\";\n    }\n  };\n\n\n  const sendAIMessage = async () => {\n    console.log('sendAIMessage called, aiInput:', aiInput);\n    if (!aiInput.trim()) {\n      console.log('No input text, returning');\n      return;\n    }\n\n    const userMessage = {\n      id: Date.now(),\n      type: 'user',\n      content: aiInput.trim(),\n      timestamp: new Date()\n    };\n\n    console.log('Adding user message:', userMessage);\n    setAiMessages(prev => [...prev, userMessage]);\n    setAiInput('');\n    setIsAiTyping(true);\n\n    try {\n      console.log('Calling DeepSeek API...');\n      const aiResponse = await callDeepSeekAPI(userMessage.content);\n      console.log('AI Response:', aiResponse);\n      \n      const aiMessage = {\n        id: Date.now() + 1,\n        type: 'ai',\n        content: aiResponse,\n        timestamp: new Date()\n      };\n\n      console.log('Adding AI message:', aiMessage);\n      setAiMessages(prev => [...prev, aiMessage]);\n    } catch (error) {\n      console.error('Error in sendAIMessage:', error);\n      const errorMessage = {\n        id: Date.now() + 1,\n        type: 'ai',\n        content: \"抱歉，发生了错误。请稍后再试。\",\n        timestamp: new Date()\n      };\n      setAiMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsAiTyping(false);\n    }\n  };\n\n  // 右边栏折叠功能\n  const toggleRightSidebar = () => {\n    setIsRightSidebarCollapsed(!isRightSidebarCollapsed);\n  };\n\n  // 自动检测屏幕宽度并调整布局\n  useEffect(() => {\n    const handleResize = () => {\n      const width = window.innerWidth;\n      if (width <= 1100) {\n        setIsRightSidebarCollapsed(true);\n      } else {\n        setIsRightSidebarCollapsed(false);\n      }\n    };\n\n    // 初始检查\n    handleResize();\n\n    // 监听窗口大小变化\n    window.addEventListener('resize', handleResize);\n    \n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  // 多智能体选择功能\n  const toggleAgentSelection = (agent) => {\n    if (isMultiAgentMode) {\n      // 多智能体模式：可以多选\n      setSelectedAgents(prev => {\n        const isSelected = prev.some(a => a.id === agent.id);\n        if (isSelected) {\n          return prev.filter(a => a.id !== agent.id);\n        } else {\n          return [...prev, agent];\n        }\n      });\n    } else {\n      // 单智能体模式：只能选择一个\n      setSelectedAgents([agent]);\n    }\n  };\n\n  // Multi-Agent DSL Framework 核心原语\n  const dslPrimitives = {\n    // 事件处理原语\n    EVENT_ROUTE: {\n      name: \"EVENT_ROUTE\",\n      description: \"事件路由原语 - 智能路由复杂事件到合适的智能体\",\n      syntax: \"EVENT_ROUTE(event_type, priority, target_agents)\",\n      example: \"EVENT_ROUTE('traffic_incident', 'high', ['traffic_manager', 'safety_agent'])\"\n    },\n    CACHE_OPTIMIZE: {\n      name: \"CACHE_OPTIMIZE\", \n      description: \"缓存优化原语 - 优化智能体间数据缓存和共享\",\n      syntax: \"CACHE_OPTIMIZE(cache_strategy, ttl, agents)\",\n      example: \"CACHE_OPTIMIZE('distributed', 300, ['perception', 'weather'])\"\n    },\n    SYSTEM_SCHEDULE: {\n      name: \"SYSTEM_SCHEDULE\",\n      description: \"系统调度原语 - 协调多智能体执行顺序和资源分配\", \n      syntax: \"SYSTEM_SCHEDULE(task_queue, resource_limit, execution_order)\",\n      example: \"SYSTEM_SCHEDULE(['analyze', 'optimize', 'execute'], 'cpu:80%', 'sequential')\"\n    },\n    AGENT_COLLABORATE: {\n      name: \"AGENT_COLLABORATE\",\n      description: \"智能体协作原语 - 实现智能体间的实时协作和通信\",\n      syntax: \"AGENT_COLLABORATE(collaboration_type, participants, protocol)\",\n      example: \"AGENT_COLLABORATE('consensus', ['traffic', 'safety'], 'broadcast')\"\n    },\n    LLM_DRIVE: {\n      name: \"LLM_DRIVE\",\n      description: \"LLM驱动原语 - 利用大语言模型进行智能决策和任务分解\",\n      syntax: \"LLM_DRIVE(prompt_template, context, output_format)\",\n      example: \"LLM_DRIVE('analyze_traffic_pattern', sensor_data, 'json')\"\n    }\n  };\n\n  // 完整的Multi-Agent协作逻辑链条\n  const multiAgentWorkflow = {\n    // 1. 领导接收任务 - Master Agent接收用户任务\n    receiveTask: (userTask) => {\n      return {\n        phase: \"LEADER_RECEIVE_TASK\",\n        dsl: dslPrimitives.EVENT_ROUTE.name,\n        description: \"Master智能体接收用户任务，使用EVENT_ROUTE原语进行事件路由\",\n        participants: [\"Master Agent\"],\n        status: \"active\",\n        timestamp: new Date().toLocaleString()\n      };\n    },\n\n    // 2. 开会商量对策 - Master Agent分析任务并制定策略\n    analyzeAndPlan: (task) => {\n      return {\n        phase: \"MEETING_ANALYSIS\", \n        dsl: dslPrimitives.LLM_DRIVE.name,\n        description: \"Master智能体使用LLM_DRIVE原语分析任务，制定协作策略\",\n        participants: [\"Master Agent\"],\n        status: \"active\",\n        timestamp: new Date().toLocaleString()\n      };\n    },\n\n    // 3. 布置任务 - Master Agent分配任务给子智能体\n    distributeTasks: (strategy, agents) => {\n      return {\n        phase: \"TASK_DISTRIBUTION\",\n        dsl: dslPrimitives.SYSTEM_SCHEDULE.name,\n        description: \"Master智能体使用SYSTEM_SCHEDULE原语分配任务，确定执行顺序\",\n        participants: [\"Master Agent\", ...agents.map(a => a.name)],\n        status: \"active\", \n        timestamp: new Date().toLocaleString()\n      };\n    },\n\n    // 4. 相互交流 - 子智能体间协作通信\n    agentCollaboration: (agents, task) => {\n      return {\n        phase: \"AGENT_COLLABORATION\",\n        dsl: dslPrimitives.AGENT_COLLABORATE.name,\n        description: \"子智能体使用AGENT_COLLABORATE原语进行实时协作\",\n        participants: agents.map(a => a.name),\n        status: \"active\",\n        timestamp: new Date().toLocaleString()\n      };\n    },\n\n    // 5. 合作完成任务 - 子智能体执行具体任务\n    executeTasks: (agents, tasks) => {\n      return {\n        phase: \"TASK_EXECUTION\",\n        dsl: dslPrimitives.CACHE_OPTIMIZE.name,\n        description: \"子智能体使用CACHE_OPTIMIZE原语优化数据共享，执行任务\",\n        participants: agents.map(a => a.name),\n        status: \"active\",\n        timestamp: new Date().toLocaleString()\n      };\n    },\n\n    // 6. 遇到问题汇报 - 子智能体向Master汇报问题\n    reportIssues: (agent, issue) => {\n      return {\n        phase: \"ISSUE_REPORTING\",\n        dsl: dslPrimitives.EVENT_ROUTE.name,\n        description: `${agent.name}使用EVENT_ROUTE原语向Master智能体汇报问题`,\n        participants: [agent.name, \"Master Agent\"],\n        status: \"active\",\n        timestamp: new Date().toLocaleString()\n      };\n    },\n\n    // 7. 找到解决方式 - Master Agent重新分配任务\n    resolveIssues: (issue, solution) => {\n      return {\n        phase: \"ISSUE_RESOLUTION\",\n        dsl: dslPrimitives.LLM_DRIVE.name,\n        description: \"Master智能体使用LLM_DRIVE原语分析问题，制定解决方案\",\n        participants: [\"Master Agent\"],\n        status: \"active\",\n        timestamp: new Date().toLocaleString()\n      };\n    },\n\n    // 8. 重新分配任务 - Master Agent调整任务分配\n    redistributeTasks: (newStrategy, agents) => {\n      return {\n        phase: \"TASK_REDISTRIBUTION\", \n        dsl: dslPrimitives.SYSTEM_SCHEDULE.name,\n        description: \"Master智能体使用SYSTEM_SCHEDULE原语重新分配任务\",\n        participants: [\"Master Agent\", ...agents.map(a => a.name)],\n        status: \"active\",\n        timestamp: new Date().toLocaleString()\n      };\n    },\n\n    // 9. 最终解决任务 - 子智能体完成最终任务\n    finalExecution: (agents, finalTasks) => {\n      return {\n        phase: \"FINAL_EXECUTION\",\n        dsl: dslPrimitives.AGENT_COLLABORATE.name,\n        description: \"子智能体使用AGENT_COLLABORATE原语协作完成最终任务\",\n        participants: agents.map(a => a.name),\n        status: \"active\",\n        timestamp: new Date().toLocaleString()\n      };\n    },\n\n    // 10. 开会复盘 - Master Agent总结和广播结果\n    finalReview: (results, agents) => {\n      return {\n        phase: \"FINAL_REVIEW\",\n        dsl: dslPrimitives.EVENT_ROUTE.name,\n        description: \"Master智能体使用EVENT_ROUTE原语广播最终结果，进行复盘\",\n        participants: [\"Master Agent\", ...agents.map(a => a.name)],\n        status: \"completed\",\n        timestamp: new Date().toLocaleString()\n      };\n    }\n  };\n\n  // 任务复杂度分析\n  const analyzeTaskComplexity = (task) => {\n    const keywords = task.toLowerCase();\n    if (keywords.includes('紧急') || keywords.includes('urgent')) return 'high';\n    if (keywords.includes('复杂') || keywords.includes('complex')) return 'high';\n    if (keywords.includes('简单') || keywords.includes('simple')) return 'low';\n    return 'medium';\n  };\n\n  // 识别所需智能体\n  const identifyRequiredAgents = (task) => {\n    const keywords = task.toLowerCase();\n    const required = [];\n    \n    if (keywords.includes('交通') || keywords.includes('traffic')) required.push('traffic');\n    if (keywords.includes('安全') || keywords.includes('safety')) required.push('safety');\n    if (keywords.includes('天气') || keywords.includes('weather')) required.push('weather');\n    if (keywords.includes('停车') || keywords.includes('parking')) required.push('parking');\n    if (keywords.includes('感知') || keywords.includes('perception')) required.push('perception');\n    if (keywords.includes('应急') || keywords.includes('emergency')) required.push('ems');\n    if (keywords.includes('执法') || keywords.includes('enforcement')) required.push('enforcement');\n    if (keywords.includes('清洁') || keywords.includes('sanitation')) required.push('sanitation');\n    \n    return required.length > 0 ? required : ['traffic', 'safety']; // 默认组合\n  };\n\n  // 确定优先级\n  const determinePriority = (task) => {\n    const keywords = task.toLowerCase();\n    if (keywords.includes('紧急') || keywords.includes('urgent')) return 'critical';\n    if (keywords.includes('重要') || keywords.includes('important')) return 'high';\n    return 'normal';\n  };\n\n  // 估算执行时间\n  const estimateExecutionTime = (task) => {\n    const complexity = analyzeTaskComplexity(task);\n    const baseTime = complexity === 'high' ? 8000 : complexity === 'medium' ? 5000 : 3000;\n    return baseTime + Math.random() * 2000;\n  };\n\n  // 识别依赖关系\n  const identifyDependencies = (task) => {\n    return ['data_sync', 'system_check']; // 基础依赖\n  };\n\n  // 生成协调计划\n  const generateCoordinationPlan = (analysis) => {\n    const plans = [];\n    \n    analysis.requiredAgents.forEach(agentType => {\n      plans.push({\n        agentType,\n        subTask: generateSubTask(agentType, analysis.originalTask),\n        parameters: generateParameters(agentType),\n        dependencies: [],\n        expectedOutput: generateExpectedOutput(agentType),\n        timeout: 5000\n      });\n    });\n    \n    return plans;\n  };\n\n  // 生成子任务\n  const generateSubTask = (agentType, originalTask) => {\n    const taskMap = {\n      traffic: `分析交通状况并优化路线规划 - 基于任务：${originalTask}`,\n      safety: `执行安全检查并识别潜在风险 - 基于任务：${originalTask}`,\n      weather: `获取天气数据并评估环境条件 - 基于任务：${originalTask}`,\n      parking: `分析停车位状况并推荐最优位置 - 基于任务：${originalTask}`,\n      perception: `更新环境感知数据并识别目标 - 基于任务：${originalTask}`,\n      ems: `检查应急响应系统并准备资源 - 基于任务：${originalTask}`,\n      enforcement: `激活执法监控并检测违规行为 - 基于任务：${originalTask}`,\n      sanitation: `监控环境清洁状况并优化路线 - 基于任务：${originalTask}`\n    };\n    return taskMap[agentType] || `执行相关任务 - 基于任务：${originalTask}`;\n  };\n\n  // 生成参数\n  const generateParameters = (agentType) => {\n    const paramMap = {\n      traffic: { area: 'city_center', timeWindow: '30min', priority: 'high' },\n      safety: { riskLevel: 'medium', checkRadius: '500m', alertThreshold: '0.8' },\n      weather: { location: 'current', forecastHours: 24, accuracy: 'high' },\n      parking: { searchRadius: '1km', priceRange: 'any', availability: 'real-time' },\n      perception: { detectionRange: '200m', accuracy: '98%', updateFreq: '1s' },\n      ems: { responseTime: '<2min', resourceLevel: 'high', coverage: '100%' },\n      enforcement: { violationTypes: 'all', detectionRate: '95%', penaltyLevel: 'standard' },\n      sanitation: { airQuality: 'monitor', routeOptimization: 'enabled', schedule: 'dynamic' }\n    };\n    return paramMap[agentType] || {};\n  };\n\n  // 生成期望输出\n  const generateExpectedOutput = (agentType) => {\n    const outputMap = {\n      traffic: '优化路线建议和交通状况报告',\n      safety: '安全评估报告和风险预警',\n      weather: '天气数据和环境条件评估',\n      parking: '停车位推荐和可用性报告',\n      perception: '环境感知数据和目标识别结果',\n      ems: '应急响应状态和资源分配报告',\n      enforcement: '执法监控数据和违规记录',\n      sanitation: '环境清洁状况和优化建议'\n    };\n    return outputMap[agentType] || '任务执行结果';\n  };\n\n  // 确定执行顺序\n  const determineExecutionOrder = (analysis) => {\n    const order = [];\n    if (analysis.requiredAgents.includes('perception')) order.push('perception');\n    if (analysis.requiredAgents.includes('weather')) order.push('weather');\n    if (analysis.requiredAgents.includes('traffic')) order.push('traffic');\n    if (analysis.requiredAgents.includes('safety')) order.push('safety');\n    if (analysis.requiredAgents.includes('parking')) order.push('parking');\n    return order;\n  };\n\n  // 分配资源\n  const allocateResources = (analysis) => {\n    return {\n      cpu: analysis.complexity === 'high' ? '80%' : '60%',\n      memory: analysis.complexity === 'high' ? '2GB' : '1GB',\n      network: 'high',\n      priority: analysis.priority\n    };\n  };\n\n  // 定义监控点\n  const defineMonitoringPoints = (analysis) => {\n    return analysis.requiredAgents.map(agent => ({\n      agent,\n      checkpoint: `${agent}_status_check`,\n      interval: '5s',\n      alertThreshold: 'error_rate > 5%'\n    }));\n  };\n\n  // 创建备用计划\n  const createFallbackPlan = (analysis) => {\n    return {\n      primaryFailure: 'switch_to_backup_agents',\n      timeoutAction: 'escalate_to_human_operator',\n      resourceExhaustion: 'reduce_task_scope',\n      communicationFailure: 'use_offline_mode'\n    };\n  };\n\n  // 启动Multi-Agent DSL Framework完整协作流程\n  const executeSingleAgentTask = () => {\n    if (selectedAgents.length !== 1) {\n      alert('单智能体模式请选择1个智能体！');\n      return;\n    }\n    \n    if (!sendMessage.trim()) {\n      alert('请输入任务描述！');\n      return;\n    }\n\n    const userTask = sendMessage.trim();\n    const agents = selectedAgents;\n    \n    // 显示加载状态\n    setIsLoading(true);\n    \n    // 模拟任务执行\n    setTimeout(() => {\n      executeCompleteWorkflow(userTask, agents);\n      setIsLoading(false);\n    }, 1000);\n  };\n\n  const executeMultiAgentTask = () => {\n    if (selectedAgents.length < 2) {\n      alert('请至少选择2个智能体进行协作！');\n      return;\n    }\n    \n    if (!sendMessage.trim()) {\n      alert('请输入任务描述！');\n      return;\n    }\n\n    const userTask = sendMessage.trim();\n    const agents = selectedAgents;\n    \n    // 显示加载状态\n    setIsLoading(true);\n    \n    // 模拟任务执行\n    setTimeout(() => {\n      executeCompleteWorkflow(userTask, agents);\n      setIsLoading(false);\n    }, 1000);\n  };\n\n  const startMultiAgentCollaboration = () => {\n    if (selectedAgents.length < 2) {\n      alert('请至少选择2个智能体进行协作');\n      return;\n    }\n    \n    // 用户友好的任务输入界面\n    const taskTemplates = [\n      \"🚦 优化城市交通流量，确保行车安全\",\n      \"🌧️ 处理恶劣天气下的应急响应\",\n      \"🅿️ 智能停车位分配和路线规划\", \n      \"🚨 处理交通事故和紧急救援\",\n      \"🌱 环境监测和清洁路线优化\",\n      \"📊 城市数据分析和决策支持\"\n    ];\n    \n    const userTask = prompt(`请选择或输入要执行的任务：\\n\\n${taskTemplates.map((template, index) => `${index + 1}. ${template}`).join('\\n')}\\n\\n请输入数字选择模板，或直接输入自定义任务:`) || taskTemplates[0];\n    \n    const finalTask = userTask.match(/^\\d+$/) ? \n      (taskTemplates[parseInt(userTask) - 1] || taskTemplates[0]) : \n      userTask;\n    \n    // 开始完整的Multi-Agent协作逻辑链条\n    executeCompleteWorkflow(finalTask, selectedAgents);\n  };\n\n  // 执行完整的协作工作流程\n  const executeCompleteWorkflow = async (userTask, agents) => {\n    const workflowId = Date.now();\n    \n    // 1. 领导接收任务\n    const step1 = multiAgentWorkflow.receiveTask(userTask);\n    addWorkflowStep(workflowId, step1, \"Master智能体接收任务\", \"👑 Master智能体亮起，开始接收用户任务\");\n    await delay(1500);\n    \n    // 2. 开会商量对策\n    const step2 = multiAgentWorkflow.analyzeAndPlan(userTask);\n    addWorkflowStep(workflowId, step2, \"Master智能体分析任务\", \"🧠 Master智能体使用LLM分析任务，制定协作策略\");\n    await delay(2000);\n    \n    // 3. 布置任务\n    const step3 = multiAgentWorkflow.distributeTasks(\"strategy\", agents);\n    addWorkflowStep(workflowId, step3, \"Master智能体分配任务\", \"📋 Master智能体向子智能体分配具体任务\");\n    await delay(1500);\n    \n    // 4. 相互交流\n    const step4 = multiAgentWorkflow.agentCollaboration(agents, userTask);\n    addWorkflowStep(workflowId, step4, \"子智能体协作交流\", \"💬 子智能体开始协作交流，共享信息\");\n    await delay(2000);\n    \n    // 5. 合作完成任务\n    const step5 = multiAgentWorkflow.executeTasks(agents, \"tasks\");\n    addWorkflowStep(workflowId, step5, \"子智能体执行任务\", \"⚡ 子智能体开始执行具体任务\");\n    await delay(2500);\n    \n    // 6. 遇到问题汇报（模拟）\n    const reportingAgent = agents.length > 0 ? agents[Math.floor(Math.random() * agents.length)] : null;\n    if (reportingAgent) {\n      const step6 = multiAgentWorkflow.reportIssues(reportingAgent, \"发现数据异常\");\n      addWorkflowStep(workflowId, step6, `${reportingAgent.name}汇报问题`, `⚠️ ${reportingAgent.name}向Master智能体汇报问题`);\n    }\n    await delay(1500);\n    \n    // 7. 找到解决方式\n    const step7 = multiAgentWorkflow.resolveIssues(\"数据异常\", \"调整算法参数\");\n    addWorkflowStep(workflowId, step7, \"Master智能体制定解决方案\", \"🔧 Master智能体分析问题，制定解决方案\");\n    await delay(2000);\n    \n    // 8. 重新分配任务\n    const step8 = multiAgentWorkflow.redistributeTasks(\"new_strategy\", agents);\n    addWorkflowStep(workflowId, step8, \"Master智能体重新分配任务\", \"🔄 Master智能体重新分配任务，调整执行策略\");\n    await delay(1500);\n    \n    // 9. 最终解决任务\n    const step9 = multiAgentWorkflow.finalExecution(agents, \"final_tasks\");\n    addWorkflowStep(workflowId, step9, \"子智能体完成最终任务\", \"✅ 子智能体协作完成最终任务\");\n    await delay(2000);\n    \n    // 10. 开会复盘\n    const step10 = multiAgentWorkflow.finalReview(\"results\", agents);\n    addWorkflowStep(workflowId, step10, \"Master智能体总结复盘\", \"📊 Master智能体广播最终结果，进行复盘总结\");\n  };\n\n  // 添加工作流步骤到交互记录\n  const addWorkflowStep = (workflowId, step, title, description) => {\n    // 确保step对象有必要的属性\n    if (!step || !step.participants || !step.dsl) {\n      console.error('Invalid step object:', step);\n      return;\n    }\n    \n    const interaction = {\n      id: Date.now() + Math.random(),\n      workflowId: workflowId,\n      type: 'workflow_step',\n      phase: step.phase || 'UNKNOWN',\n      dsl: step.dsl,\n      agents: step.participants.map(name => ({ name, role: name === 'Master Agent' ? 'Master Agent' : 'Sub Agent' })),\n      message: title,\n      description: description,\n      timestamp: step.timestamp || new Date().toLocaleString(),\n      status: step.status || 'active',\n      response: {\n        summary: step.description || '步骤执行完成',\n        details: [\n          `DSL原语: ${step.dsl || 'UNKNOWN'}`,\n          `语法: ${dslPrimitives[step.dsl]?.syntax || 'N/A'}`,\n          `示例: ${dslPrimitives[step.dsl]?.example || 'N/A'}`,\n          `参与者: ${step.participants.join(', ')}`\n        ],\n        result: `阶段 ${step.phase || 'UNKNOWN'} 执行完成`,\n        dsl: {\n          primitive: step.dsl || 'UNKNOWN',\n          syntax: dslPrimitives[step.dsl]?.syntax || 'N/A',\n          example: dslPrimitives[step.dsl]?.example || 'N/A',\n          description: dslPrimitives[step.dsl]?.description || 'N/A'\n        }\n      }\n    };\n    \n    setInteractionHistory(prev => [interaction, ...prev]);\n  };\n\n  // 延迟函数\n  const delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));\n\n  // 执行子智能体任务\n  const executeSubAgentTasks = (decomposedTasks, agents) => {\n    decomposedTasks.forEach((task, index) => {\n      const agent = agents.find(a => a.role.toLowerCase().includes(task.agentType));\n      if (!agent) return;\n      \n      const taskId = Date.now() + index;\n      const taskInteraction = {\n        id: taskId,\n        type: 'sub_agent_task',\n        agents: [agent],\n        message: `子任务执行：${task.subTask}`,\n        timestamp: new Date().toLocaleString(),\n        status: 'processing',\n        dsl: {\n          taskId: task.taskId,\n          parameters: task.parameters,\n          expectedOutput: task.expectedOutput,\n          timeout: task.timeout\n        }\n      };\n      \n      setInteractionHistory(prev => [taskInteraction, ...prev]);\n      \n      // 模拟子智能体执行过程\n      setTimeout(() => {\n        setInteractionHistory(prev => \n          prev.map(interaction => \n            interaction.id === taskId \n              ? { ...interaction, status: 'completed', response: generateSubAgentResponse(agent, task) }\n              : interaction\n          )\n        );\n      }, 3000 + index * 1000);\n    });\n  };\n\n  // 生成子智能体响应\n  const generateSubAgentResponse = (agent, task) => {\n    const role = agent.role.toLowerCase();\n    const name = agent.name;\n    \n    let response = '';\n    let apiCall = '';\n    \n    if (role.includes('traffic')) {\n      response = `交通分析完成 - 检测到3条拥堵路段，已规划最优绕行路线，预计节省15分钟通行时间`;\n      apiCall = '调用交通API：GET /api/traffic/optimize?area=city_center&timeWindow=30min';\n    } else if (role.includes('safety')) {\n      response = `安全检查完成 - 识别2个潜在风险点，已启动预警机制，安全等级：优秀`;\n      apiCall = '调用安全API：POST /api/safety/check?radius=500m&threshold=0.8';\n    } else if (role.includes('weather')) {\n      response = `天气数据获取 - 当前温度22°C，湿度65%，能见度良好，适合自动驾驶`;\n      apiCall = '调用天气API：GET /api/weather/current?location=city_center&forecast=24h';\n    } else if (role.includes('parking')) {\n      response = `停车位分析 - 发现5个可用停车位，推荐距离最近的高质量停车点`;\n      apiCall = '调用停车API：GET /api/parking/search?radius=1km&availability=real-time';\n    } else if (role.includes('perception')) {\n      response = `环境感知更新 - 检测到12个移动目标，识别准确率98.5%，数据同步完成`;\n      apiCall = '调用感知API：POST /api/perception/update?range=200m&accuracy=98%';\n    } else {\n      response = `任务处理完成 - 系统运行正常，状态良好`;\n      apiCall = '调用系统API：GET /api/system/status';\n    }\n    \n    return {\n      summary: `${name} 任务执行完成`,\n      details: [response],\n      result: '子智能体任务执行成功',\n      apiCall: apiCall,\n      dsl: {\n        agentType: task.agentType,\n        taskId: task.taskId,\n        parameters: task.parameters,\n        output: task.expectedOutput\n      }\n    };\n  };\n\n  // 发送协作消息\n  const handleCollaborationMessage = () => {\n    if (!sendMessage.trim() || selectedAgents.length === 0) return;\n    \n    const collaborationId = Date.now();\n    const newInteraction = {\n      id: collaborationId,\n      type: 'collaboration_message',\n      agents: selectedAgents,\n      message: sendMessage,\n      timestamp: new Date().toLocaleString(),\n      status: 'processing'\n    };\n    \n    setInteractionHistory(prev => [newInteraction, ...prev]);\n    setSendMessage('');\n    \n    // 模拟多智能体处理过程\n    setTimeout(() => {\n      setInteractionHistory(prev => \n        prev.map(interaction => \n          interaction.id === collaborationId \n            ? { ...interaction, status: 'completed', response: generateMultiAgentResponse(selectedAgents, sendMessage) }\n            : interaction\n        )\n      );\n    }, 2000);\n  };\n\n  // 生成多智能体响应\n  const generateMultiAgentResponse = (agents, message) => {\n    const responses = agents.map(agent => {\n      const role = agent.role.toLowerCase();\n      const name = agent.name;\n      \n      if (role.includes('traffic')) {\n        return `${name}: 交通分析完成 - 检测到3条拥堵路段，已规划最优绕行路线，预计节省15分钟通行时间`;\n      } else if (role.includes('safety')) {\n        return `${name}: 安全检查完成 - 识别2个潜在风险点，已启动预警机制，安全等级：优秀`;\n      } else if (role.includes('perception')) {\n        return `${name}: 环境感知更新 - 检测到12个移动目标，识别准确率98.5%，数据同步完成`;\n      } else if (role.includes('weather')) {\n        return `${name}: 天气数据获取 - 当前温度22°C，湿度65%，能见度良好，适合自动驾驶`;\n      } else if (role.includes('parking')) {\n        return `${name}: 停车位分析 - 发现5个可用停车位，推荐距离最近的高质量停车点`;\n      } else if (role.includes('city')) {\n        return `${name}: 城市管理协调 - 整合各子系统数据，城市运行状态：正常`;\n      } else if (role.includes('ems')) {\n        return `${name}: 应急响应就绪 - 系统监控正常，响应时间<2秒，应急资源充足`;\n      } else if (role.includes('enforcement')) {\n        return `${name}: 执法监控激活 - 违规检测系统运行中，已记录3起轻微违规`;\n      } else if (role.includes('sanitation')) {\n        return `${name}: 环境清洁监控 - 空气质量指数：良好，清洁路线已优化`;\n      } else if (role.includes('sprinkler')) {\n        return `${name}: 灌溉系统控制 - 土壤湿度检测正常，智能灌溉已启动`;\n      } else {\n        return `${name}: 任务处理完成 - 系统运行正常，状态良好`;\n      }\n    });\n    \n    // 根据智能体组合生成协作总结\n    const agentRoles = agents.map(agent => agent.role.toLowerCase());\n    let summary = '';\n    let result = '';\n    \n    if (agentRoles.some(role => role.includes('traffic')) && agentRoles.some(role => role.includes('safety'))) {\n      summary = `交通安全协作完成：${agents.map(a => a.name).join(' + ')}`;\n      result = '交通流量优化成功，安全等级提升，系统运行稳定';\n    } else if (agentRoles.some(role => role.includes('perception')) && agentRoles.some(role => role.includes('weather'))) {\n      summary = `环境感知协作完成：${agents.map(a => a.name).join(' + ')}`;\n      result = '环境数据整合成功，感知精度提升，决策支持增强';\n    } else if (agentRoles.some(role => role.includes('parking')) && agentRoles.some(role => role.includes('traffic'))) {\n      summary = `停车交通协作完成：${agents.map(a => a.name).join(' + ')}`;\n      result = '停车位分配优化，交通流协调成功，用户体验提升';\n    } else {\n      summary = `多智能体协作完成：${agents.map(a => a.name).join(' + ')}`;\n      result = '所有智能体任务执行成功，系统状态良好，协作效率提升';\n    }\n    \n    return {\n      summary,\n      details: responses,\n      result\n    };\n  };\n\n  const openSendInterface = (agent, event) => {\n    event.stopPropagation();\n    setActiveSendAgent(agent);\n    setSendMessage('');\n  };\n\n  const closeSendInterface = () => {\n    setActiveSendAgent(null);\n    setSendMessage('');\n  };\n\n  const handleSendMessage = () => {\n    if (sendMessage.trim() && activeSendAgent) {\n      // 创建交互记录\n      const interactionId = Date.now();\n      const interaction = {\n        id: interactionId,\n        type: 'single_agent_message',\n        agents: [activeSendAgent],\n        message: sendMessage,\n        timestamp: new Date().toLocaleString(),\n        status: 'processing',\n        response: null\n      };\n      \n      // 添加到交互记录\n      setInteractionHistory(prev => [interaction, ...prev]);\n      \n      // 模拟智能体响应\n      setTimeout(() => {\n        const response = generateSingleAgentResponse(activeSendAgent, sendMessage);\n        setInteractionHistory(prev => \n          prev.map(item => \n            item.id === interactionId \n              ? { ...item, status: 'completed', response: response }\n              : item\n          )\n        );\n      }, 2000);\n      \n      closeSendInterface();\n    }\n  };\n\n  // 生成单个智能体响应\n  const generateSingleAgentResponse = (agent, message) => {\n    const role = agent.role.toLowerCase();\n    const name = agent.name;\n    \n    let response = '';\n    let apiCall = '';\n    let dslPrimitive = null;\n    \n    if (role.includes('traffic')) {\n      response = `交通管理响应 - 已分析您的请求\"${message}\"，正在优化交通信号时序，预计减少15%的等待时间`;\n      apiCall = '调用交通API：POST /api/traffic/signal-optimize?area=city_center&message=' + encodeURIComponent(message);\n      dslPrimitive = dslPrimitives.SYSTEM_SCHEDULE.name;\n    } else if (role.includes('safety')) {\n      response = `安全监测响应 - 已处理您的安全请求\"${message}\"，启动实时监控，安全等级：优秀`;\n      apiCall = '调用安全API：GET /api/safety/monitor?request=' + encodeURIComponent(message);\n      dslPrimitive = dslPrimitives.EVENT_ROUTE.name;\n    } else if (role.includes('weather')) {\n      response = `天气监测响应 - 已分析您的天气查询\"${message}\"，当前天气良好，适合出行`;\n      apiCall = '调用天气API：GET /api/weather/query?location=city_center&query=' + encodeURIComponent(message);\n      dslPrimitive = dslPrimitives.CACHE_OPTIMIZE.name;\n    } else if (role.includes('parking')) {\n      response = `停车管理响应 - 已处理您的停车请求\"${message}\"，找到3个可用停车位，推荐最近位置`;\n      apiCall = '调用停车API：GET /api/parking/search?query=' + encodeURIComponent(message);\n      dslPrimitive = dslPrimitives.AGENT_COLLABORATE.name;\n    } else if (role.includes('perception')) {\n      response = `环境感知响应 - 已分析您的感知请求\"${message}\"，检测到8个目标，识别准确率98.5%`;\n      apiCall = '调用感知API：POST /api/perception/analyze?request=' + encodeURIComponent(message);\n      dslPrimitive = dslPrimitives.LLM_DRIVE.name;\n    } else {\n      response = `智能体响应 - 已处理您的请求\"${message}\"，系统运行正常，任务执行完成`;\n      apiCall = '调用系统API：POST /api/system/process?message=' + encodeURIComponent(message);\n      dslPrimitive = dslPrimitives.SYSTEM_SCHEDULE.name;\n    }\n    \n    return {\n      summary: `${name} 响应完成`,\n      details: [response],\n      result: '智能体任务执行成功',\n      apiCall: apiCall,\n      dsl: dslPrimitive ? {\n        primitive: dslPrimitive,\n        syntax: dslPrimitives[dslPrimitive]?.syntax || 'N/A',\n        example: dslPrimitives[dslPrimitive]?.example || 'N/A',\n        description: dslPrimitives[dslPrimitive]?.description || 'N/A'\n      } : null\n    };\n  };\n\n  const handleWheel = (e) => {\n    // 移除旋转功能，保持正常显示\n    e.preventDefault();\n  };\n\n  // SVG Icons as React Components\n  const AutonomousDrivingIcon = () => (\n    <span className=\"agent-emoji-icon\">🚗</span>\n  );\n\n  const TrafficIcon = () => (\n    <span className=\"agent-emoji-icon\">🚦</span>\n  );\n\n  const WeatherIcon = () => (\n    <span className=\"agent-emoji-icon\">🌤️</span>\n  );\n\n  const ParkingIcon = () => (\n    <span className=\"agent-emoji-icon\">🅿️</span>\n  );\n\n  const SafetyIcon = () => (\n    <span className=\"agent-emoji-icon\">🛡️</span>\n  );\n\n  const EMSIcon = () => (\n    <span className=\"agent-emoji-icon\">🚑</span>\n  );\n\n  const EnforcementIcon = () => (\n    <span className=\"agent-emoji-icon\">👮</span>\n  );\n\n  const SanitationIcon = () => (\n    <span className=\"agent-emoji-icon\">🗑️</span>\n  );\n\n  const SprinklerIcon = () => (\n    <span className=\"agent-emoji-icon\">💧</span>\n  );\n\n  const PerceptionIcon = () => (\n    <span className=\"agent-emoji-icon\">👁️</span>\n  );\n\n  const TrafficIncidentIcon = () => (\n    <span className=\"agent-emoji-icon\">⚠️</span>\n  );\n\n  const RerouteIcon = () => (\n    <span className=\"agent-emoji-icon\">🔄</span>\n  );\n\n  const TrafficMonitorIcon = () => (\n    <span className=\"agent-emoji-icon\">📹</span>\n  );\n\n  const MasterIcon = () => (\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" className=\"agent-svg-icon\">\n      <path d=\"M12 2L15.09 8.26L22 9L15.09 9.74L12 16L8.91 9.74L2 9L8.91 8.26L12 2Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n      <circle cx=\"12\" cy=\"12\" r=\"3\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n    </svg>\n  );\n\n  const agents = [\n    {\n      id: 'autonomous-driving',\n      name: 'Autonomous Driving Manager',\n      role: '自动驾驶管理智能体',\n      icon: AutonomousDrivingIcon,\n      color: 'autonomous-driving',\n      functions: ['路径规划 / Path Planning', '交通流控制 / Traffic Flow Control', '安全监控 / Safety Monitoring', '实时决策 / Real-time Decision'],\n      description: t.agentDescriptions.autonomousDriving,\n      details: t.agentDetails.autonomousDriving,\n      position: { angle: 0, radius: 250 } // 12点钟方向\n    },\n    {\n      id: 'traffic-manager',\n      name: 'Traffic Manager',\n      role: '交通管理子智能体',\n      icon: TrafficIcon,\n      color: 'traffic',\n      functions: ['信号控制 / Signal Control', '拥堵监测 / Congestion Monitoring', '流量优化 / Flow Optimization', '事故处理 / Incident Handling'],\n      description: t.agentDescriptions.trafficManager,\n      details: t.agentDetails.trafficManager,\n      position: { angle: 30, radius: 250 } // 1点钟方向\n    },\n    {\n      id: 'weather-monitor',\n      name: 'Weather Monitor',\n      role: '天气监测子智能体',\n      icon: WeatherIcon,\n      color: 'weather',\n      functions: ['气象预测 / Weather Forecasting', '预警发布 / Alert Issuance', '影响评估 / Impact Assessment', '应急响应 / Emergency Response'],\n      description: t.agentDescriptions.weatherMonitor,\n      details: t.agentDetails.weatherMonitor,\n      position: { angle: 60, radius: 250 } // 2点钟方向\n    },\n    {\n      id: 'parking-manager',\n      name: 'Parking Manager',\n      role: '停车管理子智能体',\n      icon: ParkingIcon,\n      color: 'parking',\n      functions: ['车位监测 / Parking Space Monitoring', '智能引导 / Smart Guidance', '费用管理 / Fee Management', '违规处理 / Violation Handling'],\n      description: t.agentDescriptions.parkingManager,\n      details: t.agentDetails.parkingManager,\n      position: { angle: 90, radius: 250 } // 3点钟方向\n    },\n    {\n      id: 'safety-monitor',\n      name: 'Safety Monitor',\n      role: '安全监测子智能体',\n      icon: SafetyIcon,\n      color: 'safety',\n      functions: ['安全监控 / Safety Monitoring', '风险评估 / Risk Assessment', '应急响应 / Emergency Response', '预防措施 / Preventive Measures'],\n      description: t.agentDescriptions.safetyMonitor,\n      details: t.agentDetails.safetyMonitor,\n      position: { angle: 120, radius: 250 } // 4点钟方向\n    },\n    {\n      id: 'ems-agent',\n      name: 'Emergency Services',\n      role: '紧急服务子智能体',\n      icon: EMSIcon,\n      color: 'ems',\n      functions: ['急救调度 / Emergency Dispatch', '资源调配 / Resource Allocation', '路径优化 / Route Optimization', '协调指挥 / Coordination Command'],\n      description: t.agentDescriptions.emergencyServices,\n      details: t.agentDetails.emergencyServices,\n      position: { angle: 150, radius: 250 } // 5点钟方向\n    },\n    {\n      id: 'enforcement-agent',\n      name: 'Law Enforcement',\n      role: '执法管理子智能体',\n      icon: EnforcementIcon,\n      color: 'enforcement',\n      functions: ['违法监测 / Violation Monitoring', '执法调度 / Law Enforcement Dispatch', '证据收集 / Evidence Collection', '案件处理 / Case Handling'],\n      description: t.agentDescriptions.lawEnforcement,\n      details: t.agentDetails.lawEnforcement,\n      position: { angle: 180, radius: 250 } // 6点钟方向\n    },\n    {\n      id: 'sanitation-agent',\n      name: 'Sanitation Manager',\n      role: '环卫管理子智能体',\n      icon: SanitationIcon,\n      color: 'sanitation',\n      functions: ['垃圾监测 / Waste Monitoring', '清洁调度 / Cleaning Dispatch', '环境评估 / Environmental Assessment', '资源优化 / Resource Optimization'],\n      description: t.agentDescriptions.sanitationManager,\n      details: t.agentDetails.sanitationManager,\n      position: { angle: 210, radius: 250 } // 7点钟方向\n    },\n    {\n      id: 'sprinkler-agent',\n      name: 'Irrigation Manager',\n      role: '灌溉管理子智能体',\n      icon: SprinklerIcon,\n      color: 'sprinkler',\n      functions: ['土壤监测 / Soil Monitoring', '智能灌溉 / Smart Irrigation', '节水优化 / Water Conservation', '植物养护 / Plant Care'],\n      description: t.agentDescriptions.irrigationManager,\n      details: t.agentDetails.irrigationManager,\n      position: { angle: 240, radius: 250 } // 8点钟方向\n    },\n    {\n      id: 'perception-agent',\n      name: 'Perception Agent',\n      role: '感知子智能体',\n      icon: PerceptionIcon,\n      color: 'perception',\n      functions: ['环境感知 / Environmental Perception', '目标识别 / Object Recognition', '状态监测 / Status Monitoring', '数据分析 / Data Analysis'],\n      description: t.agentDescriptions.perceptionAgent,\n      details: t.agentDetails.perceptionAgent,\n      position: { angle: 270, radius: 250 } // 9点钟方向\n    },\n    {\n      id: 'traffic-incident-agent',\n      name: 'Traffic Incident Agent',\n      role: '交通事件子智能体',\n      icon: TrafficIncidentIcon,\n      color: 'traffic-incident',\n      functions: ['事件检测 / Incident Detection', '影响评估 / Impact Assessment', '应急响应 / Emergency Response', '信息发布 / Information Dissemination'],\n      description: t.agentDescriptions.trafficIncidentAgent,\n      details: t.agentDetails.trafficIncidentAgent,\n      position: { angle: 300, radius: 250 } // 10点钟方向\n    },\n    {\n      id: 'reroute-agent',\n      name: 'Reroute Agent',\n      role: '路径重规划子智能体',\n      icon: RerouteIcon,\n      color: 'reroute',\n      functions: ['路径规划 / Route Planning', '动态调整 / Dynamic Adjustment', '拥堵规避 / Congestion Avoidance', '最优路径 / Optimal Routes'],\n      description: t.agentDescriptions.rerouteAgent,\n      details: t.agentDetails.rerouteAgent,\n      position: { angle: 330, radius: 250 } // 11点钟方向\n    }\n  ];\n\n  return (\n    <div className=\"integrated-system-container\">\n      {/* 企业级导航栏 */}\n      <div className=\"enterprise-header\">\n        <div className=\"header-left\">\n          <div className=\"logo-section\">\n            <div className=\"logo-icon\">🏢</div>\n            <div className=\"logo-text\">\n              <h1 className=\"company-name\">Multi-Agent DSL Platform</h1>\n              <span className=\"version-badge\">v2.1.0</span>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"header-center\">\n          <div className=\"breadcrumb\">\n            <span className=\"breadcrumb-item\">Dashboard</span>\n            <span className=\"breadcrumb-separator\">›</span>\n            <span className=\"breadcrumb-item active\">Agent Architecture</span>\n          </div>\n        </div>\n        \n        <div className=\"header-right\">\n          <div className=\"user-info\" onClick={() => setShowUserMenu(!showUserMenu)}>\n            <div className=\"user-avatar\">👤</div>\n            <div className=\"user-details\">\n              <span className=\"user-name\">Admin User</span>\n              <span className=\"user-role\">System Administrator</span>\n            </div>\n            <span className=\"user-arrow\">▼</span>\n          </div>\n          \n          {/* 用户菜单 */}\n          {showUserMenu && (\n            <div className=\"user-menu\">\n              <div className=\"menu-item\" onClick={() => {setShowUserMenu(false); alert('个人资料功能');}}>\n                <span className=\"menu-icon\">👤</span>\n                <span>个人资料</span>\n              </div>\n              <div className=\"menu-item\" onClick={() => {setShowUserMenu(false); alert('账户设置功能');}}>\n                <span className=\"menu-icon\">⚙️</span>\n                <span>账户设置</span>\n              </div>\n              <div className=\"menu-item\" onClick={() => {setShowUserMenu(false); alert('安全设置功能');}}>\n                <span className=\"menu-icon\">🔒</span>\n                <span>安全设置</span>\n              </div>\n              <div className=\"menu-divider\"></div>\n              <div className=\"menu-item\" onClick={() => {setShowUserMenu(false); alert('退出登录功能');}}>\n                <span className=\"menu-icon\">🚪</span>\n                <span>退出登录</span>\n              </div>\n            </div>\n          )}\n          \n          <div className=\"header-actions\">\n            <button className=\"action-btn\" title=\"通知\" onClick={() => {\n              console.log('Notification button clicked');\n              setShowNotifications(!showNotifications);\n            }}>\n              <span className=\"notification-badge\">{notifications.filter(n => n.unread).length}</span>\n              🔔\n            </button>\n            \n            {/* 通知中心 */}\n            {showNotifications && (\n              <div className=\"notifications-panel\">\n                <div className=\"notifications-header\">\n                  <h3>通知中心</h3>\n                  <button className=\"close-btn\" onClick={() => setShowNotifications(false)}>×</button>\n                </div>\n                <div className=\"notifications-list\">\n                  {notifications.map(notification => (\n                    <div key={notification.id} className={`notification-item ${notification.unread ? 'unread' : ''}`}>\n                      <div className=\"notification-content\">\n                        <h4>{notification.title}</h4>\n                        <p>{notification.message}</p>\n                        <span className=\"notification-time\">{notification.time}</span>\n                      </div>\n                      {notification.unread && <div className=\"unread-dot\"></div>}\n                    </div>\n                  ))}\n                </div>\n                <div className=\"notifications-footer\">\n                  <button className=\"mark-all-read\">全部标记为已读</button>\n                </div>\n              </div>\n            )}\n            \n            <button className=\"action-btn\" title=\"设置\" onClick={() => {\n              console.log('Settings button clicked');\n              setShowSettings(!showSettings);\n            }}>⚙️</button>\n            \n            {/* 设置面板 */}\n            {showSettings && (\n              <div className=\"settings-panel\">\n                <div className=\"settings-header\">\n                  <h3>系统设置</h3>\n                  <button className=\"close-btn\" onClick={() => setShowSettings(false)}>×</button>\n                </div>\n                <div className=\"settings-content\">\n                  <div className=\"setting-group\">\n                    <h4>界面设置</h4>\n                    <div className=\"setting-item\">\n                      <label>主题模式</label>\n                      <select>\n                        <option>深色主题</option>\n                        <option>浅色主题</option>\n                        <option>自动</option>\n                      </select>\n                    </div>\n                    <div className=\"setting-item\">\n                      <label>语言设置</label>\n                      <select>\n                        <option>中文</option>\n                        <option>English</option>\n                      </select>\n                    </div>\n                  </div>\n                  <div className=\"setting-group\">\n                    <h4>系统设置</h4>\n                    <div className=\"setting-item\">\n                      <label>自动保存</label>\n                      <input type=\"checkbox\" defaultChecked />\n                    </div>\n                    <div className=\"setting-item\">\n                      <label>实时监控</label>\n                      <input type=\"checkbox\" defaultChecked />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"settings-footer\">\n                  <button className=\"save-btn\">保存设置</button>\n                </div>\n              </div>\n            )}\n            \n            <button className=\"action-btn\" title=\"帮助\" onClick={() => {\n              console.log('Help button clicked');\n              setShowHelp(!showHelp);\n            }}>❓</button>\n            \n            {/* 帮助面板 */}\n            {showHelp && (\n              <div className=\"help-panel\">\n                <div className=\"help-header\">\n                  <h3>帮助中心</h3>\n                  <div className=\"help-tabs\">\n                    <button \n                      className={`tab-btn ${!showAIChat ? 'active' : ''}`}\n                      onClick={() => setShowAIChat(false)}\n                    >\n                      📚 帮助文档\n                    </button>\n                    <button \n                      className={`tab-btn ${showAIChat ? 'active' : ''}`}\n                      onClick={() => setShowAIChat(true)}\n                    >\n                      🤖 AI助手\n                    </button>\n                  </div>\n                  <button className=\"close-btn\" onClick={() => setShowHelp(false)}>×</button>\n                </div>\n                \n                {!showAIChat ? (\n                  <div className=\"help-content\">\n                    <div className=\"help-section\">\n                      <h4>📚 快速入门</h4>\n                      <ul>\n                        <li>选择智能体进行任务规划</li>\n                        <li>输入任务描述或使用示例</li>\n                        <li>执行任务并查看结果</li>\n                      </ul>\n                    </div>\n                    <div className=\"help-section\">\n                      <h4>🔧 功能说明</h4>\n                      <ul>\n                        <li>多智能体协作模式</li>\n                        <li>实时系统监控</li>\n                        <li>DSL原语执行</li>\n                      </ul>\n                    </div>\n                    <div className=\"help-section\">\n                      <h4>📞 技术支持</h4>\n                      <p>如有问题请联系技术支持团队</p>\n                      <button className=\"contact-btn\">联系支持</button>\n                    </div>\n                  </div>\n                ) : (\n                  <div className=\"ai-chat-content\">\n                    <div className=\"ai-chat-messages\">\n                      {aiMessages.map(message => (\n                        <div key={message.id} className={`message ${message.type}`}>\n                          <div className=\"message-avatar\">\n                            {message.type === 'ai' ? '🤖' : '👤'}\n                          </div>\n                          <div className=\"message-content\">\n                            <div className=\"message-text\">{message.content}</div>\n                            <div className=\"message-time\">\n                              {message.timestamp.toLocaleTimeString()}\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                      {isAiTyping && (\n                        <div className=\"message ai typing\">\n                          <div className=\"message-avatar\">🤖</div>\n                          <div className=\"message-content\">\n                            <div className=\"typing-indicator\">\n                              <span></span>\n                              <span></span>\n                              <span></span>\n                            </div>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"ai-chat-input\">\n                      <input\n                        type=\"text\"\n                        placeholder=\"输入您的问题...\"\n                        value={aiInput}\n                        onChange={(e) => setAiInput(e.target.value)}\n                        onKeyPress={(e) => e.key === 'Enter' && sendAIMessage()}\n                        disabled={isAiTyping}\n                      />\n                      <button \n                        onClick={sendAIMessage}\n                        disabled={!aiInput.trim() || isAiTyping}\n                        className=\"send-btn\"\n                      >\n                        发送\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* 系统状态指示器 */}\n      <div className=\"system-status-bar\">\n        <div className=\"status-indicator-item\">\n          <div className=\"status-dot active\"></div>\n          <span>{t.systemStatus.running}</span>\n        </div>\n        <div className=\"status-indicator-item\">\n          <div className=\"status-dot processing\"></div>\n          <span>{t.systemStatus.collaborating}</span>\n        </div>\n        <div className=\"status-indicator-item\">\n          <div className=\"status-dot ready\"></div>\n          <span>{t.systemStatus.ready}</span>\n        </div>\n        \n        {/* 系统指标 */}\n        <div className=\"system-metrics\">\n          <div className=\"metric-item\">\n            <span className=\"metric-label\">CPU</span>\n            <div className=\"metric-bar\">\n              <div className=\"metric-fill\" style={{width: `${systemMetrics.cpuUsage}%`}}></div>\n            </div>\n            <span className=\"metric-value\">{systemMetrics.cpuUsage}%</span>\n          </div>\n          <div className=\"metric-item\">\n            <span className=\"metric-label\">Memory</span>\n            <div className=\"metric-bar\">\n              <div className=\"metric-fill\" style={{width: `${systemMetrics.memoryUsage}%`}}></div>\n            </div>\n            <span className=\"metric-value\">{systemMetrics.memoryUsage}%</span>\n          </div>\n          <div className=\"metric-item\">\n            <span className=\"metric-label\">Latency</span>\n            <span className=\"metric-value\">{systemMetrics.networkLatency}ms</span>\n          </div>\n          <div className=\"metric-item\">\n            <span className=\"metric-label\">Connections</span>\n            <span className=\"metric-value\">{systemMetrics.activeConnections}</span>\n          </div>\n        </div>\n        \n        <div className=\"language-switcher-container\">\n          <LanguageSwitcher />\n        </div>\n      </div>\n            \n      {/* 加载状态 */}\n      {isLoading && (\n        <div className=\"loading-overlay\">\n          <div className=\"loading-spinner\">\n            <div className=\"spinner\"></div>\n            <p>正在处理任务...</p>\n          </div>\n        </div>\n      )}\n\n      {/* 错误提示 */}\n      {error && (\n        <div className=\"error-banner\">\n          <div className=\"error-content\">\n            <span className=\"error-icon\">⚠️</span>\n            <span className=\"error-message\">{error}</span>\n            <button className=\"error-close\" onClick={() => setError(null)}>×</button>\n          </div>\n        </div>\n      )}\n\n      <div className={`main-layout-grid ${isRightSidebarCollapsed ? 'collapsed-right' : ''}`}>\n        {/* 左侧：任务规划区域 */}\n        <div className=\"task-planning-section\">\n          <div className=\"section-header\">\n            <h2 className=\"section-title\">📋 {t.sections.taskPlanning}</h2>\n            <div className=\"section-subtitle\">{t.sections.taskSubtitle}</div>\n          </div>\n          \n          <TaskInput\n            sendMessage={sendMessage}\n            setSendMessage={setSendMessage}\n            onExecuteTask={isMultiAgentMode ? executeMultiAgentTask : executeSingleAgentTask}\n            isMultiAgentMode={isMultiAgentMode}\n            selectedAgents={selectedAgents}\n            isLoading={isLoading}\n          />\n          \n          <AgentSelector\n            agents={agents}\n            selectedAgents={selectedAgents}\n            isMultiAgentMode={isMultiAgentMode}\n            onToggleAgentSelection={setSelectedAgents}\n            onModeChange={setIsMultiAgentMode}\n          />\n        </div>\n\n         {/* 中间：智能体架构和场景执行 */}\n         <div className=\"agent-architecture-section\">\n           <div className=\"section-header\">\n             <h2 className=\"section-title\">🏗️ {t.sections.agentArchitecture}</h2>\n             <div className=\"section-subtitle\">{t.sections.subtitle}</div>\n           </div>\n           \n           <div className=\"architecture-layout\">\n             {/* 左侧：智能体架构图 */}\n             <div className=\"slot-machine-container\">\n               <div className=\"slot-machine-layout\">\n                 <div className=\"slot-machine-wheel\">\n                {/* Master Agent - Center */}\n                <div className=\"master-agent-center\">\n                  <div className=\"master-agent-card\">\n                    <div className=\"master-icon-container\">\n                      <div className=\"master-icon\">\n                        <div className=\"crown-emoji\">👑</div>\n                      </div>\n                      <div className=\"master-glow\"></div>\n                    </div>\n                    <div className=\"master-info\">\n                      <h3 className=\"master-name\">{t.agents.master}</h3>\n                      <p className=\"master-role\">{t.roles.master}</p>\n                      <div className=\"interaction-indicator\">\n                        <div className=\"pulse-dot\"></div>\n                        <span>Active Coordination</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \n                {/* Circular Sub Agents */}\n                {agents.map((agent, index) => {\n                  const angle = agent.position.angle;\n                  const radius = agent.position.radius;\n                  const x = Math.cos((angle - 90) * Math.PI / 180) * radius;\n                  const y = Math.sin((angle - 90) * Math.PI / 180) * radius;\n                    \n                    return (\n                      <div \n                        key={agent.id} \n                        className={`sub-agent ${agent.color}-agent circular-agent ${selectedAgent?.id === agent.id ? 'selected' : ''}`}\n                        style={{\n                          position: 'absolute',\n                          left: `calc(50% + ${x}px)`,\n                          top: `calc(50% + ${y}px)`,\n                          transform: `translate(-50%, -50%) ${(isMultiAgentMode ? selectedAgents.some(a => a.id === agent.id) : selectedAgent?.id === agent.id) ? 'scale(1.1)' : ''}`,\n                          zIndex: (isMultiAgentMode ? selectedAgents.some(a => a.id === agent.id) : selectedAgent?.id === agent.id) ? 1000 : 1,\n                          transition: 'transform 0.3s ease'\n                        }}\n                      >\n                        <div className=\"sub-agent-card\" onClick={() => toggleAgentSelection(agent)}>\n                          <div className=\"agent-icon-container\">\n                            <div className={`agent-icon ${agent.color}-icon`}>\n                              {agent.icon && React.createElement(agent.icon)}\n                            </div>\n                            <div className=\"status-indicator active\"></div>\n                          </div>\n                          <div className=\"agent-content\">\n                            <h4 className=\"agent-name\">{agent.name}</h4>\n                            <p className=\"agent-role\">{agent.role}</p>\n                            <div className=\"agent-actions\">\n                              <button \n                                className=\"send-button\"\n                                onClick={(e) => openSendInterface(agent, e)}\n                                title=\"发送消息给此智能体\"\n                              >\n                                <svg viewBox=\"0 0 24 24\" fill=\"none\" className=\"send-icon\">\n                                  <path d=\"M22 2L11 13\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                                  <path d=\"M22 2L15 22L11 13L2 9L22 2Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                                </svg>\n                                发送\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                        \n                        {/* Connection Line to Master */}\n                        <div \n                          className=\"connection-line\"\n                          style={{\n                            position: 'absolute',\n                            left: '50%',\n                            top: '50%',\n                            width: `${Math.sqrt(x*x + y*y)}px`,\n                            height: '2px',\n                            background: 'linear-gradient(90deg, rgba(0, 122, 255, 0.3), rgba(0, 122, 255, 0.3))',\n                            transformOrigin: '0 0',\n                            transform: `rotate(${Math.atan2(y, x) * 180 / Math.PI}deg)`,\n                            zIndex: 1,\n                            opacity: (isMultiAgentMode ? selectedAgents.some(a => a.id === agent.id) : selectedAgent?.id === agent.id) ? 1 : 0.5,\n                            transition: 'opacity 0.3s ease'\n                          }}\n                        ></div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            </div>\n            \n            {/* 右侧：实时监控指标 */}\n            <div className=\"real-time-metrics-panel\">\n              <div className=\"metrics-header\">\n                <h3 className=\"metrics-title\">📊 实时监控</h3>\n                <div className=\"metrics-subtitle\">系统运行状态</div>\n              </div>\n              \n              <div className=\"metrics-grid\">\n                <div className=\"metric-card\">\n                  <div className=\"metric-icon\">✅</div>\n                  <div className=\"metric-content\">\n                    <div className=\"metric-number\">{interactionHistory.length}</div>\n                    <div className=\"metric-label\">已完成任务</div>\n                  </div>\n                </div>\n                \n                <div className=\"metric-card\">\n                  <div className=\"metric-icon\">⚡</div>\n                  <div className=\"metric-content\">\n                    <div className=\"metric-number\">{selectedAgents.length}</div>\n                    <div className=\"metric-label\">活跃智能体</div>\n                  </div>\n                </div>\n                \n                <div className=\"metric-card\">\n                  <div className=\"metric-icon\">🎯</div>\n                  <div className=\"metric-content\">\n                    <div className=\"metric-number\">98.5%</div>\n                    <div className=\"metric-label\">成功率</div>\n                  </div>\n                </div>\n                \n                <div className=\"metric-card\">\n                  <div className=\"metric-icon\">🔄</div>\n                  <div className=\"metric-content\">\n                    <div className=\"metric-number\">{isLoading ? '处理中' : '就绪'}</div>\n                    <div className=\"metric-label\">系统状态</div>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"metrics-summary\">\n                <h4 className=\"summary-title\">执行摘要</h4>\n                <div className=\"summary-content\">\n                  <div className=\"summary-item\">\n                    <span className=\"summary-label\">总执行时间:</span>\n                    <span className=\"summary-value\">2.3s</span>\n                  </div>\n                  <div className=\"summary-item\">\n                    <span className=\"summary-label\">平均响应:</span>\n                    <span className=\"summary-value\">156ms</span>\n                  </div>\n                  <div className=\"summary-item\">\n                    <span className=\"summary-label\">资源使用:</span>\n                    <span className=\"summary-value\">45%</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* 右侧：执行报告和结果分析 */}\n        <div className={`execution-report-section ${isRightSidebarCollapsed ? 'collapsed' : ''}`}>\n          <button \n            className={`sidebar-toggle-btn ${isRightSidebarCollapsed ? 'collapsed' : ''}`}\n            onClick={toggleRightSidebar}\n            title={isRightSidebarCollapsed ? '展开报告面板' : '折叠报告面板'}\n          >\n            {isRightSidebarCollapsed ? '📊' : '◀'}\n          </button>\n          \n          <div className=\"section-header\">\n            <h2 className=\"section-title\">📊 {t.sections.executionReport}</h2>\n            <div className=\"section-subtitle\">{t.sections.reportSubtitle}</div>\n          </div>\n          \n          <div className=\"report-dashboard\">\n            <div className=\"report-summary\">\n              <h3 className=\"report-title\">{t.report.summary}</h3>\n              <div className=\"summary-stats\">\n                <div className=\"stat-item\">\n                  <div className=\"stat-icon\">✅</div>\n                  <div className=\"stat-info\">\n                    <div className=\"stat-number\">{interactionHistory.length}</div>\n                    <div className=\"stat-label\">{t.report.completedTasks}</div>\n                  </div>\n                </div>\n                <div className=\"stat-item\">\n                  <div className=\"stat-icon\">⚡</div>\n                  <div className=\"stat-info\">\n                    <div className=\"stat-number\">{selectedAgents.length}</div>\n                    <div className=\"stat-label\">{t.report.activeAgents}</div>\n                  </div>\n                </div>\n                <div className=\"stat-item\">\n                  <div className=\"stat-icon\">🎯</div>\n                  <div className=\"stat-info\">\n                    <div className=\"stat-number\">98.5%</div>\n                    <div className=\"stat-label\">{t.report.successRate}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            {/* 工作流执行记录 */}\n            <div className=\"workflow-execution-section\">\n              <h3 className=\"report-title\">🚀 Multi-Agent DSL 工作流执行</h3>\n              <div className=\"workflow-content\">\n                <WorkflowExecutor\n                  interactionHistory={interactionHistory}\n                  isLoading={isLoading}\n                  error={error}\n                />\n              </div>\n            </div>\n            \n            <div className=\"report-details\">\n              <h3 className=\"report-title\">{t.report.details}</h3>\n              <div className=\"report-content\">\n                {interactionHistory.length > 0 ? (\n                  <div className=\"interaction-timeline\">\n                    {interactionHistory.map((interaction, index) => (\n                      <div key={index} className=\"timeline-item\">\n                        <div className=\"timeline-marker\">\n                          <div className=\"timeline-icon\">\n                            {interaction.type === 'master' ? '👑' : '🤖'}\n                          </div>\n                        </div>\n                        <div className=\"timeline-content\">\n                          <div className=\"timeline-header\">\n                            <span className=\"timeline-agent\">{interaction.agent}</span>\n                            <span className=\"timeline-time\">{interaction.timestamp}</span>\n                          </div>\n                          <div className=\"timeline-message\">{interaction.message}</div>\n                          {interaction.dsl && (\n                            <div className=\"timeline-dsl\">\n                              <div className=\"dsl-label\">DSL原语:</div>\n                              <div className=\"dsl-content\">{interaction.dsl}</div>\n                            </div>\n                          )}\n                          {interaction.apiCall && (\n                            <div className=\"timeline-api\">\n                              <div className=\"api-label\">API调用:</div>\n                              <div className=\"api-content\">{interaction.apiCall}</div>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <div className=\"empty-report\">\n                    <div className=\"empty-icon\">📋</div>\n                    <h4>{t.report.emptyTitle}</h4>\n                    <p>{t.report.emptyMessage}</p>\n                    <div style={{ marginTop: '20px', padding: '10px', background: 'rgba(255,255,255,0.1)', borderRadius: '8px' }}>\n                      <p style={{ fontSize: '0.8rem', color: 'rgba(255,255,255,0.7)' }}>\n                        提示：选择智能体并执行任务后，这里将显示详细的执行报告\n                      </p>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n\n      {/* 功能显示卡片 */}\n      <div className=\"function-display-card\">\n        <div className=\"function-display-header\">\n          <h3 className=\"function-display-title\">\n            {isMultiAgentMode \n              ? `${t.functionControl.multiAgentTitle} (${selectedAgents.length})` \n              : selectedAgent \n                ? `${selectedAgent.name} - ${t.functionControl.title}` \n                : t.functionControl.title\n            }\n          </h3>\n          <div className=\"header-controls\">\n            <button \n              className={`mode-toggle-btn ${isMultiAgentMode ? 'active' : ''}`}\n              onClick={() => {\n                setIsMultiAgentMode(!isMultiAgentMode);\n                if (!isMultiAgentMode) {\n                  setSelectedAgents([]);\n                } else {\n                  setSelectedAgent(null);\n                }\n              }}\n              title={isMultiAgentMode ? '切换到单智能体模式' : t.functionControl.modeToggleTooltip}\n            >\n              {t.functionControl.modeToggle}\n            </button>\n            {(selectedAgent || selectedAgents.length > 0) && (\n              <button \n                className=\"close-selection-btn\"\n                onClick={() => {\n                  setSelectedAgent(null);\n                  setSelectedAgents([]);\n                }}\n                title=\"取消选择\"\n              >\n                ×\n              </button>\n            )}\n          </div>\n        </div>\n        <div className=\"function-display-content\">\n          {isMultiAgentMode ? (\n            <div className=\"multi-agent-functions\">\n              {selectedAgents.length > 0 ? (\n                <div>\n                  <div className=\"selected-agents-list\">\n                    <h4>{t.functionControl.selectedAgents}</h4>\n                    <div className=\"agents-grid\">\n                      {selectedAgents.map(agent => (\n                        <div key={agent.id} className=\"selected-agent-item\">\n                          <div className={`agent-mini-icon ${agent.color}-icon`}>\n                            {agent.icon && React.createElement(agent.icon)}\n                          </div>\n                          <span className=\"agent-mini-name\">{agent.name}</span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                  \n                  <div className=\"collaboration-controls\">\n                    <button \n                      className=\"collaboration-btn\"\n                      onClick={startMultiAgentCollaboration}\n                      disabled={selectedAgents.length < 2}\n                    >\n                      {selectedAgents.length < 2 ? t.messages.selectAgent : t.functionControl.startCollaboration}\n                    </button>\n                    \n                    <div className=\"collaboration-info\">\n                      <div className=\"info-item\">\n                        <span className=\"info-label\">协作模式：</span>\n                        <span className=\"info-value\">自动任务分配</span>\n                      </div>\n                      <div className=\"info-item\">\n                        <span className=\"info-label\">处理方式：</span>\n                        <span className=\"info-value\">并行协作</span>\n                      </div>\n                      <div className=\"info-item\">\n                        <span className=\"info-label\">响应时间：</span>\n                        <span className=\"info-value\">3-5秒</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"multi-agent-guide\">\n                  <div className=\"guide-icon\">\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" className=\"guide-svg-icon\">\n                      <path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                      <circle cx=\"9\" cy=\"7\" r=\"4\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                      <path d=\"M23 21v-2a4 4 0 0 0-3-3.87\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                      <path d=\"M16 3.13a4 4 0 0 1 0 7.75\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                    </svg>\n                  </div>\n                  <h4>多智能体协作模式</h4>\n                  <p>选择多个智能体进行协作任务</p>\n                  <p>点击智能体卡片进行多选</p>\n                  <p>至少选择2个智能体开始协作</p>\n                  <p>系统将自动分配任务并协调处理</p>\n                </div>\n              )}\n            </div>\n          ) : selectedAgent ? (\n            <div className=\"agent-functions\">\n              <p className=\"agent-description\">{selectedAgent.description}</p>\n              <div className=\"function-list\">\n                {selectedAgent.functions.map((func, index) => (\n                  <span key={index} className=\"function-tag\">\n                    {func}\n                  </span>\n                ))}\n              </div>\n              <div className=\"agent-details\">\n                <h4>详细功能</h4>\n                <p>{selectedAgent.details}</p>\n              </div>\n            </div>\n          ) : (\n            <div className=\"default-message\">\n              <div className=\"default-icon\">\n                <svg viewBox=\"0 0 24 24\" fill=\"none\" className=\"default-svg-icon\">\n                  <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                  <path d=\"M12 6v6l4 2\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                </svg>\n              </div>\n              <p>点击智能体查看其功能</p>\n              <p>Click agents to view their functions</p>\n              <p>点击发送按钮与智能体交互</p>\n              <p>Click send button to interact with agents</p>\n            </div>\n          )}\n        </div>\n      </div>\n            \n      {/* Interaction History */}\n      {interactionHistory.length > 0 && (\n        <div className=\"interaction-history\">\n          <div className=\"history-header\">\n            <h3>交互记录 / Interaction History</h3>\n            <button \n              className=\"clear-history-btn\"\n              onClick={() => setInteractionHistory([])}\n            >\n              清空记录\n            </button>\n          </div>\n          <div className=\"history-content\">\n            {interactionHistory.map(interaction => (\n              <div key={interaction.id} className={`history-item ${interaction.type}`}>\n                <div className=\"history-header-item\">\n                  <div className=\"history-agents\">\n                    {interaction.agents.map(agent => (\n                      <div key={agent.id} className=\"history-agent-tag\">\n                        <div className={`history-agent-icon ${agent.color}-icon`}>\n                          {agent.icon && React.createElement(agent.icon)}\n                        </div>\n                        <span>{agent.name}</span>\n                      </div>\n                    ))}\n                  </div>\n                  <div className=\"history-timestamp\">{interaction.timestamp}</div>\n                </div>\n                <div className=\"history-message\">{interaction.message}</div>\n                {interaction.response && (\n                  <div className=\"history-response\">\n                    <div className=\"response-summary\">{interaction.response.summary}</div>\n                    <div className=\"response-details\">\n                      {interaction.response.details.map((detail, idx) => (\n                        <div key={idx} className=\"response-detail-item\">{detail}</div>\n                      ))}\n                    </div>\n                    {interaction.response.apiCall && (\n                      <div className=\"api-call-info\">\n                        <div className=\"api-call-label\">API调用：</div>\n                        <div className=\"api-call-code\">{interaction.response.apiCall}</div>\n                      </div>\n                    )}\n                    <div className=\"response-result\">{interaction.response.result}</div>\n                    \n                    {/* Multi-Agent DSL Framework 展示 */}\n                    {interaction.dsl && (\n                      <div className=\"dsl-section\">\n                        <div className=\"dsl-header\">\n                          <span className=\"dsl-icon\">🚀</span>\n                          <span className=\"dsl-title\">Multi-Agent DSL Framework</span>\n                          <span className=\"dsl-phase\">{interaction.phase}</span>\n                        </div>\n                        <div className=\"dsl-content\">\n                          {interaction.type === 'workflow_step' && (\n                            <div className=\"dsl-workflow\">\n                              <div className=\"dsl-primitive\">\n                                <div className=\"primitive-header\">\n                                  <span className=\"primitive-name\">{interaction.dsl.primitive}</span>\n                                  <span className=\"primitive-type\">DSL原语</span>\n                                </div>\n                                <div className=\"primitive-description\">{interaction.dsl.description}</div>\n                                <div className=\"primitive-syntax\">\n                                  <span className=\"syntax-label\">语法:</span>\n                                  <code className=\"syntax-code\">{interaction.dsl.syntax}</code>\n                                </div>\n                                <div className=\"primitive-example\">\n                                  <span className=\"example-label\">示例:</span>\n                                  <code className=\"example-code\">{interaction.dsl.example}</code>\n                                </div>\n                              </div>\n                              <div className=\"workflow-phase\">\n                                <div className=\"phase-info\">\n                                  <span className=\"phase-label\">工作流阶段:</span>\n                                  <span className=\"phase-value\">{interaction.phase}</span>\n                                </div>\n                                <div className=\"phase-description\">{interaction.description}</div>\n                              </div>\n                            </div>\n                          )}\n                          {interaction.type === 'master_coordination' && (\n                            <div className=\"dsl-master\">\n                              <div className=\"dsl-step\">\n                                <span className=\"step-number\">1</span>\n                                <span className=\"step-text\">任务分析：{interaction.dsl.taskAnalysis.complexity} 复杂度，{interaction.dsl.taskAnalysis.priority} 优先级</span>\n                              </div>\n                              <div className=\"dsl-step\">\n                                <span className=\"step-number\">2</span>\n                                <span className=\"step-text\">策略制定：{interaction.dsl.strategy.executionOrder.join(' → ')} 执行顺序</span>\n                              </div>\n                              <div className=\"dsl-step\">\n                                <span className=\"step-number\">3</span>\n                                <span className=\"step-text\">任务分解：{interaction.dsl.decomposedTasks.length} 个子任务已分发</span>\n                              </div>\n                            </div>\n                          )}\n                          {interaction.type === 'sub_agent_task' && (\n                            <div className=\"dsl-sub\">\n                              <div className=\"dsl-task-info\">\n                                <span className=\"task-id\">任务ID: {interaction.dsl.taskId}</span>\n                                <span className=\"agent-type\">智能体: {interaction.dsl.agentType}</span>\n                              </div>\n                              <div className=\"dsl-parameters\">\n                                <span className=\"param-label\">参数:</span>\n                                <span className=\"param-value\">{JSON.stringify(interaction.dsl.parameters)}</span>\n                              </div>\n                              <div className=\"dsl-output\">\n                                <span className=\"output-label\">期望输出:</span>\n                                <span className=\"output-value\">{interaction.dsl.output}</span>\n                              </div>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                )}\n                <div className={`history-status ${interaction.status}`}>\n                  {interaction.status === 'processing' ? '处理中...' : \n                   interaction.status === 'completed' ? '已完成' : \n                   interaction.status === 'active' ? '活跃' : interaction.status}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Send Message Modal */}\n      {activeSendAgent && (\n        <div className=\"send-modal-overlay\" onClick={closeSendInterface}>\n          <div className=\"send-modal-content\" onClick={(e) => e.stopPropagation()}>\n            <button className=\"send-modal-close\" onClick={closeSendInterface}>×</button>\n            <div className=\"send-modal-header\">\n              <div className={`send-modal-icon ${activeSendAgent.color}-icon`}>\n                {activeSendAgent.icon && React.createElement(activeSendAgent.icon)}\n              </div>\n              <div className=\"send-modal-info\">\n                <h3 className=\"send-modal-title\">{t.functionControl.sendMessage} {activeSendAgent.name}</h3>\n                <p className=\"send-modal-subtitle\">{activeSendAgent.role}</p>\n              </div>\n            </div>\n            <div className=\"send-modal-body\">\n              <div className=\"send-modal-section\">\n                <h4>消息内容</h4>\n                <textarea\n                  className=\"send-message-input\"\n                  placeholder={`请输入要发送给${activeSendAgent.name}的消息...`}\n                  value={sendMessage}\n                  onChange={(e) => setSendMessage(e.target.value)}\n                  rows={4}\n                />\n              </div>\n              <div className=\"send-modal-section\">\n                <h4>预设消息</h4>\n                <div className=\"preset-messages\">\n                  {activeSendAgent.functions.map((func, idx) => (\n                    <button\n                      key={idx}\n                      className=\"preset-message-btn\"\n                      onClick={() => setSendMessage(`请执行${func}功能`)}\n                    >\n                      {func}\n                    </button>\n                  ))}\n                </div>\n              </div>\n              <div className=\"send-modal-actions\">\n                <button className=\"send-cancel-btn\" onClick={closeSendInterface}>\n                  取消\n                </button>\n                <button \n                  className=\"send-confirm-btn\" \n                  onClick={handleSendMessage}\n                  disabled={!sendMessage.trim()}\n                >\n                  {t.buttons.send}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n      </div>\n    </div>\n  );\n};\n\nexport default AgentArchitecture;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}