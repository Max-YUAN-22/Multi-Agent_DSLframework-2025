{"ast":null,"code":"var _jsxFileName = \"/Users/Apple/Desktop/multi-agent-dsl-final/frontend/src/components/InteractionHistory.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/components/InteractionHistory.jsx\nimport React, { useState } from 'react';\nimport './InteractionHistory.css';\nimport WebSocketService from './WebSocketService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst InteractionHistory = ({\n  events = [],\n  onClear,\n  onGenerateReport,\n  readyState,\n  connectionStats\n}) => {\n  _s();\n  const [selectedSentEvent, setSelectedSentEvent] = useState(null);\n  const [expandedEvents, setExpandedEvents] = useState(new Set());\n  const getStatusPill = () => {\n    switch (readyState) {\n      case 0:\n        // CONNECTING\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pill pill-status-connecting\",\n          children: \"\\uD83D\\uDD04 \\u8FDE\\u63A5\\u4E2D / Connecting...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 16\n        }, this);\n      case 1:\n        // OPEN\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pill pill-status-open\",\n          children: \"\\u2705 \\u5DF2\\u8FDE\\u63A5 / Connected\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 16\n        }, this);\n      case 2:\n        // CLOSING\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pill pill-status-closing\",\n          children: \"\\u23F3 \\u65AD\\u5F00\\u4E2D / Disconnecting...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 16\n        }, this);\n      case 3:\n        // CLOSED\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pill pill-status-closed\",\n          children: \"\\u274C \\u670D\\u52A1\\u4E0D\\u53EF\\u7528 / Service Unavailable\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pill pill-status-closed\",\n          children: \"\\u274C \\u670D\\u52A1\\u4E0D\\u53EF\\u7528 / Service Unavailable\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const handleReconnect = () => {\n    WebSocketService.reconnect();\n  };\n\n  // è·å–äº‹ä»¶æ‘˜è¦\n  const getEventSummary = event => {\n    switch (event.type) {\n      case 'main_task_result':\n        return `${event.payload.agent}: ${event.payload.result.substring(0, 50)}...`;\n      case 'coordination_result':\n        return `ååŒå®Œæˆ: ${event.payload.total_agents}ä¸ªæ™ºèƒ½ä½“å“åº”`;\n      case 'workflow_complete':\n        return 'å·¥ä½œæµå®Œæˆ';\n      case 'agent_response':\n        return `${event.payload.agent}: ${event.payload.result.substring(0, 50)}...`;\n      case 'agent_message':\n        return event.payload.substring(0, 50) + '...';\n      case 'analysis_report':\n        return 'åˆ†ææŠ¥å‘Šå·²ç”Ÿæˆ';\n      case 'simulation_log':\n        return event.payload.details ? event.payload.details.substring(0, 50) + '...' : 'æ¨¡æ‹Ÿæ—¥å¿—';\n      default:\n        return event.title || event.type;\n    }\n  };\n  const getEventIcon = type => {\n    const icons = {\n      'workflow_start': 'ğŸš€',\n      'main_task_result': 'ğŸ‘‘',\n      // Master Agent ä½¿ç”¨çš‡å† å›¾æ ‡\n      'coordination_start': 'ğŸ¤',\n      'coordination_result': 'ğŸ¯',\n      'workflow_complete': 'ğŸ',\n      'agent_message': 'ğŸ¤–',\n      'agent_response': 'ğŸ’¬',\n      'analysis_report': 'ğŸ“Š',\n      'traffic_incident': 'ğŸš—',\n      'weather_alert': 'ğŸŒ§ï¸',\n      'parking_update': 'ğŸ…¿ï¸',\n      'safety_inspection': 'ğŸ›¡ï¸',\n      'autonomous_driving': 'ğŸš™',\n      'traffic_monitor': 'ğŸš¦',\n      'simulation_log': 'ğŸ“',\n      'error': 'âŒ',\n      'ping': 'ğŸ“¡',\n      'default': 'ğŸ“'\n    };\n    return icons[type] || icons['default'];\n  };\n  const getEventTypeLabel = type => {\n    const labels = {\n      'workflow_start': 'å·¥ä½œæµå¯åŠ¨ / Workflow Start',\n      'main_task_result': 'ä¸»æ™ºèƒ½ä½“åè°ƒ / Master Agent Coordination',\n      'coordination_start': 'å­æ™ºèƒ½ä½“åè°ƒ / Sub Agent Coordination',\n      'coordination_result': 'å­æ™ºèƒ½ä½“ååŒ / Sub Agent Collaboration',\n      'workflow_complete': 'å·¥ä½œæµå®Œæˆ / Workflow Complete',\n      'agent_message': 'æ™ºèƒ½ä½“æ¶ˆæ¯ / Agent Message',\n      'agent_response': 'æ™ºèƒ½ä½“å“åº” / Agent Response',\n      'analysis_report': 'åˆ†ææŠ¥å‘Š / Analysis Report',\n      'traffic_incident': 'äº¤é€šäº‹ä»¶ / Traffic Incident',\n      'weather_alert': 'å¤©æ°”è­¦æŠ¥ / Weather Alert',\n      'parking_update': 'åœè½¦æ›´æ–° / Parking Update',\n      'safety_inspection': 'å®‰å…¨æ£€æŸ¥ / Safety Inspection',\n      'autonomous_driving': 'è‡ªåŠ¨é©¾é©¶ / Autonomous Driving',\n      'traffic_monitor': 'äº¤é€šç›‘æ§ / Traffic Monitor',\n      'simulation_log': 'æ¨¡æ‹Ÿæ—¥å¿— / Simulation Log',\n      'error': 'é”™è¯¯ / Error',\n      'ping': 'å¿ƒè·³ / Ping',\n      'default': 'æœªçŸ¥äº‹ä»¶ / Unknown Event'\n    };\n    return labels[type] || labels['default'];\n  };\n  const renderEvent = (event, index) => {\n    if (!event) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No event data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 14\n      }, this);\n    }\n    const {\n      type,\n      payload,\n      title,\n      timestamp\n    } = event;\n    const time = timestamp ? new Date(timestamp).toLocaleTimeString() : 'No timestamp';\n    const icon = getEventIcon(type);\n    const typeLabel = getEventTypeLabel(type);\n    const eventCard = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `event-card event-${type}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"event-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-icon\",\n          children: icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"event-title\",\n            children: title || typeLabel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"event-time\",\n            children: time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-btn view-btn\",\n            onClick: () => viewEventDetails(event),\n            title: \"\\u67E5\\u770B\\u8BE6\\u60C5 / View Details\",\n            children: \"\\uD83D\\uDC41\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this), type === 'agent_response' && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-btn replay-btn\",\n            onClick: () => replayEvent(event),\n            title: \"\\u91CD\\u653E\\u4E8B\\u4EF6 / Replay Event\",\n            children: \"\\uD83D\\uDD04\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this), type === 'error' && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-btn retry-btn\",\n            onClick: () => retryEvent(event),\n            title: \"\\u91CD\\u8BD5 / Retry\",\n            children: \"\\u26A1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"event-content\",\n        children: renderEventContent(type, payload)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, `${type}-${timestamp || index}-${index}`, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this);\n    return eventCard;\n  };\n  const renderEventContent = (type, payload) => {\n    switch (type) {\n      case 'workflow_start':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-payload\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"payload-text\",\n            children: payload\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this);\n      case 'main_task_result':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-payload\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"payload-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [payload.agent, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 41\n            }, this), \" \", payload.result]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this);\n      case 'coordination_start':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-payload\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"payload-text\",\n            children: payload\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this);\n      case 'coordination_result':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-payload\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"payload-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u534F\\u540C\\u5B8C\\u6210:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 41\n            }, this), \" \", payload.total_agents, \"\\u4E2A\\u667A\\u80FD\\u4F53\\u54CD\\u5E94\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"responses-summary\",\n            children: payload.responses.map((response, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"response-summary\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"response-agent\",\n                children: [response.agent, \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"response-text\",\n                children: [response.result.substring(0, 100), \"...\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this);\n      case 'workflow_complete':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-payload\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"payload-text\",\n            children: payload\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this);\n      case 'agent_message':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-payload\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"payload-text\",\n            children: payload\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this);\n      case 'agent_response':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-payload\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"payload-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [payload.agent, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 41\n            }, this), \" \", payload.result]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this);\n      case 'analysis_report':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-payload\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"payload-text\",\n            children: \"\\uD83D\\uDCCA \\u5206\\u6790\\u62A5\\u544A\\u5DF2\\u751F\\u6210\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this);\n      case 'traffic_incident':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-payload\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"payload-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u4F4D\\u7F6E:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 41\n            }, this), \" \", payload.location, \" - \", payload.description]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this);\n      case 'weather_alert':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-payload\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"payload-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u533A\\u57DF:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 41\n            }, this), \" \", payload.area, \" - \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u7C7B\\u578B:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 79\n            }, this), \" \", payload.alert_type, \" - \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u4E25\\u91CD\\u7A0B\\u5EA6:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 123\n            }, this), \" \", payload.severity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this);\n      case 'parking_update':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-payload\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"payload-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u4F4D\\u7F6E:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 41\n            }, this), \" \", payload.location, \" - \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u53EF\\u7528\\u8F66\\u4F4D:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 83\n            }, this), \" \", payload.available_spots]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this);\n      case 'safety_inspection':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-payload\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"payload-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u4F4D\\u7F6E:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 41\n            }, this), \" \", payload.location, \" - \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u5B89\\u5168\\u72B6\\u6001:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 83\n            }, this), \" \", payload.safety_status, \" - \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u9700\\u8981\\u4EBA\\u5DE5\\u5E72\\u9884:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 132\n            }, this), \" \", payload.require_human_intervention ? 'æ˜¯' : 'å¦']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this);\n      case 'autonomous_driving':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-payload\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"payload-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u8D77\\u70B9:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 41\n            }, this), \" \", payload.start_location, \" - \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u7EC8\\u70B9:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 89\n            }, this), \" \", payload.end_location, \" - \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u4E58\\u5BA2\\u6570:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 135\n            }, this), \" \", payload.passengers]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this);\n      case 'traffic_monitor':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-payload\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"payload-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u4EA4\\u901A\\u76D1\\u63A7\\u6570\\u636E:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 41\n            }, this), \" \", JSON.stringify(payload)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this);\n      case 'simulation_log':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-payload\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"payload-text\",\n            children: payload.details || payload\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this);\n      case 'error':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-payload\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"payload-error\",\n            children: payload\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this);\n      case 'ping':\n        return null;\n      // Don't display ping messages\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-payload\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"payload-text\",\n            children: JSON.stringify(payload)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this);\n    }\n  };\n  const viewEventDetails = event => {\n    alert(`äº‹ä»¶è¯¦æƒ… / Event Details\\n\\nç±»å‹ / Type: ${getEventTypeLabel(event.type)}\\næ—¶é—´ / Time: ${event.timestamp}\\n\\nè¯¦ç»†ä¿¡æ¯å°†åœ¨æ¨¡æ€æ¡†ä¸­æ˜¾ç¤º / Detailed information will be shown in a modal.`);\n  };\n  const replayEvent = event => {\n    if (confirm(`ç¡®å®šè¦é‡æ”¾æ­¤äº‹ä»¶å—ï¼Ÿ / Are you sure you want to replay this event?`)) {\n      // è¿™é‡Œå¯ä»¥æ·»åŠ é‡æ”¾é€»è¾‘\n      alert('äº‹ä»¶å·²é‡æ”¾ / Event replayed successfully!');\n    }\n  };\n  const retryEvent = event => {\n    if (confirm(`ç¡®å®šè¦é‡è¯•æ­¤äº‹ä»¶å—ï¼Ÿ / Are you sure you want to retry this event?`)) {\n      // è¿™é‡Œå¯ä»¥æ·»åŠ é‡è¯•é€»è¾‘\n      alert('äº‹ä»¶å·²é‡è¯• / Event retried successfully!');\n    }\n  };\n  const getEventStats = () => {\n    const total = events.length;\n    const byType = events.reduce((acc, event) => {\n      acc[event.type] = (acc[event.type] || 0) + 1;\n      return acc;\n    }, {});\n    return {\n      total,\n      byType\n    };\n  };\n\n  // è·å–å‘é€çš„äº‹ä»¶ï¼ˆç”¨æˆ·ä¸»åŠ¨å‘é€çš„äº‹ä»¶ï¼‰\n  const getSentEvents = () => {\n    const sentEventTypes = ['weather_alert', 'parking_update', 'safety_inspection', 'autonomous_driving', 'traffic_monitor'];\n    return events.filter(event => sentEventTypes.includes(event.type));\n  };\n\n  // è·å–å‘é€äº‹ä»¶æ•°é‡\n  const getSentEventsCount = () => {\n    return getSentEvents().length;\n  };\n\n  // è·å–å‘é€äº‹ä»¶æ‘˜è¦\n  const getSentEventSummary = event => {\n    if (!event || !event.payload) {\n      return (event === null || event === void 0 ? void 0 : event.title) || (event === null || event === void 0 ? void 0 : event.type) || 'æœªçŸ¥äº‹ä»¶';\n    }\n    switch (event.type) {\n      case 'weather_alert':\n        return `åŒºåŸŸ: ${event.payload.area || 'æœªçŸ¥'} - ç±»å‹: ${event.payload.alert_type || 'æœªçŸ¥'}`;\n      case 'parking_update':\n        return `ä½ç½®: ${event.payload.location || 'æœªçŸ¥'} - å¯ç”¨è½¦ä½: ${event.payload.available_spots || 'æœªçŸ¥'}`;\n      case 'safety_inspection':\n        return `ä½ç½®: ${event.payload.location || 'æœªçŸ¥'} - çŠ¶æ€: ${event.payload.safety_status || 'æœªçŸ¥'}`;\n      case 'autonomous_driving':\n        return `èµ·ç‚¹: ${event.payload.start_location || 'æœªçŸ¥'} - ç»ˆç‚¹: ${event.payload.end_location || 'æœªçŸ¥'}`;\n      case 'traffic_monitor':\n        return `äº¤é€šç›‘æ§æ•°æ®`;\n      default:\n        return event.title || event.type;\n    }\n  };\n\n  // è·å–ä¸å‘é€äº‹ä»¶ç›¸å…³çš„å“åº”äº‹ä»¶\n  const getRelatedEvents = sentEvent => {\n    if (!sentEvent || !sentEvent.timestamp) {\n      return [];\n    }\n    const sentTime = new Date(sentEvent.timestamp);\n    const timeWindow = 10 * 60 * 1000; // å¢åŠ åˆ°10åˆ†é’Ÿæ—¶é—´çª—å£\n\n    // å®šä¹‰æ™ºèƒ½ä½“å“åº”äº‹ä»¶ç±»å‹\n    const responseEventTypes = ['workflow_start', 'main_task_result', 'coordination_start', 'coordination_result', 'workflow_complete', 'agent_message', 'agent_response', 'analysis_report', 'simulation_log'];\n    return events.filter(event => {\n      if (!event || !event.timestamp) return false;\n      const eventTime = new Date(event.timestamp);\n      const timeDiff = Math.abs(eventTime.getTime() - sentTime.getTime());\n\n      // åœ¨æ—¶é—´çª—å£å†…ï¼Œæ˜¯å“åº”äº‹ä»¶ç±»å‹ï¼Œä¸”ä¸æ˜¯å‘é€äº‹ä»¶æœ¬èº«\n      return timeDiff <= timeWindow && responseEventTypes.includes(event.type) && event.type !== sentEvent.type;\n    }).sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));\n  };\n  const stats = getEventStats();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"interaction-record card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"history-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"card__title\",\n        children: \"\\uD83D\\uDCCA \\u4EA4\\u4E92\\u5386\\u53F2 / Interaction History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-controls\",\n        children: [getStatusPill(), readyState !== 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleReconnect,\n          className: \"reconnect-btn\",\n          children: \"\\uD83D\\uDD04 \\u91CD\\u8FDE / Reconnect\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"connection-info\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"connection-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"connection-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u6D88\\u606F\\u6570 / Messages:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this), \" \", events.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"connection-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u540E\\u7AEF / Backend:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this), \" http://localhost:8008\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this), connectionStats && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"connection-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u7528\\u6237ID / User ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this), \" \", connectionStats.userId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"connection-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u6D3B\\u8DC3\\u8FDE\\u63A5 / Active Connections:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 17\n            }, this), \" \", connectionStats.activeConnections, \"/\", connectionStats.totalConnections]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"history-controls\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onGenerateReport,\n          className: \"generate-btn\",\n          children: \"\\uD83D\\uDCC4 \\u751F\\u6210\\u62A5\\u544A / Generate Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClear,\n          className: \"clear-btn\",\n          children: \"\\uD83D\\uDDD1\\uFE0F \\u6E05\\u7A7A\\u5386\\u53F2 / Clear History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"history-layout\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sent-events-sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCE4 \\u53D1\\u9001\\u7684\\u4E8B\\u4EF6 / Sent Events\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"event-count\",\n            children: [getSentEventsCount(), \" \\u4E2A\\u4E8B\\u4EF6\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sent-events-list\",\n          children: getSentEvents().length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-icon\",\n              children: \"\\uD83D\\uDCED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"empty-text\",\n              children: \"\\u6682\\u65E0\\u53D1\\u9001\\u4E8B\\u4EF6 / No sent events yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"empty-subtext\",\n              children: \"\\u53D1\\u9001\\u4EFB\\u52A1\\u4EE5\\u67E5\\u770B\\u4E8B\\u4EF6\\u8BE6\\u60C5 / Send tasks to view event details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 15\n          }, this) : getSentEvents().map((event, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `sent-event-item ${selectedSentEvent === index ? 'selected' : ''}`,\n            onClick: () => setSelectedSentEvent(index),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"event-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"event-icon\",\n                children: getEventIcon(event.type)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"event-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"event-title\",\n                  children: getEventTypeLabel(event.type)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"event-meta\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"event-time\",\n                    children: event.timestamp ? new Date(event.timestamp).toLocaleTimeString() : 'æœªçŸ¥æ—¶é—´'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"event-summary\",\n              children: getSentEventSummary(event)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"interactions-detail\",\n        children: selectedSentEvent !== null ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-view\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83E\\uDD16 \\u667A\\u80FD\\u4F53\\u4EA4\\u4E92\\u8BB0\\u5F55 / Agent Interaction Records\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"close-detail\",\n              onClick: () => setSelectedSentEvent(null),\n              children: \"\\u2715\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-content\",\n            children: (() => {\n              const sentEvent = getSentEvents()[selectedSentEvent];\n              if (!sentEvent) return null;\n\n              // è·å–ä¸è¿™ä¸ªå‘é€äº‹ä»¶ç›¸å…³çš„æ‰€æœ‰å“åº”äº‹ä»¶\n              const relatedEvents = getRelatedEvents(sentEvent);\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"interaction-flow\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"sent-event-detail\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detail-section-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"section-icon\",\n                      children: \"\\uD83D\\uDCE4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 480,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"section-title\",\n                      children: \"\\u53D1\\u9001\\u7684\\u4E8B\\u4EF6\\u8BE6\\u60C5 / Sent Event Details\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 481,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 479,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"event-detail-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"detail-item\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"\\u4E8B\\u4EF6\\u7C7B\\u578B / Event Type:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 485,\n                        columnNumber: 29\n                      }, this), \" \", getEventTypeLabel(sentEvent.type)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 484,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"detail-item\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"\\u53D1\\u9001\\u65F6\\u95F4 / Sent Time:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 488,\n                        columnNumber: 29\n                      }, this), \" \", new Date(sentEvent.timestamp).toLocaleString()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 487,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"detail-item\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"\\u4E8B\\u4EF6\\u8BE6\\u60C5 / Event Details:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 491,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"event-payload-detail\",\n                        children: renderEventContent(sentEvent.type, sentEvent.payload)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 492,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 490,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 483,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"agent-responses\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detail-section-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"section-icon\",\n                      children: \"\\uD83E\\uDD16\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 502,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"section-title\",\n                      children: \"\\u667A\\u80FD\\u4F53\\u54CD\\u5E94\\u6D41\\u7A0B / Agent Response Flow\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 503,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 501,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"response-timeline\",\n                    children: relatedEvents.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"no-responses\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"no-responses-icon\",\n                        children: \"\\u23F3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 508,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"\\u7B49\\u5F85\\u667A\\u80FD\\u4F53\\u54CD\\u5E94 / Waiting for agent responses...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 509,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 507,\n                      columnNumber: 29\n                    }, this) : relatedEvents.map((event, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"response-item\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"response-header\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"response-icon\",\n                          children: getEventIcon(event.type)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 515,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"response-type\",\n                          children: getEventTypeLabel(event.type)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 516,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"response-time\",\n                          children: new Date(event.timestamp).toLocaleTimeString()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 517,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: `expand-btn ${expandedEvents.has(`response_${selectedSentEvent}_${index}`) ? 'expanded' : ''}`,\n                          onClick: () => {\n                            const eventKey = `response_${selectedSentEvent}_${index}`;\n                            const newExpanded = new Set(expandedEvents);\n                            if (newExpanded.has(eventKey)) {\n                              newExpanded.delete(eventKey);\n                            } else {\n                              newExpanded.add(eventKey);\n                            }\n                            setExpandedEvents(newExpanded);\n                          },\n                          children: expandedEvents.has(`response_${selectedSentEvent}_${index}`) ? 'â–¼' : 'â–¶'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 518,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 514,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"response-summary\",\n                        children: getEventSummary(event)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 536,\n                        columnNumber: 33\n                      }, this), expandedEvents.has(`response_${selectedSentEvent}_${index}`) && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"response-details\",\n                        children: renderEventContent(event.type, event.payload)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 542,\n                        columnNumber: 35\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 513,\n                      columnNumber: 31\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 505,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 21\n              }, this);\n            })()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-placeholder\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"placeholder-icon\",\n            children: \"\\uD83D\\uDC46\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"placeholder-text\",\n            children: \"\\u9009\\u62E9\\u5DE6\\u4FA7\\u4E8B\\u4EF6\\u67E5\\u770B\\u667A\\u80FD\\u4F53\\u4EA4\\u4E92\\u8BB0\\u5F55\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"placeholder-subtext\",\n            children: \"Click on a sent event to view agent interaction records\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"history-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"footer-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"\\u603B\\u4E8B\\u4EF6 / Total Events:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: stats.total\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"\\u663E\\u793A / Showing:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: getSentEvents().length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 572,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 566,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 369,\n    columnNumber: 5\n  }, this);\n};\n_s(InteractionHistory, \"BC5e3VzcqkkuXPrM/gjjVo1QS0Y=\");\n_c = InteractionHistory;\nexport default InteractionHistory;\nvar _c;\n$RefreshReg$(_c, \"InteractionHistory\");","map":{"version":3,"names":["React","useState","WebSocketService","jsxDEV","_jsxDEV","Fragment","_Fragment","InteractionHistory","events","onClear","onGenerateReport","readyState","connectionStats","_s","selectedSentEvent","setSelectedSentEvent","expandedEvents","setExpandedEvents","Set","getStatusPill","className","children","fileName","_jsxFileName","lineNumber","columnNumber","handleReconnect","reconnect","getEventSummary","event","type","payload","agent","result","substring","total_agents","details","title","getEventIcon","icons","getEventTypeLabel","labels","renderEvent","index","timestamp","time","Date","toLocaleTimeString","icon","typeLabel","eventCard","onClick","viewEventDetails","replayEvent","retryEvent","renderEventContent","responses","map","response","location","description","area","alert_type","severity","available_spots","safety_status","require_human_intervention","start_location","end_location","passengers","JSON","stringify","alert","confirm","getEventStats","total","length","byType","reduce","acc","getSentEvents","sentEventTypes","filter","includes","getSentEventsCount","getSentEventSummary","getRelatedEvents","sentEvent","sentTime","timeWindow","responseEventTypes","eventTime","timeDiff","Math","abs","getTime","sort","a","b","stats","userId","activeConnections","totalConnections","relatedEvents","toLocaleString","has","eventKey","newExpanded","delete","add","_c","$RefreshReg$"],"sources":["/Users/Apple/Desktop/multi-agent-dsl-final/frontend/src/components/InteractionHistory.jsx"],"sourcesContent":["// frontend/src/components/InteractionHistory.jsx\nimport React, { useState } from 'react';\nimport './InteractionHistory.css';\nimport WebSocketService from './WebSocketService';\n\nconst InteractionHistory = ({ events = [], onClear, onGenerateReport, readyState, connectionStats }) => {\n  const [selectedSentEvent, setSelectedSentEvent] = useState(null);\n  const [expandedEvents, setExpandedEvents] = useState(new Set());\n\n  const getStatusPill = () => {\n    switch (readyState) {\n      case 0: // CONNECTING\n        return <span className=\"pill pill-status-connecting\">ğŸ”„ è¿æ¥ä¸­ / Connecting...</span>;\n      case 1: // OPEN\n        return <span className=\"pill pill-status-open\">âœ… å·²è¿æ¥ / Connected</span>;\n      case 2: // CLOSING\n        return <span className=\"pill pill-status-closing\">â³ æ–­å¼€ä¸­ / Disconnecting...</span>;\n      case 3: // CLOSED\n        return <span className=\"pill pill-status-closed\">âŒ æœåŠ¡ä¸å¯ç”¨ / Service Unavailable</span>;\n      default:\n        return <span className=\"pill pill-status-closed\">âŒ æœåŠ¡ä¸å¯ç”¨ / Service Unavailable</span>;\n    }\n  };\n\n  const handleReconnect = () => {\n    WebSocketService.reconnect();\n  };\n\n  // è·å–äº‹ä»¶æ‘˜è¦\n  const getEventSummary = (event) => {\n    switch (event.type) {\n      case 'main_task_result':\n        return `${event.payload.agent}: ${event.payload.result.substring(0, 50)}...`;\n      case 'coordination_result':\n        return `ååŒå®Œæˆ: ${event.payload.total_agents}ä¸ªæ™ºèƒ½ä½“å“åº”`;\n      case 'workflow_complete':\n        return 'å·¥ä½œæµå®Œæˆ';\n      case 'agent_response':\n        return `${event.payload.agent}: ${event.payload.result.substring(0, 50)}...`;\n      case 'agent_message':\n        return event.payload.substring(0, 50) + '...';\n      case 'analysis_report':\n        return 'åˆ†ææŠ¥å‘Šå·²ç”Ÿæˆ';\n      case 'simulation_log':\n        return event.payload.details ? event.payload.details.substring(0, 50) + '...' : 'æ¨¡æ‹Ÿæ—¥å¿—';\n      default:\n        return event.title || event.type;\n    }\n  };\n\n  const getEventIcon = (type) => {\n    const icons = {\n      'workflow_start': 'ğŸš€',\n      'main_task_result': 'ğŸ‘‘', // Master Agent ä½¿ç”¨çš‡å† å›¾æ ‡\n      'coordination_start': 'ğŸ¤',\n      'coordination_result': 'ğŸ¯',\n      'workflow_complete': 'ğŸ',\n      'agent_message': 'ğŸ¤–',\n      'agent_response': 'ğŸ’¬',\n      'analysis_report': 'ğŸ“Š',\n      'traffic_incident': 'ğŸš—',\n      'weather_alert': 'ğŸŒ§ï¸',\n      'parking_update': 'ğŸ…¿ï¸',\n      'safety_inspection': 'ğŸ›¡ï¸',\n      'autonomous_driving': 'ğŸš™',\n      'traffic_monitor': 'ğŸš¦',\n      'simulation_log': 'ğŸ“',\n      'error': 'âŒ',\n      'ping': 'ğŸ“¡',\n      'default': 'ğŸ“'\n    };\n    return icons[type] || icons['default'];\n  };\n\n  const getEventTypeLabel = (type) => {\n    const labels = {\n      'workflow_start': 'å·¥ä½œæµå¯åŠ¨ / Workflow Start',\n      'main_task_result': 'ä¸»æ™ºèƒ½ä½“åè°ƒ / Master Agent Coordination',\n      'coordination_start': 'å­æ™ºèƒ½ä½“åè°ƒ / Sub Agent Coordination',\n      'coordination_result': 'å­æ™ºèƒ½ä½“ååŒ / Sub Agent Collaboration',\n      'workflow_complete': 'å·¥ä½œæµå®Œæˆ / Workflow Complete',\n      'agent_message': 'æ™ºèƒ½ä½“æ¶ˆæ¯ / Agent Message',\n      'agent_response': 'æ™ºèƒ½ä½“å“åº” / Agent Response',\n      'analysis_report': 'åˆ†ææŠ¥å‘Š / Analysis Report',\n      'traffic_incident': 'äº¤é€šäº‹ä»¶ / Traffic Incident',\n      'weather_alert': 'å¤©æ°”è­¦æŠ¥ / Weather Alert',\n      'parking_update': 'åœè½¦æ›´æ–° / Parking Update',\n      'safety_inspection': 'å®‰å…¨æ£€æŸ¥ / Safety Inspection',\n      'autonomous_driving': 'è‡ªåŠ¨é©¾é©¶ / Autonomous Driving',\n      'traffic_monitor': 'äº¤é€šç›‘æ§ / Traffic Monitor',\n      'simulation_log': 'æ¨¡æ‹Ÿæ—¥å¿— / Simulation Log',\n      'error': 'é”™è¯¯ / Error',\n      'ping': 'å¿ƒè·³ / Ping',\n      'default': 'æœªçŸ¥äº‹ä»¶ / Unknown Event'\n    };\n    return labels[type] || labels['default'];\n  };\n\n  const renderEvent = (event, index) => {\n    if (!event) {\n      return <p>No event data</p>;\n    }\n\n    const { type, payload, title, timestamp } = event;\n    const time = timestamp ? new Date(timestamp).toLocaleTimeString() : 'No timestamp';\n    const icon = getEventIcon(type);\n    const typeLabel = getEventTypeLabel(type);\n\n    const eventCard = (\n      <div className={`event-card event-${type}`} key={`${type}-${timestamp || index}-${index}`}>\n        <div className=\"event-header\">\n          <div className=\"event-icon\">{icon}</div>\n          <div className=\"event-info\">\n            <h4 className=\"event-title\">{title || typeLabel}</h4>\n            <span className=\"event-time\">{time}</span>\n          </div>\n          <div className=\"event-actions\">\n            <button \n              className=\"action-btn view-btn\" \n              onClick={() => viewEventDetails(event)}\n              title=\"æŸ¥çœ‹è¯¦æƒ… / View Details\"\n            >\n              ğŸ‘ï¸\n            </button>\n            {type === 'agent_response' && (\n              <button \n                className=\"action-btn replay-btn\" \n                onClick={() => replayEvent(event)}\n                title=\"é‡æ”¾äº‹ä»¶ / Replay Event\"\n              >\n                ğŸ”„\n              </button>\n            )}\n            {type === 'error' && (\n              <button \n                className=\"action-btn retry-btn\" \n                onClick={() => retryEvent(event)}\n                title=\"é‡è¯• / Retry\"\n              >\n                âš¡\n              </button>\n            )}\n          </div>\n        </div>\n        <div className=\"event-content\">\n          {renderEventContent(type, payload)}\n        </div>\n      </div>\n    );\n\n    return eventCard;\n  };\n\n  const renderEventContent = (type, payload) => {\n    switch (type) {\n      case 'workflow_start':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\">{payload}</p>\n          </div>\n        );\n      case 'main_task_result':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>{payload.agent}:</strong> {payload.result}</p>\n          </div>\n        );\n      case 'coordination_start':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\">{payload}</p>\n          </div>\n        );\n      case 'coordination_result':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>ååŒå®Œæˆ:</strong> {payload.total_agents}ä¸ªæ™ºèƒ½ä½“å“åº”</p>\n            <div className=\"responses-summary\">\n              {payload.responses.map((response, index) => (\n                <div key={index} className=\"response-summary\">\n                  <span className=\"response-agent\">{response.agent}:</span>\n                  <span className=\"response-text\">{response.result.substring(0, 100)}...</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        );\n      case 'workflow_complete':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\">{payload}</p>\n          </div>\n        );\n      case 'agent_message':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\">{payload}</p>\n          </div>\n        );\n      case 'agent_response':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>{payload.agent}:</strong> {payload.result}</p>\n          </div>\n        );\n      case 'analysis_report':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\">ğŸ“Š åˆ†ææŠ¥å‘Šå·²ç”Ÿæˆ</p>\n          </div>\n        );\n      case 'traffic_incident':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>ä½ç½®:</strong> {payload.location} - {payload.description}</p>\n          </div>\n        );\n      case 'weather_alert':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>åŒºåŸŸ:</strong> {payload.area} - <strong>ç±»å‹:</strong> {payload.alert_type} - <strong>ä¸¥é‡ç¨‹åº¦:</strong> {payload.severity}</p>\n          </div>\n        );\n      case 'parking_update':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>ä½ç½®:</strong> {payload.location} - <strong>å¯ç”¨è½¦ä½:</strong> {payload.available_spots}</p>\n          </div>\n        );\n      case 'safety_inspection':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>ä½ç½®:</strong> {payload.location} - <strong>å®‰å…¨çŠ¶æ€:</strong> {payload.safety_status} - <strong>éœ€è¦äººå·¥å¹²é¢„:</strong> {payload.require_human_intervention ? 'æ˜¯' : 'å¦'}</p>\n          </div>\n        );\n      case 'autonomous_driving':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>èµ·ç‚¹:</strong> {payload.start_location} - <strong>ç»ˆç‚¹:</strong> {payload.end_location} - <strong>ä¹˜å®¢æ•°:</strong> {payload.passengers}</p>\n          </div>\n        );\n      case 'traffic_monitor':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\"><strong>äº¤é€šç›‘æ§æ•°æ®:</strong> {JSON.stringify(payload)}</p>\n          </div>\n        );\n      case 'simulation_log':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\">{payload.details || payload}</p>\n          </div>\n        );\n      case 'error':\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-error\">{payload}</p>\n          </div>\n        );\n      case 'ping':\n        return null; // Don't display ping messages\n      default:\n        return (\n          <div className=\"event-payload\">\n            <p className=\"payload-text\">{JSON.stringify(payload)}</p>\n          </div>\n        );\n    }\n  };\n\n  const viewEventDetails = (event) => {\n    alert(`äº‹ä»¶è¯¦æƒ… / Event Details\\n\\nç±»å‹ / Type: ${getEventTypeLabel(event.type)}\\næ—¶é—´ / Time: ${event.timestamp}\\n\\nè¯¦ç»†ä¿¡æ¯å°†åœ¨æ¨¡æ€æ¡†ä¸­æ˜¾ç¤º / Detailed information will be shown in a modal.`);\n  };\n\n  const replayEvent = (event) => {\n    if (confirm(`ç¡®å®šè¦é‡æ”¾æ­¤äº‹ä»¶å—ï¼Ÿ / Are you sure you want to replay this event?`)) {\n      // è¿™é‡Œå¯ä»¥æ·»åŠ é‡æ”¾é€»è¾‘\n      alert('äº‹ä»¶å·²é‡æ”¾ / Event replayed successfully!');\n    }\n  };\n\n  const retryEvent = (event) => {\n    if (confirm(`ç¡®å®šè¦é‡è¯•æ­¤äº‹ä»¶å—ï¼Ÿ / Are you sure you want to retry this event?`)) {\n      // è¿™é‡Œå¯ä»¥æ·»åŠ é‡è¯•é€»è¾‘\n      alert('äº‹ä»¶å·²é‡è¯• / Event retried successfully!');\n    }\n  };\n\n  const getEventStats = () => {\n    const total = events.length;\n    const byType = events.reduce((acc, event) => {\n      acc[event.type] = (acc[event.type] || 0) + 1;\n      return acc;\n    }, {});\n    return { total, byType };\n  };\n\n  // è·å–å‘é€çš„äº‹ä»¶ï¼ˆç”¨æˆ·ä¸»åŠ¨å‘é€çš„äº‹ä»¶ï¼‰\n  const getSentEvents = () => {\n    const sentEventTypes = ['weather_alert', 'parking_update', 'safety_inspection', 'autonomous_driving', 'traffic_monitor'];\n    return events.filter(event => sentEventTypes.includes(event.type));\n  };\n\n  // è·å–å‘é€äº‹ä»¶æ•°é‡\n  const getSentEventsCount = () => {\n    return getSentEvents().length;\n  };\n\n  // è·å–å‘é€äº‹ä»¶æ‘˜è¦\n  const getSentEventSummary = (event) => {\n    if (!event || !event.payload) {\n      return event?.title || event?.type || 'æœªçŸ¥äº‹ä»¶';\n    }\n    \n    switch (event.type) {\n      case 'weather_alert':\n        return `åŒºåŸŸ: ${event.payload.area || 'æœªçŸ¥'} - ç±»å‹: ${event.payload.alert_type || 'æœªçŸ¥'}`;\n      case 'parking_update':\n        return `ä½ç½®: ${event.payload.location || 'æœªçŸ¥'} - å¯ç”¨è½¦ä½: ${event.payload.available_spots || 'æœªçŸ¥'}`;\n      case 'safety_inspection':\n        return `ä½ç½®: ${event.payload.location || 'æœªçŸ¥'} - çŠ¶æ€: ${event.payload.safety_status || 'æœªçŸ¥'}`;\n      case 'autonomous_driving':\n        return `èµ·ç‚¹: ${event.payload.start_location || 'æœªçŸ¥'} - ç»ˆç‚¹: ${event.payload.end_location || 'æœªçŸ¥'}`;\n      case 'traffic_monitor':\n        return `äº¤é€šç›‘æ§æ•°æ®`;\n      default:\n        return event.title || event.type;\n    }\n  };\n\n  // è·å–ä¸å‘é€äº‹ä»¶ç›¸å…³çš„å“åº”äº‹ä»¶\n  const getRelatedEvents = (sentEvent) => {\n    if (!sentEvent || !sentEvent.timestamp) {\n      return [];\n    }\n    \n    const sentTime = new Date(sentEvent.timestamp);\n    const timeWindow = 10 * 60 * 1000; // å¢åŠ åˆ°10åˆ†é’Ÿæ—¶é—´çª—å£\n    \n    // å®šä¹‰æ™ºèƒ½ä½“å“åº”äº‹ä»¶ç±»å‹\n    const responseEventTypes = [\n      'workflow_start',\n      'main_task_result', \n      'coordination_start',\n      'coordination_result',\n      'workflow_complete',\n      'agent_message',\n      'agent_response',\n      'analysis_report',\n      'simulation_log'\n    ];\n    \n    return events.filter(event => {\n      if (!event || !event.timestamp) return false;\n      \n      const eventTime = new Date(event.timestamp);\n      const timeDiff = Math.abs(eventTime.getTime() - sentTime.getTime());\n      \n      // åœ¨æ—¶é—´çª—å£å†…ï¼Œæ˜¯å“åº”äº‹ä»¶ç±»å‹ï¼Œä¸”ä¸æ˜¯å‘é€äº‹ä»¶æœ¬èº«\n      return timeDiff <= timeWindow && \n             responseEventTypes.includes(event.type) && \n             event.type !== sentEvent.type;\n    }).sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));\n  };\n\n  const stats = getEventStats();\n\n  return (\n    <div className=\"interaction-record card\">\n      <div className=\"history-header\">\n        <h2 className=\"card__title\">ğŸ“Š äº¤äº’å†å² / Interaction History</h2>\n        <div className=\"header-controls\">\n          {getStatusPill()}\n          {readyState !== 1 && (\n            <button onClick={handleReconnect} className=\"reconnect-btn\">\n              ğŸ”„ é‡è¿ / Reconnect\n            </button>\n          )}\n        </div>\n      </div>\n      \n      {/* è¿æ¥çŠ¶æ€ä¿¡æ¯ */}\n      <div className=\"connection-info\">\n        <div className=\"connection-details\">\n          <span className=\"connection-item\">\n            <strong>æ¶ˆæ¯æ•° / Messages:</strong> {events.length}\n          </span>\n          <span className=\"connection-item\">\n            <strong>åç«¯ / Backend:</strong> http://localhost:8008\n          </span>\n          {connectionStats && (\n            <>\n              <span className=\"connection-item\">\n                <strong>ç”¨æˆ·ID / User ID:</strong> {connectionStats.userId}\n              </span>\n              <span className=\"connection-item\">\n                <strong>æ´»è·ƒè¿æ¥ / Active Connections:</strong> {connectionStats.activeConnections}/{connectionStats.totalConnections}\n              </span>\n            </>\n          )}\n        </div>\n      </div>\n\n      <div className=\"history-controls\">\n        <div className=\"action-buttons\">\n          <button onClick={onGenerateReport} className=\"generate-btn\">\n            ğŸ“„ ç”ŸæˆæŠ¥å‘Š / Generate Report\n          </button>\n          <button onClick={onClear} className=\"clear-btn\">\n            ğŸ—‘ï¸ æ¸…ç©ºå†å² / Clear History\n          </button>\n        </div>\n      </div>\n\n      <div className=\"history-layout\">\n        {/* å·¦ä¾§ï¼šå‘é€çš„äº‹ä»¶è¯¦æƒ… */}\n        <div className=\"sent-events-sidebar\">\n          <div className=\"sidebar-header\">\n            <h3>ğŸ“¤ å‘é€çš„äº‹ä»¶ / Sent Events</h3>\n            <span className=\"event-count\">{getSentEventsCount()} ä¸ªäº‹ä»¶</span>\n          </div>\n          <div className=\"sent-events-list\">\n            {getSentEvents().length === 0 ? (\n              <div className=\"empty-state\">\n                <div className=\"empty-icon\">ğŸ“­</div>\n                <p className=\"empty-text\">æš‚æ— å‘é€äº‹ä»¶ / No sent events yet</p>\n                <p className=\"empty-subtext\">å‘é€ä»»åŠ¡ä»¥æŸ¥çœ‹äº‹ä»¶è¯¦æƒ… / Send tasks to view event details</p>\n              </div>\n            ) : (\n              getSentEvents().map((event, index) => (\n                <div \n                  key={index} \n                  className={`sent-event-item ${selectedSentEvent === index ? 'selected' : ''}`}\n                  onClick={() => setSelectedSentEvent(index)}\n                >\n                  <div className=\"event-header\">\n                    <span className=\"event-icon\">{getEventIcon(event.type)}</span>\n                    <div className=\"event-info\">\n                      <div className=\"event-title\">{getEventTypeLabel(event.type)}</div>\n                      <div className=\"event-meta\">\n                        <span className=\"event-time\">{event.timestamp ? new Date(event.timestamp).toLocaleTimeString() : 'æœªçŸ¥æ—¶é—´'}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"event-summary\">\n                    {getSentEventSummary(event)}\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n\n        {/* å³ä¾§ï¼šäº¤äº’è®°å½•å’Œæ™ºèƒ½ä½“å“åº” */}\n        <div className=\"interactions-detail\">\n          {selectedSentEvent !== null ? (\n            <div className=\"detail-view\">\n              <div className=\"detail-header\">\n                <h3>ğŸ¤– æ™ºèƒ½ä½“äº¤äº’è®°å½• / Agent Interaction Records</h3>\n                <button \n                  className=\"close-detail\"\n                  onClick={() => setSelectedSentEvent(null)}\n                >\n                  âœ•\n                </button>\n              </div>\n              <div className=\"detail-content\">\n                {(() => {\n                  const sentEvent = getSentEvents()[selectedSentEvent];\n                  if (!sentEvent) return null;\n                  \n                  // è·å–ä¸è¿™ä¸ªå‘é€äº‹ä»¶ç›¸å…³çš„æ‰€æœ‰å“åº”äº‹ä»¶\n                  const relatedEvents = getRelatedEvents(sentEvent);\n                  \n                  return (\n                    <div className=\"interaction-flow\">\n                      {/* æ˜¾ç¤ºå‘é€çš„äº‹ä»¶è¯¦æƒ… */}\n                      <div className=\"sent-event-detail\">\n                        <div className=\"detail-section-header\">\n                          <span className=\"section-icon\">ğŸ“¤</span>\n                          <span className=\"section-title\">å‘é€çš„äº‹ä»¶è¯¦æƒ… / Sent Event Details</span>\n                        </div>\n                        <div className=\"event-detail-content\">\n                          <div className=\"detail-item\">\n                            <strong>äº‹ä»¶ç±»å‹ / Event Type:</strong> {getEventTypeLabel(sentEvent.type)}\n                          </div>\n                          <div className=\"detail-item\">\n                            <strong>å‘é€æ—¶é—´ / Sent Time:</strong> {new Date(sentEvent.timestamp).toLocaleString()}\n                          </div>\n                          <div className=\"detail-item\">\n                            <strong>äº‹ä»¶è¯¦æƒ… / Event Details:</strong>\n                            <div className=\"event-payload-detail\">\n                              {renderEventContent(sentEvent.type, sentEvent.payload)}\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* æ˜¾ç¤ºæ™ºèƒ½ä½“å“åº”æµç¨‹ */}\n                      <div className=\"agent-responses\">\n                        <div className=\"detail-section-header\">\n                          <span className=\"section-icon\">ğŸ¤–</span>\n                          <span className=\"section-title\">æ™ºèƒ½ä½“å“åº”æµç¨‹ / Agent Response Flow</span>\n                        </div>\n                        <div className=\"response-timeline\">\n                          {relatedEvents.length === 0 ? (\n                            <div className=\"no-responses\">\n                              <div className=\"no-responses-icon\">â³</div>\n                              <p>ç­‰å¾…æ™ºèƒ½ä½“å“åº” / Waiting for agent responses...</p>\n                            </div>\n                          ) : (\n                            relatedEvents.map((event, index) => (\n                              <div key={index} className=\"response-item\">\n                                <div className=\"response-header\">\n                                  <span className=\"response-icon\">{getEventIcon(event.type)}</span>\n                                  <span className=\"response-type\">{getEventTypeLabel(event.type)}</span>\n                                  <span className=\"response-time\">{new Date(event.timestamp).toLocaleTimeString()}</span>\n                                  <button \n                                    className={`expand-btn ${expandedEvents.has(`response_${selectedSentEvent}_${index}`) ? 'expanded' : ''}`}\n                                    onClick={() => {\n                                      const eventKey = `response_${selectedSentEvent}_${index}`;\n                                      const newExpanded = new Set(expandedEvents);\n                                      if (newExpanded.has(eventKey)) {\n                                        newExpanded.delete(eventKey);\n                                      } else {\n                                        newExpanded.add(eventKey);\n                                      }\n                                      setExpandedEvents(newExpanded);\n                                    }}\n                                  >\n                                    {expandedEvents.has(`response_${selectedSentEvent}_${index}`) ? 'â–¼' : 'â–¶'}\n                                  </button>\n                                </div>\n                                \n                                {/* å“åº”æ‘˜è¦ */}\n                                <div className=\"response-summary\">\n                                  {getEventSummary(event)}\n                                </div>\n                                \n                                {/* å±•å¼€çš„è¯¦ç»†å“åº” */}\n                                {expandedEvents.has(`response_${selectedSentEvent}_${index}`) && (\n                                  <div className=\"response-details\">\n                                    {renderEventContent(event.type, event.payload)}\n                                  </div>\n                                )}\n                              </div>\n                            ))\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })()}\n              </div>\n            </div>\n          ) : (\n            <div className=\"detail-placeholder\">\n              <div className=\"placeholder-icon\">ğŸ‘†</div>\n              <p className=\"placeholder-text\">é€‰æ‹©å·¦ä¾§äº‹ä»¶æŸ¥çœ‹æ™ºèƒ½ä½“äº¤äº’è®°å½•</p>\n              <p className=\"placeholder-subtext\">Click on a sent event to view agent interaction records</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"history-footer\">\n        <div className=\"footer-stats\">\n          <span className=\"stat-item\">\n            <span className=\"stat-label\">æ€»äº‹ä»¶ / Total Events:</span>\n            <span className=\"stat-value\">{stats.total}</span>\n          </span>\n          <span className=\"stat-item\">\n            <span className=\"stat-label\">æ˜¾ç¤º / Showing:</span>\n            <span className=\"stat-value\">{getSentEvents().length}</span>\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default InteractionHistory;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAO,0BAA0B;AACjC,OAAOC,gBAAgB,MAAM,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAElD,MAAMC,kBAAkB,GAAGA,CAAC;EAAEC,MAAM,GAAG,EAAE;EAAEC,OAAO;EAAEC,gBAAgB;EAAEC,UAAU;EAAEC;AAAgB,CAAC,KAAK;EAAAC,EAAA;EACtG,MAAM,CAACC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAChE,MAAM,CAACe,cAAc,EAAEC,iBAAiB,CAAC,GAAGhB,QAAQ,CAAC,IAAIiB,GAAG,CAAC,CAAC,CAAC;EAE/D,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC1B,QAAQR,UAAU;MAChB,KAAK,CAAC;QAAE;QACN,oBAAOP,OAAA;UAAMgB,SAAS,EAAC,6BAA6B;UAAAC,QAAA,EAAC;QAAsB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MACpF,KAAK,CAAC;QAAE;QACN,oBAAOrB,OAAA;UAAMgB,SAAS,EAAC,uBAAuB;UAAAC,QAAA,EAAC;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MACzE,KAAK,CAAC;QAAE;QACN,oBAAOrB,OAAA;UAAMgB,SAAS,EAAC,0BAA0B;UAAAC,QAAA,EAAC;QAAwB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MACnF,KAAK,CAAC;QAAE;QACN,oBAAOrB,OAAA;UAAMgB,SAAS,EAAC,yBAAyB;UAAAC,QAAA,EAAC;QAA6B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MACvF;QACE,oBAAOrB,OAAA;UAAMgB,SAAS,EAAC,yBAAyB;UAAAC,QAAA,EAAC;QAA6B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;IACzF;EACF,CAAC;EAED,MAAMC,eAAe,GAAGA,CAAA,KAAM;IAC5BxB,gBAAgB,CAACyB,SAAS,CAAC,CAAC;EAC9B,CAAC;;EAED;EACA,MAAMC,eAAe,GAAIC,KAAK,IAAK;IACjC,QAAQA,KAAK,CAACC,IAAI;MAChB,KAAK,kBAAkB;QACrB,OAAO,GAAGD,KAAK,CAACE,OAAO,CAACC,KAAK,KAAKH,KAAK,CAACE,OAAO,CAACE,MAAM,CAACC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK;MAC9E,KAAK,qBAAqB;QACxB,OAAO,SAASL,KAAK,CAACE,OAAO,CAACI,YAAY,QAAQ;MACpD,KAAK,mBAAmB;QACtB,OAAO,OAAO;MAChB,KAAK,gBAAgB;QACnB,OAAO,GAAGN,KAAK,CAACE,OAAO,CAACC,KAAK,KAAKH,KAAK,CAACE,OAAO,CAACE,MAAM,CAACC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK;MAC9E,KAAK,eAAe;QAClB,OAAOL,KAAK,CAACE,OAAO,CAACG,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,KAAK;MAC/C,KAAK,iBAAiB;QACpB,OAAO,SAAS;MAClB,KAAK,gBAAgB;QACnB,OAAOL,KAAK,CAACE,OAAO,CAACK,OAAO,GAAGP,KAAK,CAACE,OAAO,CAACK,OAAO,CAACF,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,KAAK,GAAG,MAAM;MACxF;QACE,OAAOL,KAAK,CAACQ,KAAK,IAAIR,KAAK,CAACC,IAAI;IACpC;EACF,CAAC;EAED,MAAMQ,YAAY,GAAIR,IAAI,IAAK;IAC7B,MAAMS,KAAK,GAAG;MACZ,gBAAgB,EAAE,IAAI;MACtB,kBAAkB,EAAE,IAAI;MAAE;MAC1B,oBAAoB,EAAE,IAAI;MAC1B,qBAAqB,EAAE,IAAI;MAC3B,mBAAmB,EAAE,IAAI;MACzB,eAAe,EAAE,IAAI;MACrB,gBAAgB,EAAE,IAAI;MACtB,iBAAiB,EAAE,IAAI;MACvB,kBAAkB,EAAE,IAAI;MACxB,eAAe,EAAE,KAAK;MACtB,gBAAgB,EAAE,KAAK;MACvB,mBAAmB,EAAE,KAAK;MAC1B,oBAAoB,EAAE,IAAI;MAC1B,iBAAiB,EAAE,IAAI;MACvB,gBAAgB,EAAE,IAAI;MACtB,OAAO,EAAE,GAAG;MACZ,MAAM,EAAE,IAAI;MACZ,SAAS,EAAE;IACb,CAAC;IACD,OAAOA,KAAK,CAACT,IAAI,CAAC,IAAIS,KAAK,CAAC,SAAS,CAAC;EACxC,CAAC;EAED,MAAMC,iBAAiB,GAAIV,IAAI,IAAK;IAClC,MAAMW,MAAM,GAAG;MACb,gBAAgB,EAAE,wBAAwB;MAC1C,kBAAkB,EAAE,oCAAoC;MACxD,oBAAoB,EAAE,iCAAiC;MACvD,qBAAqB,EAAE,kCAAkC;MACzD,mBAAmB,EAAE,2BAA2B;MAChD,eAAe,EAAE,uBAAuB;MACxC,gBAAgB,EAAE,wBAAwB;MAC1C,iBAAiB,EAAE,wBAAwB;MAC3C,kBAAkB,EAAE,yBAAyB;MAC7C,eAAe,EAAE,sBAAsB;MACvC,gBAAgB,EAAE,uBAAuB;MACzC,mBAAmB,EAAE,0BAA0B;MAC/C,oBAAoB,EAAE,2BAA2B;MACjD,iBAAiB,EAAE,wBAAwB;MAC3C,gBAAgB,EAAE,uBAAuB;MACzC,OAAO,EAAE,YAAY;MACrB,MAAM,EAAE,WAAW;MACnB,SAAS,EAAE;IACb,CAAC;IACD,OAAOA,MAAM,CAACX,IAAI,CAAC,IAAIW,MAAM,CAAC,SAAS,CAAC;EAC1C,CAAC;EAED,MAAMC,WAAW,GAAGA,CAACb,KAAK,EAAEc,KAAK,KAAK;IACpC,IAAI,CAACd,KAAK,EAAE;MACV,oBAAOzB,OAAA;QAAAiB,QAAA,EAAG;MAAa;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAC7B;IAEA,MAAM;MAAEK,IAAI;MAAEC,OAAO;MAAEM,KAAK;MAAEO;IAAU,CAAC,GAAGf,KAAK;IACjD,MAAMgB,IAAI,GAAGD,SAAS,GAAG,IAAIE,IAAI,CAACF,SAAS,CAAC,CAACG,kBAAkB,CAAC,CAAC,GAAG,cAAc;IAClF,MAAMC,IAAI,GAAGV,YAAY,CAACR,IAAI,CAAC;IAC/B,MAAMmB,SAAS,GAAGT,iBAAiB,CAACV,IAAI,CAAC;IAEzC,MAAMoB,SAAS,gBACb9C,OAAA;MAAKgB,SAAS,EAAE,oBAAoBU,IAAI,EAAG;MAAAT,QAAA,gBACzCjB,OAAA;QAAKgB,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3BjB,OAAA;UAAKgB,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAE2B;QAAI;UAAA1B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACxCrB,OAAA;UAAKgB,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBjB,OAAA;YAAIgB,SAAS,EAAC,aAAa;YAAAC,QAAA,EAAEgB,KAAK,IAAIY;UAAS;YAAA3B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACrDrB,OAAA;YAAMgB,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAEwB;UAAI;YAAAvB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC,eACNrB,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5BjB,OAAA;YACEgB,SAAS,EAAC,qBAAqB;YAC/B+B,OAAO,EAAEA,CAAA,KAAMC,gBAAgB,CAACvB,KAAK,CAAE;YACvCQ,KAAK,EAAC,yCAAqB;YAAAhB,QAAA,EAC5B;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EACRK,IAAI,KAAK,gBAAgB,iBACxB1B,OAAA;YACEgB,SAAS,EAAC,uBAAuB;YACjC+B,OAAO,EAAEA,CAAA,KAAME,WAAW,CAACxB,KAAK,CAAE;YAClCQ,KAAK,EAAC,yCAAqB;YAAAhB,QAAA,EAC5B;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CACT,EACAK,IAAI,KAAK,OAAO,iBACf1B,OAAA;YACEgB,SAAS,EAAC,sBAAsB;YAChC+B,OAAO,EAAEA,CAAA,KAAMG,UAAU,CAACzB,KAAK,CAAE;YACjCQ,KAAK,EAAC,sBAAY;YAAAhB,QAAA,EACnB;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CACT;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACNrB,OAAA;QAAKgB,SAAS,EAAC,eAAe;QAAAC,QAAA,EAC3BkC,kBAAkB,CAACzB,IAAI,EAAEC,OAAO;MAAC;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/B,CAAC;IAAA,GArCyC,GAAGK,IAAI,IAAIc,SAAS,IAAID,KAAK,IAAIA,KAAK,EAAE;MAAArB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAsCpF,CACN;IAED,OAAOyB,SAAS;EAClB,CAAC;EAED,MAAMK,kBAAkB,GAAGA,CAACzB,IAAI,EAAEC,OAAO,KAAK;IAC5C,QAAQD,IAAI;MACV,KAAK,gBAAgB;QACnB,oBACE1B,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjB,OAAA;YAAGgB,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEU;UAAO;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtC,CAAC;MAEV,KAAK,kBAAkB;QACrB,oBACErB,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjB,OAAA;YAAGgB,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAACjB,OAAA;cAAAiB,QAAA,GAASU,OAAO,CAACC,KAAK,EAAC,GAAC;YAAA;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACM,OAAO,CAACE,MAAM;UAAA;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/E,CAAC;MAEV,KAAK,oBAAoB;QACvB,oBACErB,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjB,OAAA;YAAGgB,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEU;UAAO;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtC,CAAC;MAEV,KAAK,qBAAqB;QACxB,oBACErB,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5BjB,OAAA;YAAGgB,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAACjB,OAAA;cAAAiB,QAAA,EAAQ;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACM,OAAO,CAACI,YAAY,EAAC,sCAAM;UAAA;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACnFrB,OAAA;YAAKgB,SAAS,EAAC,mBAAmB;YAAAC,QAAA,EAC/BU,OAAO,CAACyB,SAAS,CAACC,GAAG,CAAC,CAACC,QAAQ,EAAEf,KAAK,kBACrCvC,OAAA;cAAiBgB,SAAS,EAAC,kBAAkB;cAAAC,QAAA,gBAC3CjB,OAAA;gBAAMgB,SAAS,EAAC,gBAAgB;gBAAAC,QAAA,GAAEqC,QAAQ,CAAC1B,KAAK,EAAC,GAAC;cAAA;gBAAAV,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACzDrB,OAAA;gBAAMgB,SAAS,EAAC,eAAe;gBAAAC,QAAA,GAAEqC,QAAQ,CAACzB,MAAM,CAACC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,EAAC,KAAG;cAAA;gBAAAZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA,GAFrEkB,KAAK;cAAArB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAGV,CACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAEV,KAAK,mBAAmB;QACtB,oBACErB,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjB,OAAA;YAAGgB,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEU;UAAO;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtC,CAAC;MAEV,KAAK,eAAe;QAClB,oBACErB,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjB,OAAA;YAAGgB,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEU;UAAO;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtC,CAAC;MAEV,KAAK,gBAAgB;QACnB,oBACErB,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjB,OAAA;YAAGgB,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAACjB,OAAA;cAAAiB,QAAA,GAASU,OAAO,CAACC,KAAK,EAAC,GAAC;YAAA;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACM,OAAO,CAACE,MAAM;UAAA;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/E,CAAC;MAEV,KAAK,iBAAiB;QACpB,oBACErB,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjB,OAAA;YAAGgB,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAC;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC;MAEV,KAAK,kBAAkB;QACrB,oBACErB,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjB,OAAA;YAAGgB,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAACjB,OAAA;cAAAiB,QAAA,EAAQ;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACM,OAAO,CAAC4B,QAAQ,EAAC,KAAG,EAAC5B,OAAO,CAAC6B,WAAW;UAAA;YAAAtC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5F,CAAC;MAEV,KAAK,eAAe;QAClB,oBACErB,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjB,OAAA;YAAGgB,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAACjB,OAAA;cAAAiB,QAAA,EAAQ;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACM,OAAO,CAAC8B,IAAI,EAAC,KAAG,eAAAzD,OAAA;cAAAiB,QAAA,EAAQ;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACM,OAAO,CAAC+B,UAAU,EAAC,KAAG,eAAA1D,OAAA;cAAAiB,QAAA,EAAQ;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACM,OAAO,CAACgC,QAAQ;UAAA;YAAAzC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxJ,CAAC;MAEV,KAAK,gBAAgB;QACnB,oBACErB,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjB,OAAA;YAAGgB,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAACjB,OAAA;cAAAiB,QAAA,EAAQ;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACM,OAAO,CAAC4B,QAAQ,EAAC,KAAG,eAAAvD,OAAA;cAAAiB,QAAA,EAAQ;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACM,OAAO,CAACiC,eAAe;UAAA;YAAA1C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvH,CAAC;MAEV,KAAK,mBAAmB;QACtB,oBACErB,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjB,OAAA;YAAGgB,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAACjB,OAAA;cAAAiB,QAAA,EAAQ;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACM,OAAO,CAAC4B,QAAQ,EAAC,KAAG,eAAAvD,OAAA;cAAAiB,QAAA,EAAQ;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACM,OAAO,CAACkC,aAAa,EAAC,KAAG,eAAA7D,OAAA;cAAAiB,QAAA,EAAQ;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACM,OAAO,CAACmC,0BAA0B,GAAG,GAAG,GAAG,GAAG;UAAA;YAAA5C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjM,CAAC;MAEV,KAAK,oBAAoB;QACvB,oBACErB,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjB,OAAA;YAAGgB,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAACjB,OAAA;cAAAiB,QAAA,EAAQ;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACM,OAAO,CAACoC,cAAc,EAAC,KAAG,eAAA/D,OAAA;cAAAiB,QAAA,EAAQ;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACM,OAAO,CAACqC,YAAY,EAAC,KAAG,eAAAhE,OAAA;cAAAiB,QAAA,EAAQ;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACM,OAAO,CAACsC,UAAU;UAAA;YAAA/C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrK,CAAC;MAEV,KAAK,iBAAiB;QACpB,oBACErB,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjB,OAAA;YAAGgB,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAACjB,OAAA;cAAAiB,QAAA,EAAQ;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAAC6C,IAAI,CAACC,SAAS,CAACxC,OAAO,CAAC;UAAA;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/E,CAAC;MAEV,KAAK,gBAAgB;QACnB,oBACErB,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjB,OAAA;YAAGgB,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEU,OAAO,CAACK,OAAO,IAAIL;UAAO;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzD,CAAC;MAEV,KAAK,OAAO;QACV,oBACErB,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjB,OAAA;YAAGgB,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAEU;UAAO;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC;MAEV,KAAK,MAAM;QACT,OAAO,IAAI;MAAE;MACf;QACE,oBACErB,OAAA;UAAKgB,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BjB,OAAA;YAAGgB,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEiD,IAAI,CAACC,SAAS,CAACxC,OAAO;UAAC;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtD,CAAC;IAEZ;EACF,CAAC;EAED,MAAM2B,gBAAgB,GAAIvB,KAAK,IAAK;IAClC2C,KAAK,CAAC,sCAAsChC,iBAAiB,CAACX,KAAK,CAACC,IAAI,CAAC,gBAAgBD,KAAK,CAACe,SAAS,mEAAmE,CAAC;EAC9K,CAAC;EAED,MAAMS,WAAW,GAAIxB,KAAK,IAAK;IAC7B,IAAI4C,OAAO,CAAC,0DAA0D,CAAC,EAAE;MACvE;MACAD,KAAK,CAAC,sCAAsC,CAAC;IAC/C;EACF,CAAC;EAED,MAAMlB,UAAU,GAAIzB,KAAK,IAAK;IAC5B,IAAI4C,OAAO,CAAC,yDAAyD,CAAC,EAAE;MACtE;MACAD,KAAK,CAAC,qCAAqC,CAAC;IAC9C;EACF,CAAC;EAED,MAAME,aAAa,GAAGA,CAAA,KAAM;IAC1B,MAAMC,KAAK,GAAGnE,MAAM,CAACoE,MAAM;IAC3B,MAAMC,MAAM,GAAGrE,MAAM,CAACsE,MAAM,CAAC,CAACC,GAAG,EAAElD,KAAK,KAAK;MAC3CkD,GAAG,CAAClD,KAAK,CAACC,IAAI,CAAC,GAAG,CAACiD,GAAG,CAAClD,KAAK,CAACC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;MAC5C,OAAOiD,GAAG;IACZ,CAAC,EAAE,CAAC,CAAC,CAAC;IACN,OAAO;MAAEJ,KAAK;MAAEE;IAAO,CAAC;EAC1B,CAAC;;EAED;EACA,MAAMG,aAAa,GAAGA,CAAA,KAAM;IAC1B,MAAMC,cAAc,GAAG,CAAC,eAAe,EAAE,gBAAgB,EAAE,mBAAmB,EAAE,oBAAoB,EAAE,iBAAiB,CAAC;IACxH,OAAOzE,MAAM,CAAC0E,MAAM,CAACrD,KAAK,IAAIoD,cAAc,CAACE,QAAQ,CAACtD,KAAK,CAACC,IAAI,CAAC,CAAC;EACpE,CAAC;;EAED;EACA,MAAMsD,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,OAAOJ,aAAa,CAAC,CAAC,CAACJ,MAAM;EAC/B,CAAC;;EAED;EACA,MAAMS,mBAAmB,GAAIxD,KAAK,IAAK;IACrC,IAAI,CAACA,KAAK,IAAI,CAACA,KAAK,CAACE,OAAO,EAAE;MAC5B,OAAO,CAAAF,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEQ,KAAK,MAAIR,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEC,IAAI,KAAI,MAAM;IAC9C;IAEA,QAAQD,KAAK,CAACC,IAAI;MAChB,KAAK,eAAe;QAClB,OAAO,OAAOD,KAAK,CAACE,OAAO,CAAC8B,IAAI,IAAI,IAAI,UAAUhC,KAAK,CAACE,OAAO,CAAC+B,UAAU,IAAI,IAAI,EAAE;MACtF,KAAK,gBAAgB;QACnB,OAAO,OAAOjC,KAAK,CAACE,OAAO,CAAC4B,QAAQ,IAAI,IAAI,YAAY9B,KAAK,CAACE,OAAO,CAACiC,eAAe,IAAI,IAAI,EAAE;MACjG,KAAK,mBAAmB;QACtB,OAAO,OAAOnC,KAAK,CAACE,OAAO,CAAC4B,QAAQ,IAAI,IAAI,UAAU9B,KAAK,CAACE,OAAO,CAACkC,aAAa,IAAI,IAAI,EAAE;MAC7F,KAAK,oBAAoB;QACvB,OAAO,OAAOpC,KAAK,CAACE,OAAO,CAACoC,cAAc,IAAI,IAAI,UAAUtC,KAAK,CAACE,OAAO,CAACqC,YAAY,IAAI,IAAI,EAAE;MAClG,KAAK,iBAAiB;QACpB,OAAO,QAAQ;MACjB;QACE,OAAOvC,KAAK,CAACQ,KAAK,IAAIR,KAAK,CAACC,IAAI;IACpC;EACF,CAAC;;EAED;EACA,MAAMwD,gBAAgB,GAAIC,SAAS,IAAK;IACtC,IAAI,CAACA,SAAS,IAAI,CAACA,SAAS,CAAC3C,SAAS,EAAE;MACtC,OAAO,EAAE;IACX;IAEA,MAAM4C,QAAQ,GAAG,IAAI1C,IAAI,CAACyC,SAAS,CAAC3C,SAAS,CAAC;IAC9C,MAAM6C,UAAU,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;;IAEnC;IACA,MAAMC,kBAAkB,GAAG,CACzB,gBAAgB,EAChB,kBAAkB,EAClB,oBAAoB,EACpB,qBAAqB,EACrB,mBAAmB,EACnB,eAAe,EACf,gBAAgB,EAChB,iBAAiB,EACjB,gBAAgB,CACjB;IAED,OAAOlF,MAAM,CAAC0E,MAAM,CAACrD,KAAK,IAAI;MAC5B,IAAI,CAACA,KAAK,IAAI,CAACA,KAAK,CAACe,SAAS,EAAE,OAAO,KAAK;MAE5C,MAAM+C,SAAS,GAAG,IAAI7C,IAAI,CAACjB,KAAK,CAACe,SAAS,CAAC;MAC3C,MAAMgD,QAAQ,GAAGC,IAAI,CAACC,GAAG,CAACH,SAAS,CAACI,OAAO,CAAC,CAAC,GAAGP,QAAQ,CAACO,OAAO,CAAC,CAAC,CAAC;;MAEnE;MACA,OAAOH,QAAQ,IAAIH,UAAU,IACtBC,kBAAkB,CAACP,QAAQ,CAACtD,KAAK,CAACC,IAAI,CAAC,IACvCD,KAAK,CAACC,IAAI,KAAKyD,SAAS,CAACzD,IAAI;IACtC,CAAC,CAAC,CAACkE,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAIpD,IAAI,CAACmD,CAAC,CAACrD,SAAS,CAAC,GAAG,IAAIE,IAAI,CAACoD,CAAC,CAACtD,SAAS,CAAC,CAAC;EAClE,CAAC;EAED,MAAMuD,KAAK,GAAGzB,aAAa,CAAC,CAAC;EAE7B,oBACEtE,OAAA;IAAKgB,SAAS,EAAC,yBAAyB;IAAAC,QAAA,gBACtCjB,OAAA;MAAKgB,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7BjB,OAAA;QAAIgB,SAAS,EAAC,aAAa;QAAAC,QAAA,EAAC;MAA6B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC9DrB,OAAA;QAAKgB,SAAS,EAAC,iBAAiB;QAAAC,QAAA,GAC7BF,aAAa,CAAC,CAAC,EACfR,UAAU,KAAK,CAAC,iBACfP,OAAA;UAAQ+C,OAAO,EAAEzB,eAAgB;UAACN,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAE5D;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNrB,OAAA;MAAKgB,SAAS,EAAC,iBAAiB;MAAAC,QAAA,eAC9BjB,OAAA;QAAKgB,SAAS,EAAC,oBAAoB;QAAAC,QAAA,gBACjCjB,OAAA;UAAMgB,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC/BjB,OAAA;YAAAiB,QAAA,EAAQ;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC,EAACjB,MAAM,CAACoE,MAAM;QAAA;UAAAtD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3C,CAAC,eACPrB,OAAA;UAAMgB,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC/BjB,OAAA;YAAAiB,QAAA,EAAQ;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,0BAChC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,EACNb,eAAe,iBACdR,OAAA,CAAAE,SAAA;UAAAe,QAAA,gBACEjB,OAAA;YAAMgB,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC/BjB,OAAA;cAAAiB,QAAA,EAAQ;YAAe;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACb,eAAe,CAACwF,MAAM;UAAA;YAAA9E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpD,CAAC,eACPrB,OAAA;YAAMgB,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC/BjB,OAAA;cAAAiB,QAAA,EAAQ;YAA0B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACb,eAAe,CAACyF,iBAAiB,EAAC,GAAC,EAACzF,eAAe,CAAC0F,gBAAgB;UAAA;YAAAhF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7G,CAAC;QAAA,eACP,CACH;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENrB,OAAA;MAAKgB,SAAS,EAAC,kBAAkB;MAAAC,QAAA,eAC/BjB,OAAA;QAAKgB,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BjB,OAAA;UAAQ+C,OAAO,EAAEzC,gBAAiB;UAACU,SAAS,EAAC,cAAc;UAAAC,QAAA,EAAC;QAE5D;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTrB,OAAA;UAAQ+C,OAAO,EAAE1C,OAAQ;UAACW,SAAS,EAAC,WAAW;UAAAC,QAAA,EAAC;QAEhD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENrB,OAAA;MAAKgB,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAE7BjB,OAAA;QAAKgB,SAAS,EAAC,qBAAqB;QAAAC,QAAA,gBAClCjB,OAAA;UAAKgB,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC7BjB,OAAA;YAAAiB,QAAA,EAAI;UAAsB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC/BrB,OAAA;YAAMgB,SAAS,EAAC,aAAa;YAAAC,QAAA,GAAE+D,kBAAkB,CAAC,CAAC,EAAC,qBAAI;UAAA;YAAA9D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5D,CAAC,eACNrB,OAAA;UAAKgB,SAAS,EAAC,kBAAkB;UAAAC,QAAA,EAC9B2D,aAAa,CAAC,CAAC,CAACJ,MAAM,KAAK,CAAC,gBAC3BxE,OAAA;YAAKgB,SAAS,EAAC,aAAa;YAAAC,QAAA,gBAC1BjB,OAAA;cAAKgB,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAC;YAAE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACpCrB,OAAA;cAAGgB,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAC;YAA2B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACzDrB,OAAA;cAAGgB,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAA8C;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5E,CAAC,GAENuD,aAAa,CAAC,CAAC,CAACvB,GAAG,CAAC,CAAC5B,KAAK,EAAEc,KAAK,kBAC/BvC,OAAA;YAEEgB,SAAS,EAAE,mBAAmBN,iBAAiB,KAAK6B,KAAK,GAAG,UAAU,GAAG,EAAE,EAAG;YAC9EQ,OAAO,EAAEA,CAAA,KAAMpC,oBAAoB,CAAC4B,KAAK,CAAE;YAAAtB,QAAA,gBAE3CjB,OAAA;cAAKgB,SAAS,EAAC,cAAc;cAAAC,QAAA,gBAC3BjB,OAAA;gBAAMgB,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAEiB,YAAY,CAACT,KAAK,CAACC,IAAI;cAAC;gBAAAR,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC9DrB,OAAA;gBAAKgB,SAAS,EAAC,YAAY;gBAAAC,QAAA,gBACzBjB,OAAA;kBAAKgB,SAAS,EAAC,aAAa;kBAAAC,QAAA,EAAEmB,iBAAiB,CAACX,KAAK,CAACC,IAAI;gBAAC;kBAAAR,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAClErB,OAAA;kBAAKgB,SAAS,EAAC,YAAY;kBAAAC,QAAA,eACzBjB,OAAA;oBAAMgB,SAAS,EAAC,YAAY;oBAAAC,QAAA,EAAEQ,KAAK,CAACe,SAAS,GAAG,IAAIE,IAAI,CAACjB,KAAK,CAACe,SAAS,CAAC,CAACG,kBAAkB,CAAC,CAAC,GAAG;kBAAM;oBAAAzB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5G,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACNrB,OAAA;cAAKgB,SAAS,EAAC,eAAe;cAAAC,QAAA,EAC3BgE,mBAAmB,CAACxD,KAAK;YAAC;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxB,CAAC;UAAA,GAfDkB,KAAK;YAAArB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAgBP,CACN;QACF;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNrB,OAAA;QAAKgB,SAAS,EAAC,qBAAqB;QAAAC,QAAA,EACjCP,iBAAiB,KAAK,IAAI,gBACzBV,OAAA;UAAKgB,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC1BjB,OAAA;YAAKgB,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5BjB,OAAA;cAAAiB,QAAA,EAAI;YAAsC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC/CrB,OAAA;cACEgB,SAAS,EAAC,cAAc;cACxB+B,OAAO,EAAEA,CAAA,KAAMpC,oBAAoB,CAAC,IAAI,CAAE;cAAAM,QAAA,EAC3C;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eACNrB,OAAA;YAAKgB,SAAS,EAAC,gBAAgB;YAAAC,QAAA,EAC5B,CAAC,MAAM;cACN,MAAMkE,SAAS,GAAGP,aAAa,CAAC,CAAC,CAAClE,iBAAiB,CAAC;cACpD,IAAI,CAACyE,SAAS,EAAE,OAAO,IAAI;;cAE3B;cACA,MAAMgB,aAAa,GAAGjB,gBAAgB,CAACC,SAAS,CAAC;cAEjD,oBACEnF,OAAA;gBAAKgB,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,gBAE/BjB,OAAA;kBAAKgB,SAAS,EAAC,mBAAmB;kBAAAC,QAAA,gBAChCjB,OAAA;oBAAKgB,SAAS,EAAC,uBAAuB;oBAAAC,QAAA,gBACpCjB,OAAA;sBAAMgB,SAAS,EAAC,cAAc;sBAAAC,QAAA,EAAC;oBAAE;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,eACxCrB,OAAA;sBAAMgB,SAAS,EAAC,eAAe;sBAAAC,QAAA,EAAC;oBAA4B;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAChE,CAAC,eACNrB,OAAA;oBAAKgB,SAAS,EAAC,sBAAsB;oBAAAC,QAAA,gBACnCjB,OAAA;sBAAKgB,SAAS,EAAC,aAAa;sBAAAC,QAAA,gBAC1BjB,OAAA;wBAAAiB,QAAA,EAAQ;sBAAkB;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAQ,CAAC,KAAC,EAACe,iBAAiB,CAAC+C,SAAS,CAACzD,IAAI,CAAC;oBAAA;sBAAAR,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACnE,CAAC,eACNrB,OAAA;sBAAKgB,SAAS,EAAC,aAAa;sBAAAC,QAAA,gBAC1BjB,OAAA;wBAAAiB,QAAA,EAAQ;sBAAiB;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAQ,CAAC,KAAC,EAAC,IAAIqB,IAAI,CAACyC,SAAS,CAAC3C,SAAS,CAAC,CAAC4D,cAAc,CAAC,CAAC;oBAAA;sBAAAlF,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC/E,CAAC,eACNrB,OAAA;sBAAKgB,SAAS,EAAC,aAAa;sBAAAC,QAAA,gBAC1BjB,OAAA;wBAAAiB,QAAA,EAAQ;sBAAqB;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAQ,CAAC,eACtCrB,OAAA;wBAAKgB,SAAS,EAAC,sBAAsB;wBAAAC,QAAA,EAClCkC,kBAAkB,CAACgC,SAAS,CAACzD,IAAI,EAAEyD,SAAS,CAACxD,OAAO;sBAAC;wBAAAT,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACnD,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACH,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eAGNrB,OAAA;kBAAKgB,SAAS,EAAC,iBAAiB;kBAAAC,QAAA,gBAC9BjB,OAAA;oBAAKgB,SAAS,EAAC,uBAAuB;oBAAAC,QAAA,gBACpCjB,OAAA;sBAAMgB,SAAS,EAAC,cAAc;sBAAAC,QAAA,EAAC;oBAAE;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,eACxCrB,OAAA;sBAAMgB,SAAS,EAAC,eAAe;sBAAAC,QAAA,EAAC;oBAA6B;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACjE,CAAC,eACNrB,OAAA;oBAAKgB,SAAS,EAAC,mBAAmB;oBAAAC,QAAA,EAC/BkF,aAAa,CAAC3B,MAAM,KAAK,CAAC,gBACzBxE,OAAA;sBAAKgB,SAAS,EAAC,cAAc;sBAAAC,QAAA,gBAC3BjB,OAAA;wBAAKgB,SAAS,EAAC,mBAAmB;wBAAAC,QAAA,EAAC;sBAAC;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAK,CAAC,eAC1CrB,OAAA;wBAAAiB,QAAA,EAAG;sBAAwC;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAG,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC5C,CAAC,GAEN8E,aAAa,CAAC9C,GAAG,CAAC,CAAC5B,KAAK,EAAEc,KAAK,kBAC7BvC,OAAA;sBAAiBgB,SAAS,EAAC,eAAe;sBAAAC,QAAA,gBACxCjB,OAAA;wBAAKgB,SAAS,EAAC,iBAAiB;wBAAAC,QAAA,gBAC9BjB,OAAA;0BAAMgB,SAAS,EAAC,eAAe;0BAAAC,QAAA,EAAEiB,YAAY,CAACT,KAAK,CAACC,IAAI;wBAAC;0BAAAR,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAO,CAAC,eACjErB,OAAA;0BAAMgB,SAAS,EAAC,eAAe;0BAAAC,QAAA,EAAEmB,iBAAiB,CAACX,KAAK,CAACC,IAAI;wBAAC;0BAAAR,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAO,CAAC,eACtErB,OAAA;0BAAMgB,SAAS,EAAC,eAAe;0BAAAC,QAAA,EAAE,IAAIyB,IAAI,CAACjB,KAAK,CAACe,SAAS,CAAC,CAACG,kBAAkB,CAAC;wBAAC;0BAAAzB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAO,CAAC,eACvFrB,OAAA;0BACEgB,SAAS,EAAE,cAAcJ,cAAc,CAACyF,GAAG,CAAC,YAAY3F,iBAAiB,IAAI6B,KAAK,EAAE,CAAC,GAAG,UAAU,GAAG,EAAE,EAAG;0BAC1GQ,OAAO,EAAEA,CAAA,KAAM;4BACb,MAAMuD,QAAQ,GAAG,YAAY5F,iBAAiB,IAAI6B,KAAK,EAAE;4BACzD,MAAMgE,WAAW,GAAG,IAAIzF,GAAG,CAACF,cAAc,CAAC;4BAC3C,IAAI2F,WAAW,CAACF,GAAG,CAACC,QAAQ,CAAC,EAAE;8BAC7BC,WAAW,CAACC,MAAM,CAACF,QAAQ,CAAC;4BAC9B,CAAC,MAAM;8BACLC,WAAW,CAACE,GAAG,CAACH,QAAQ,CAAC;4BAC3B;4BACAzF,iBAAiB,CAAC0F,WAAW,CAAC;0BAChC,CAAE;0BAAAtF,QAAA,EAEDL,cAAc,CAACyF,GAAG,CAAC,YAAY3F,iBAAiB,IAAI6B,KAAK,EAAE,CAAC,GAAG,GAAG,GAAG;wBAAG;0BAAArB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACnE,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACN,CAAC,eAGNrB,OAAA;wBAAKgB,SAAS,EAAC,kBAAkB;wBAAAC,QAAA,EAC9BO,eAAe,CAACC,KAAK;sBAAC;wBAAAP,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACpB,CAAC,EAGLT,cAAc,CAACyF,GAAG,CAAC,YAAY3F,iBAAiB,IAAI6B,KAAK,EAAE,CAAC,iBAC3DvC,OAAA;wBAAKgB,SAAS,EAAC,kBAAkB;wBAAAC,QAAA,EAC9BkC,kBAAkB,CAAC1B,KAAK,CAACC,IAAI,EAAED,KAAK,CAACE,OAAO;sBAAC;wBAAAT,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC3C,CACN;oBAAA,GAhCOkB,KAAK;sBAAArB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAiCV,CACN;kBACF;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACE,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAEV,CAAC,EAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,gBAENrB,OAAA;UAAKgB,SAAS,EAAC,oBAAoB;UAAAC,QAAA,gBACjCjB,OAAA;YAAKgB,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAAC;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC1CrB,OAAA;YAAGgB,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAAC;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACnDrB,OAAA;YAAGgB,SAAS,EAAC,qBAAqB;YAAAC,QAAA,EAAC;UAAuD;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3F;MACN;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENrB,OAAA;MAAKgB,SAAS,EAAC,gBAAgB;MAAAC,QAAA,eAC7BjB,OAAA;QAAKgB,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3BjB,OAAA;UAAMgB,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACzBjB,OAAA;YAAMgB,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAmB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACvDrB,OAAA;YAAMgB,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAE8E,KAAK,CAACxB;UAAK;YAAArD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7C,CAAC,eACPrB,OAAA;UAAMgB,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACzBjB,OAAA;YAAMgB,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACjDrB,OAAA;YAAMgB,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAE2D,aAAa,CAAC,CAAC,CAACJ;UAAM;YAAAtD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACZ,EAAA,CA9jBIN,kBAAkB;AAAAuG,EAAA,GAAlBvG,kBAAkB;AAgkBxB,eAAeA,kBAAkB;AAAC,IAAAuG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}